(function(_,d){typeof exports=="object"&&typeof module<"u"?module.exports=d():typeof define=="function"&&define.amd?define(d):(_=typeof globalThis<"u"?globalThis:_||self,_.kuromoji=d())})(this,function(){"use strict";var gt=Object.defineProperty;var yt=(_,d,v)=>d in _?gt(_,d,{enumerable:!0,configurable:!0,writable:!0,value:v}):_[d]=v;var l=(_,d,v)=>yt(_,typeof d!="symbol"?d+"":d,v);class _{constructor(t){l(this,"str");l(this,"index_mapping");l(this,"length");this.str=t,this.index_mapping=[];for(let e=0;e<t.length;e++){const i=t.charAt(e);this.index_mapping.push(e),_.isSurrogatePair(i)&&e++}this.length=this.index_mapping.length}static isSurrogatePair(t){const e=t.charCodeAt(0);return e>=55296&&e<=56319}slice(t){if(this.index_mapping.length<=t)return"";const e=this.index_mapping[t];return this.str.slice(e)}charAt(t){if(this.str.length<=t)return"";const e=this.index_mapping[t],i=this.index_mapping[t+1];return i==null?this.str.slice(e):this.str.slice(e,i)}charCodeAt(t){if(this.index_mapping.length<=t)return Number.NaN;const e=this.index_mapping[t],i=this.str.charCodeAt(e);let n;return i>=55296&&i<=56319&&e<this.str.length&&(n=this.str.charCodeAt(e+1),n>=56320&&n<=57343)?(i-55296)*1024+n-56320+65536:i}toString(){return this.str}}class d{constructor(t,e,i,n,r,s,o,c){l(this,"name");l(this,"cost");l(this,"start_pos");l(this,"length");l(this,"left_id");l(this,"right_id");l(this,"prev");l(this,"surface_form");l(this,"shortest_cost");l(this,"type");this.name=t,this.cost=e,this.start_pos=i,this.length=n,this.left_id=s,this.right_id=o,this.prev=null,this.surface_form=c,r==="BOS"?this.shortest_cost=0:this.shortest_cost=Number.MAX_VALUE,this.type=r}}class v{constructor(){l(this,"nodes_end_at");l(this,"eos_pos");this.nodes_end_at=[],this.nodes_end_at[0]=[new d(-1,0,0,0,"BOS",0,0,"")],this.eos_pos=1}append(t){const e=t.start_pos+t.length-1;this.eos_pos<e&&(this.eos_pos=e);let i=this.nodes_end_at[e];i==null&&(i=[]),i.push(t),this.nodes_end_at[e]=i}appendEos(){const t=this.nodes_end_at.length;this.eos_pos++,this.nodes_end_at[t]=[new d(-1,0,this.eos_pos,0,"EOS",0,0,"")]}}class Y{constructor(t){l(this,"trie");l(this,"token_info_dictionary");l(this,"unknown_dictionary");this.trie=t.trie,this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary}build(t){const e=new v,i=new _(t);let n,r,s,o,c;for(let a=0;a<i.length;a++){const u=i.slice(a),f=this.trie.commonPrefixSearch(u);for(let k=0;k<f.length;k++){r=f[k].v,n=f[k].k;const A=this.token_info_dictionary.target_map[r];for(let b=0;b<A.length;b++){const p=Number.parseInt(A[b].toString());s=this.token_info_dictionary.dictionary.getShort(p),o=this.token_info_dictionary.dictionary.getShort(p+2),c=this.token_info_dictionary.dictionary.getShort(p+4),e.append(new d(p,c,a+1,n.length,"KNOWN",s,o,n.toString()))}}const y=new _(u),I=new _(y.charAt(0)),S=this.unknown_dictionary.lookup(I.toString());if(f==null||f.length===0||S.is_always_invoke){let k;if(k=I,S.is_grouping&&1<y.length)for(let b=1;b<y.length;b++){const p=y.charAt(b),pt=this.unknown_dictionary.lookup(p);if(S.class_name!==pt.class_name)break;k=new _(k.str+p)}const A=this.unknown_dictionary.target_map[S.class_id];for(let b=0;b<A.length;b++){const p=Number.parseInt(A[b].toString());s=this.unknown_dictionary.dictionary.getShort(p),o=this.unknown_dictionary.dictionary.getShort(p+2),c=this.unknown_dictionary.dictionary.getShort(p+4),e.append(new d(p,c,a+1,k.length,"UNKNOWN",s,o,k.toString()))}}}return e.appendEos(),e}}class H{constructor(t){l(this,"connection_costs");this.connection_costs=t}search(t){const e=this.forward(t);return this.backward(e)}forward(t){let e,i,n;for(e=1;e<=t.eos_pos;e++){const r=t.nodes_end_at[e];if(r!=null)for(i=0;i<r.length;i++){const s=r[i];let o=Number.MAX_VALUE,c=null;const a=t.nodes_end_at[s.start_pos-1];if(a!=null){for(n=0;n<a.length;n++){const u=a[n];let f;s.left_id==null||u.right_id==null?(console.log("Left or right is null"),f=0):f=this.connection_costs.get(u.right_id,s.left_id);const y=u.shortest_cost+f+s.cost;y<o&&(c=u,o=y)}s.prev=c,s.shortest_cost=o}}}return t}backward(t){const e=[];let n=t.nodes_end_at[t.nodes_end_at.length-1][0].prev;if(n==null)return[];for(;n.type!=="BOS";){if(e.push(n),n.prev==null)return[];n=n.prev}return e.reverse()}}const W=/、|。/;class D{constructor(t,e){l(this,"token_info_dictionary");l(this,"unknown_dictionary");l(this,"viterbi_builder");l(this,"viterbi_searcher");l(this,"formatter");this.token_info_dictionary=t.token_info_dictionary,this.unknown_dictionary=t.unknown_dictionary,this.viterbi_builder=new Y(t),this.viterbi_searcher=new H(t.connection_costs),this.formatter=e}static splitByPunctuation(t){const e=[];let i=t;for(;i!=="";){const n=i.search(W);if(n<0){e.push(i);break}e.push(i.substring(0,n+1)),i=i.substring(n+1)}return e}tokenize(t){const e=D.splitByPunctuation(t),i=[];for(let n=0;n<e.length;n++){const r=e[n];this.tokenizeForSentence(r,i)}return i}tokenizeForSentence(t,e=[]){const i=this.getLattice(t),n=this.viterbi_searcher.search(i);let r=0;e.length>0&&(r=e[e.length-1].word_position);for(let s=0;s<n.length;s++){const o=n[s];let c,a,u;o.type==="KNOWN"?(u=this.token_info_dictionary.getFeatures(o.name.toString()),u==null?a=[]:a=u.split(","),c=this.formatter.formatEntry(o.name,r+o.start_pos,o.type,a)):o.type==="UNKNOWN"?(u=this.unknown_dictionary.getFeatures(o.name.toString()),u==null?a=[]:a=u.split(","),c=this.formatter.formatUnknownEntry(o.name,r+o.start_pos,o.type,a,o.surface_form)):c=this.formatter.formatEntry(o.name,r+o.start_pos,o.type,[]),e.push(c)}return e}getLattice(t){return this.viterbi_builder.build(t)}}const U="\0",T=0,g=0,m=-1,P=!0,O=!0,M=4,x=4,X=2,j=(h=1024)=>{const t=(o,c,a)=>{for(let u=c;u<a;u++)o[u]=-u+1;if(0<s.array[s.array.length-1]){let u=s.array.length-2;for(;0<s.array[u];)u--;o[c]=-u}},e=(o,c,a)=>{for(let u=c;u<a;u++)o[u]=-u-1},i=o=>{const c=o*X,a=B(r.signed,r.bytes,c);t(a,r.array.length,c),a.set(r.array),r.array=a;const u=B(s.signed,s.bytes,c);e(u,s.array.length,c),u.set(s.array),s.array=u};let n=g+1;const r={signed:P,bytes:M,array:B(P,M,h)},s={signed:O,bytes:x,array:B(O,x,h)};return r.array[g]=1,s.array[g]=g,t(r.array,g+1,r.array.length),e(s.array,g+1,s.array.length),{getBaseBuffer:()=>r.array,getCheckBuffer:()=>s.array,loadBaseBuffer:function(o){return r.array=o,this},loadCheckBuffer:function(o){return s.array=o,this},size:()=>Math.max(r.array.length,s.array.length),getBase:o=>r.array.length-1<o?-o+1:r.array[o],getCheck:o=>s.array.length-1<o?-o-1:s.array[o],setBase:(o,c)=>{r.array.length-1<o&&i(o),r.array[o]=c},setCheck:(o,c)=>{s.array.length-1<o&&i(o),s.array[o]=c},setFirstUnusedNode:o=>{n=o},getFirstUnusedNode:()=>n,shrink:function(){let o=this.size()-1;for(;!(0<=s.array[o]);)o--;r.array=r.array.subarray(0,o+2),s.array=s.array.subarray(0,o+2)},calc:()=>{let o=0;const c=s.array.length;for(let a=0;a<c;a++)s.array[a]<0&&o++;return{all:c,unused:o,efficiency:(c-o)/c}},dump:function(){let o="",c="",a;for(a=0;a<r.array.length;a++)o=`${o} ${this.getBase(a)}`;for(a=0;a<s.array.length;a++)c=`${c} ${this.getCheck(a)}`;return console.log(`base:${o}`),console.log(`chck:${c}`),`base:${o} chck:${c}`}}};class q{constructor(t){l(this,"bc");l(this,"keys");this.bc=j(t),this.keys=[]}append(t,e){return this.keys.push({k:t,v:e}),this}build(t=this.keys,e=!1){if(t==null)return new z(this.bc);const i=t.map(n=>({k:N(n.k+U),v:n.v}));return e?this.keys=i:this.keys=i.sort((n,r)=>{const s=n.k,o=r.k,c=Math.min(s.length,o.length);for(let a=0;a<c;a++)if(s[a]!==o[a])return s[a]-o[a];return s.length-o.length}),this._build(g,0,0,this.keys.length),new z(this.bc)}_build(t,e,i,n){const r=this.getChildrenInfo(e,i,n),s=this.findAllocatableBase(r);this.setBC(t,r,s);for(let o=0;o<r.length;o=o+3){const c=r[o];if(c===T)continue;const a=r[o+1],u=r[o+2],f=s+c;this._build(f,e+1,a,u)}}getChildrenInfo(t,e,i){let n=this.keys[e].k[t],r=0,s=new Int32Array(i*3);s[r++]=n,s[r++]=e;let o=e,c=e;for(;o<e+i;o++){const a=this.keys[o].k[t];n!==a&&(s[r++]=o-c,s[r++]=a,s[r++]=o,n=a,c=o)}return s[r++]=o-c,s=s.subarray(0,r),s}setBC(t,e,i){const n=this.bc;n.setBase(t,i);let r;for(r=0;r<e.length;r=r+3){const s=e[r],o=i+s,c=-n.getBase(o),a=-n.getCheck(o);o!==n.getFirstUnusedNode()?n.setCheck(c,-a):n.setFirstUnusedNode(a),n.setBase(a,-c);const u=t;if(n.setCheck(o,u),s===T){const f=e[r+1];let y=this.keys[f].v;y==null&&(y=0);const I=-y-1;n.setBase(o,I)}}}findAllocatableBase(t){const e=this.bc;let i,n=e.getFirstUnusedNode();for(;;){if(i=n-t[0],i<0){n=-e.getCheck(n);continue}let r=!0;for(let s=0;s<t.length;s=s+3){const o=t[s],c=i+o;if(!this.isUnusedNode(c)){n=-e.getCheck(n),r=!1;break}}if(r)return i}}isUnusedNode(t){const i=this.bc.getCheck(t);return t===g?!1:i<0}}class z{constructor(t){l(this,"bc");this.bc=t,this.bc.shrink()}contain(t){const e=this.bc;t+=U;const i=N(t);let n=g,r=m;for(let s=0;s<i.length;s++){const o=i[s];if(r=this.traverse(n,o),r===m)return!1;if(e.getBase(r)<=0)return!0;n=r}return!1}lookup(t){t+=U;const e=N(t);let i=g,n=m;for(let s=0;s<e.length;s++){const o=e[s];if(n=this.traverse(i,o),n===m)return m;i=n}const r=this.bc.getBase(n);return r<=0?-r-1:m}commonPrefixSearch(t){const e=N(t);let i=g,n=m;const r=[];for(let s=0;s<e.length;s++){const o=e[s];if(n=this.traverse(i,o),n!==m){i=n;const c=this.traverse(n,T);if(c!==m){const a=this.bc.getBase(c),u={k:"",v:0};a<=0&&(u.v=-a-1),u.k=Q(J(e,0,s+1)),r.push(u)}}else break}return r}traverse(t,e){const i=this.bc.getBase(t)+e;return this.bc.getCheck(i)===t?i:m}size(){return this.bc.size()}calc(){return this.bc.calc()}dump(){return this.bc.dump()}}const B=(h,t,e)=>{switch(t){case 1:return new Int8Array(e);case 2:return new Int16Array(e);case 4:return new Int32Array(e);default:throw new RangeError(`Invalid newArray parameter element_bytes:${t}`)}},J=(h,t,e)=>{const i=new ArrayBuffer(e),n=new Uint8Array(i,0,e),r=h.subarray(t,e);return n.set(r),n},N=h=>{const t=new Uint8Array(new ArrayBuffer(h.length*4));let e=0,i=0;for(;e<h.length;){let n;const r=h.charCodeAt(e++);if(r>=55296&&r<=56319){const s=r,o=h.charCodeAt(e++);if(o>=56320&&o<=57343)n=(s-55296)*1024+65536+(o-56320);else throw new Error("malformed surrogate pair")}else n=r;n<128?t[i++]=n:n<2048?(t[i++]=n>>>6|192,t[i++]=n&63|128):n<65536?(t[i++]=n>>>12|224,t[i++]=n>>6&63|128,t[i++]=n&63|128):n<1<<21&&(t[i++]=n>>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=n&63|128)}return t.subarray(0,i)},Q=h=>{let t="",e,i,n,r,s,o,c,a=0;for(;a<h.length;)i=h[a++],i<128?e=i:i>>5===6?(n=h[a++],e=(i&31)<<6|n&63):i>>4===14?(n=h[a++],r=h[a++],e=(i&15)<<12|(n&63)<<6|r&63):(n=h[a++],r=h[a++],s=h[a++],e=(i&7)<<18|(n&63)<<12|(r&63)<<6|s&63),e<65536?t+=String.fromCharCode(e):(e-=65536,o=55296|e>>10,c=56320|e&1023,t+=String.fromCharCode(o,c));return t};function R(h){return new q(h)}function Z(h,t){const e=j(0);return e.loadBaseBuffer(h),e.loadCheckBuffer(t),new z(e)}class L{constructor(t,e){l(this,"buffer");l(this,"forward_dimension");l(this,"backward_dimension");this.forward_dimension=t,this.backward_dimension=e,this.buffer=new Int16Array(t*e+2),this.buffer[0]=t,this.buffer[1]=e}put(t,e,i){const n=t*this.backward_dimension+e+2;if(this.buffer.length<n+1)throw"ConnectionCosts buffer overflow";this.buffer[n]=i}get(t,e){const i=t*this.backward_dimension+e+2;if(this.buffer.length<i+1)throw"ConnectionCosts buffer overflow";return this.buffer[i]}loadConnectionCosts(t){this.forward_dimension=t[0],this.backward_dimension=t[1],this.buffer=t}}const tt=h=>{const t=new Uint8Array(h.length*4);let e=0,i=0;for(;e<h.length;){let n;const r=h.charCodeAt(e++);if(r>=55296&&r<=56319){const s=r,o=h.charCodeAt(e++);if(o>=56320&&o<=57343)n=(s-55296)*1024+65536+(o-56320);else throw new Error("malformed surrogate pair")}else n=r;n<128?t[i++]=n:n<2048?(t[i++]=n>>>6|192,t[i++]=n&63|128):n<65536?(t[i++]=n>>>12|224,t[i++]=n>>6&63|128,t[i++]=n&63|128):n<1<<21&&(t[i++]=n>>>18|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128,t[i++]=n&63|128)}return t.subarray(0,i)},et=h=>{let t="",e,i,n,r,s,o,c,a=0;for(;a<h.length;)i=h[a++],i<128?e=i:i>>5===6?(n=h[a++],e=(i&31)<<6|n&63):i>>4===14?(n=h[a++],r=h[a++],e=(i&15)<<12|(n&63)<<6|r&63):(n=h[a++],r=h[a++],s=h[a++],e=(i&7)<<18|(n&63)<<12|(r&63)<<6|s&63),e<65536?t+=String.fromCharCode(e):(e-=65536,o=55296|e>>10,c=56320|e&1023,t+=String.fromCharCode(o,c));return t};class w{constructor(t){l(this,"buffer");l(this,"position");let e;if(t==null)e=1024*1024;else if(typeof t=="number")e=t;else if(t instanceof Uint8Array){this.buffer=t,this.position=0;return}else throw`${typeof t} is invalid parameter type for ByteBuffer constructor`;this.buffer=new Uint8Array(e),this.position=0}size(){return this.buffer.length}reallocate(){const t=new Uint8Array(this.buffer.length*2);t.set(this.buffer),this.buffer=t}shrink(){return this.buffer=this.buffer.subarray(0,this.position),this.buffer}put(t){this.buffer.length<this.position+1&&this.reallocate(),this.buffer[this.position++]=t}get(t){return t==null&&(t=this.position,this.position+=1),this.buffer.length<t+1?0:this.buffer[t]}putShort(t){if(t=Number(t),65535<t)throw`${t} is over short value`;const e=255&t,i=(65280&t)>>8;this.put(e),this.put(i)}getShort(t){if(t==null&&(t=this.position,this.position+=2),this.buffer.length<t+2)return 0;const e=this.buffer[t];let n=(this.buffer[t+1]<<8)+e;return n&32768&&(n=-(n-1^65535)),n}putInt(t){if(t=Number(t),4294967295<t)throw`${t} is over integer value`;const e=255&t,i=(65280&t)>>8,n=(16711680&t)>>16,r=(4278190080&t)>>24;this.put(e),this.put(i),this.put(n),this.put(r)}getInt(t){if(t==null&&(t=this.position,this.position+=4),this.buffer.length<t+4)return 0;const e=this.buffer[t],i=this.buffer[t+1],n=this.buffer[t+2];return(this.buffer[t+3]<<24)+(n<<16)+(i<<8)+e}readInt(){const t=this.position;return this.position+=4,this.getInt(t)}putString(t){const e=tt(t);for(let i=0;i<e.length;i++)this.put(e[i]);this.put(0)}getString(t=this.position){const e=[];let i;for(;!(this.buffer.length<t+1||(i=this.get(t++),i===0));)e.push(i);return this.position=t,et(e)}}class ${constructor(){l(this,"dictionary");l(this,"target_map");l(this,"pos_buffer");this.dictionary=new w(10*1024*1024),this.target_map={},this.pos_buffer=new w(10*1024*1024)}buildDictionary(t){const e={};for(let i=0;i<t.length;i++){const n=t[i];if(n.length<4)continue;const r=n[0],s=Number(n[1]),o=Number(n[2]),c=Number(n[3]),a=n.slice(4).join(",");(!Number.isFinite(s)||!Number.isFinite(o)||!Number.isFinite(c))&&console.log(n);const u=this.put(s,o,c,r,a);e[u]=r}return this.dictionary.shrink(),this.pos_buffer.shrink(),e}put(t,e,i,n,r){const s=this.dictionary.position,o=this.pos_buffer.position;return this.dictionary.putShort(t),this.dictionary.putShort(e),this.dictionary.putShort(i),this.dictionary.putInt(o),this.pos_buffer.putString(`${n},${r}`),s}addMapping(t,e){let i=this.target_map[t];i==null&&(i=[]),i.push(e),this.target_map[t]=i}targetMapToBuffer(){const t=new w,e=Object.keys(this.target_map).length;t.putInt(e);for(const i in this.target_map){const n=this.target_map[i],r=n.length;t.putInt(Number.parseInt(i)),t.putInt(r);for(let s=0;s<n.length;s++)t.putInt(n[s])}return t.shrink()}loadDictionary(t){return this.dictionary=new w(t),this}loadPosVector(t){return this.pos_buffer=new w(t),this}loadTargetMap(t){const e=new w(t);for(e.position=0,this.target_map={},e.readInt();!(e.buffer.length<e.position+1);){const i=e.readInt(),n=e.readInt();for(let r=0;r<n;r++){const s=e.readInt();this.addMapping(i,s)}}return this}getFeatures(t){const e=Number.parseInt(t);if(Number.isNaN(e))return"";const i=this.dictionary.getInt(e+6);return this.pos_buffer.getString(i)}}class G{constructor(t,e,i,n,r){l(this,"class_id");l(this,"class_name");l(this,"is_always_invoke");l(this,"is_grouping");l(this,"max_length");this.class_id=t,this.class_name=e,this.is_always_invoke=i,this.is_grouping=n,this.max_length=r}}class E{constructor(){l(this,"map");l(this,"lookup_table");this.map=[],this.lookup_table={}}static load(t){const e=new E,i=[],n=new w(t);for(;n.position+1<n.size();){const r=i.length,s=n.get()===1,o=n.get()===1,c=n.getInt(),a=n.getString();i.push(new G(r,a,s,o,c))}return e.init(i),e}init(t){if(t!=null)for(let e=0;e<t.length;e++){const i=t[e];this.map[e]=i,this.lookup_table[i.class_name]=e}}getCharacterClass(t){return this.map[t]}lookup(t){const e=this.lookup_table[t];if(e==null)throw new Error("null");return e}toBuffer(){const t=new w;for(let e=0;e<this.map.length;e++){const i=this.map[e];t.put(Number(i.is_always_invoke)),t.put(Number(i.is_grouping)),t.putInt(i.max_length),t.putString(i.class_name)}return t.shrink(),t.buffer}}const F="DEFAULT";class C{constructor(){l(this,"character_category_map");l(this,"compatible_category_map");l(this,"invoke_definition_map");this.character_category_map=new Uint8Array(65536),this.compatible_category_map=new Uint32Array(65536)}static load(t,e,i){const n=new C;return n.character_category_map=t,n.compatible_category_map=e,n.invoke_definition_map=E.load(i),n}static parseCharCategory(t,e){const i=e[1],n=Number.parseInt(e[2]),r=Number.parseInt(e[3]),s=Number.parseInt(e[4]);if(!Number.isFinite(n)||n!==0&&n!==1)return console.log(`char.def parse error. INVOKE is 0 or 1 in:${n}`),null;if(!Number.isFinite(r)||r!==0&&r!==1)return console.log(`char.def parse error. GROUP is 0 or 1 in:${r}`),null;if(!Number.isFinite(s)||s<0)return console.log(`char.def parse error. LENGTH is 1 to n:${s}`),null;const o=n===1,c=r===1;return new G(t,i,o,c,s)}static parseCategoryMapping(t){const e=Number.parseInt(t[1]),i=t[2],n=3<t.length?t.slice(3):[];return(!Number.isFinite(e)||e<0||e>65535)&&console.log(`char.def parse error. CODE is invalid:${e}`),{start:e,default:i,compatible:n}}static parseRangeCategoryMapping(t){const e=Number.parseInt(t[1]),i=Number.parseInt(t[2]),n=t[3],r=4<t.length?t.slice(4):[];return(!Number.isFinite(e)||e<0||e>65535)&&console.log(`char.def parse error. CODE is invalid:${e}`),(!Number.isFinite(i)||i<0||i>65535)&&console.log(`char.def parse error. CODE is invalid:${i}`),{start:e,end:i,default:n,compatible:r}}initCategoryMappings(t){if(!this.invoke_definition_map)throw new Error("invoke_definition_map is not initialized");let e;if(t!=null)for(let n=0;n<t.length;n++){const r=t[n],s=r.end||r.start;for(e=r.start;e<=s;e++){this.character_category_map[e]=this.invoke_definition_map.lookup(r.default);for(let o=0;o<r.compatible.length;o++){let c=this.compatible_category_map[e];const a=r.compatible[o];if(a==null)continue;const u=this.invoke_definition_map.lookup(a);if(u==null)continue;const f=1<<u;c=c|f,this.compatible_category_map[e]=c}}}const i=this.invoke_definition_map.lookup(F);if(i!=null)for(e=0;e<this.character_category_map.length;e++)this.character_category_map[e]===0&&(this.character_category_map[e]=1<<i)}lookupCompatibleCategory(t){if(!this.invoke_definition_map)throw new Error("invoke_definition_map is not initialized");const e=[],i=t.charCodeAt(0);let n;if(i<this.compatible_category_map.length&&(n=this.compatible_category_map[i]),n==null||n===0)return e;for(let r=0;r<32;r++)if(n<<31-r>>>31===1){const s=this.invoke_definition_map.getCharacterClass(r);if(s==null)continue;e.push(s)}return e}lookup(t){if(!this.invoke_definition_map)throw new Error("invoke_definition_map is not initialized");let e;const i=t.charCodeAt(0);return _.isSurrogatePair(t)?e=this.invoke_definition_map.lookup(F):i<this.character_category_map.length&&(e=this.character_category_map[i]),e==null&&(e=this.invoke_definition_map.lookup(F)),this.invoke_definition_map.getCharacterClass(e)}}class V extends ${constructor(){super();l(this,"character_definition");this.dictionary=new w(10*1024*1024),this.target_map={},this.pos_buffer=new w(10*1024*1024)}characterDefinition(e){return this.character_definition=e,this}lookup(e){if(!this.character_definition)throw new Error("Character definition is not initialized");return this.character_definition.lookup(e)}lookupCompatibleCategory(e){if(!this.character_definition)throw new Error("Character definition is not initialized");return this.character_definition.lookupCompatibleCategory(e)}loadUnknownDictionaries(e,i,n,r,s,o){this.loadDictionary(e),this.loadPosVector(i),this.loadTargetMap(n),this.character_definition=C.load(r,s,o)}}class K{constructor(t,e,i,n){l(this,"trie");l(this,"token_info_dictionary");l(this,"connection_costs");l(this,"unknown_dictionary");t!=null?this.trie=t:this.trie=R(0).build([{k:"",v:1}]),e!=null?this.token_info_dictionary=e:this.token_info_dictionary=new $,i!=null?this.connection_costs=i:this.connection_costs=new L(0,0),n!=null?this.unknown_dictionary=n:this.unknown_dictionary=new V}loadTrie(t,e){return this.trie=Z(t,e),this}loadTokenInfoDictionaries(t,e,i){return this.token_info_dictionary.loadDictionary(t),this.token_info_dictionary.loadPosVector(e),this.token_info_dictionary.loadTargetMap(i),this}loadConnectionCosts(t){return this.connection_costs.loadConnectionCosts(t),this}loadUnknownDictionaries(t,e,i,n,r,s){return this.unknown_dictionary.loadUnknownDictionaries(t,e,i,n,r,s),this}}class nt extends TransformStream{constructor(t){if(!["deflate","deflate-raw","gzip"].includes(t))throw new TypeError(`Unsupported compression format: ${t}`);let e;super({transform(i){if(!e)e=i;else{const n=new Uint8Array(e.length+i.length);n.set(e),n.set(i,e.length),e=n}},flush(i){try{let n;if(t==="gzip")n=Bun.gunzipSync(e);else if(t==="deflate")n=Bun.inflateSync(e);else if(t==="deflate-raw")n=Bun.inflateSync(e,{windowBits:-15});else{i.error(new TypeError("Unsupported compression format (internal error)"));return}i.enqueue(n)}catch(n){i.error(new TypeError(`Decompression failed for format '${t}'.`,{cause:n}));return}}})}}globalThis.DecompressionStream??(globalThis.DecompressionStream=nt);class it{constructor(t){l(this,"dic");l(this,"dic_path");this.dic=new K,this.dic_path=t}async loadArrayBuffer(t){let e;if(typeof globalThis.Deno<"u")e=await Deno.readFile(t);else if(typeof globalThis.Bun<"u")e=Buffer.from(await Bun.file(t).arrayBuffer());else if(typeof globalThis.process<"u")e=await(await Promise.resolve().then(()=>dt)).readFile(t);else{const s=await fetch(t);if(!s.ok)throw new Error(`Failed to fetch ${t}: ${s.statusText}`);return await s.arrayBuffer()}const i=new DecompressionStream("gzip"),n=new Blob([e]).stream().pipeThrough(i);return await new Response(n).arrayBuffer()}async load(){const t=this.dic,e=this.dic_path,i=this.loadArrayBuffer;return await Promise.all([async()=>{const n=await Promise.all(["base.dat.gz","check.dat.gz"].map(async o=>i(`${e}/${o}`))),r=new Int32Array(n[0]),s=new Int32Array(n[1]);t.loadTrie(r,s)},async()=>{const n=await Promise.all(["tid.dat.gz","tid_pos.dat.gz","tid_map.dat.gz"].map(async c=>i(`${e}/${c}`))),r=new Uint8Array(n[0]),s=new Uint8Array(n[1]),o=new Uint8Array(n[2]);t.loadTokenInfoDictionaries(r,s,o)},async()=>{const n=await i(`${e}/cc.dat.gz`),r=new Int16Array(n);t.loadConnectionCosts(r)},async()=>{const n=await Promise.all(["unk.dat.gz","unk_pos.dat.gz","unk_map.dat.gz","unk_char.dat.gz","unk_compat.dat.gz","unk_invoke.dat.gz"].map(async f=>i(`${e}/${f}`))),r=new Uint8Array(n[0]),s=new Uint8Array(n[1]),o=new Uint8Array(n[2]),c=new Uint8Array(n[3]),a=new Uint32Array(n[4]),u=new Uint8Array(n[5]);t.loadUnknownDictionaries(r,s,o,c,a,u)}].map(n=>n())),t}}class rt{formatEntry(t,e,i,n){return{word_id:t,word_type:i,word_position:e,surface_form:n[0],pos:n[1],pos_detail_1:n[2],pos_detail_2:n[3],pos_detail_3:n[4],conjugated_type:n[5],conjugated_form:n[6],basic_form:n[7],reading:n[8],pronunciation:n[9]}}formatUnknownEntry(t,e,i,n,r){return{word_id:t,word_type:i,word_position:e,surface_form:r,pos:n[1],pos_detail_1:n[2],pos_detail_2:n[3],pos_detail_3:n[4],conjugated_type:n[5],conjugated_form:n[6],basic_form:n[7]}}}class st{formatEntry(t,e,i,n){return{word_id:t,word_type:i,word_position:e,surface_form:n[1],pos:n[2],pos_detail_1:n[3],pos_detail_2:n[4],pos_detail_3:n[5],conjugated_type:n[6],conjugated_form:n[7],basic_form:n[9],reading:n[8]}}formatUnknownEntry(t,e,i,n,r){return{word_id:t,word_type:i,word_position:e,surface_form:r,pos:n[2],pos_detail_1:n[3],pos_detail_2:n[4],pos_detail_3:n[5],conjugated_type:n[6],conjugated_form:n[7],basic_form:n[10]}}}class ot{constructor(t){l(this,"dic_path");l(this,"dic_type");l(this,"dic_formatter",{UniDic:new st,IPADic:new rt});this.dic_type=t.dicType??"IPADic",this.dic_path=t.dicPath??"dict/"}async build(){const t=new it(this.dic_path);return await t.load(),new D(t.dic,this.dic_formatter[this.dic_type])}}const at=/^(\w+)\s+(\d)\s+(\d)\s+(\d)/,ct=/^(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/,lt=/^(0x[0-9A-F]{4})\.\.(0x[0-9A-F]{4})(?:\s+([^#\s]+))(?:\s+([^#\s]+))*/;class ht{constructor(){l(this,"char_def");l(this,"character_category_definition");l(this,"category_mapping");this.char_def=new C,this.char_def.invoke_definition_map=new E,this.character_category_definition=[],this.category_mapping=[]}putLine(t){const e=at.exec(t);if(e!=null){const r=this.character_category_definition.length,s=C.parseCharCategory(r,e);if(s==null)return;this.character_category_definition.push(s);return}const i=ct.exec(t);if(i!=null){const r=C.parseCategoryMapping(i);this.category_mapping.push(r)}const n=lt.exec(t);if(n!=null){const r=C.parseRangeCategoryMapping(n);this.category_mapping.push(r)}}build(){if(!this.char_def.invoke_definition_map)throw new Error("invoke_definition_map is not initialized");return this.char_def.invoke_definition_map.init(this.character_category_definition),this.char_def.initCategoryMappings(this.category_mapping),this.char_def}}class ut{constructor(){l(this,"lines");l(this,"connection_cost");this.lines=0}putLine(t){var s,o,c;if(this.lines===0){const a=t.split(" "),u=Number.parseInt(a[0]),f=Number.parseInt(a[1]);if(u<0||f<0)throw"Parse error of matrix.def";return this.connection_cost=new L(u,f),this.lines++,this}const e=t.split(" ");if(e.length!==3)return this;const i=Number.parseInt(e[0]),n=Number.parseInt(e[1]),r=Number.parseInt(e[2]);if(i<0||n<0||!Number.isFinite(i)||!Number.isFinite(n)||((s=this.connection_cost)==null?void 0:s.forward_dimension)<=i||((o=this.connection_cost)==null?void 0:o.backward_dimension)<=n)throw"Parse error of matrix.def";return(c=this.connection_cost)==null||c.put(i,n,r),this.lines++,this}build(){if(!this.connection_cost)throw new Error("ConnectionCosts is not initialized");return this.connection_cost}}class ft{constructor(){l(this,"tid_entries");l(this,"unk_entries");l(this,"cc_builder");l(this,"cd_builder");this.tid_entries=[],this.unk_entries=[],this.cc_builder=new ut,this.cd_builder=new ht}addTokenInfoDictionary(t){return this.tid_entries.push(t),this}putCostMatrixLine(t){return this.cc_builder.putLine(t),this}putCharDefLine(t){return this.cd_builder.putLine(t),this}putUnkDefLine(t){return this.unk_entries.push(t),this}build(){const t=this.buildTokenInfoDictionary(),e=this.buildUnknownDictionary();return new K(t.trie,t.token_info_dictionary,this.cc_builder.build(),e)}buildTokenInfoDictionary(){const t=new $,e=t.buildDictionary(this.tid_entries),i=this.buildDoubleArray();for(const n in e){const r=e[n],s=i.lookup(r);t.addMapping(s,n)}return{trie:i,token_info_dictionary:t}}buildUnknownDictionary(){const t=new V,e=t.buildDictionary(this.unk_entries),i=this.cd_builder.build();if(!i.invoke_definition_map)throw new Error("invoke_definition_map is not initialized");t.characterDefinition(i);for(const n in e){const r=e[n],s=i.invoke_definition_map.lookup(r);t.addMapping(s,n)}return t}buildDoubleArray(){let t=0;const e=this.tid_entries.map(n=>({k:n[0],v:t++}));return R(1024*1024).build(e)}}const _t={builder:h=>new ot(h),dictionaryBuilder:()=>new ft},dt=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"}));return _t});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia3Vyb21vamkuanMiLCJzb3VyY2VzIjpbIi4uL3NyYy91dGlsL1N1cnJvZ2F0ZUF3YXJlU3RyaW5nLnRzIiwiLi4vc3JjL3ZpdGVyYmkvVml0ZXJiaU5vZGUudHMiLCIuLi9zcmMvdml0ZXJiaS9WaXRlcmJpTGF0dGljZS50cyIsIi4uL3NyYy92aXRlcmJpL1ZpdGVyYmlCdWlsZGVyLnRzIiwiLi4vc3JjL3ZpdGVyYmkvVml0ZXJiaVNlYXJjaGVyLnRzIiwiLi4vc3JjL1Rva2VuaXplci50cyIsIi4uL3NyYy91dGlsL0RvdWJsZUFycmF5LnRzIiwiLi4vc3JjL2RpY3QvQ29ubmVjdGlvbkNvc3RzLnRzIiwiLi4vc3JjL3V0aWwvQnl0ZUJ1ZmZlci50cyIsIi4uL3NyYy9kaWN0L1Rva2VuSW5mb0RpY3Rpb25hcnkudHMiLCIuLi9zcmMvZGljdC9DaGFyYWN0ZXJDbGFzcy50cyIsIi4uL3NyYy9kaWN0L0ludm9rZURlZmluaXRpb25NYXAudHMiLCIuLi9zcmMvZGljdC9DaGFyYWN0ZXJEZWZpbml0aW9uLnRzIiwiLi4vc3JjL2RpY3QvVW5rbm93bkRpY3Rpb25hcnkudHMiLCIuLi9zcmMvZGljdC9EeW5hbWljRGljdGlvbmFyaWVzLnRzIiwiLi4vc3JjL2xvYWRlci9EaWN0aW9uYXJ5TG9hZGVyLnRzIiwiLi4vc3JjL3V0aWwvSXBhZGljRm9ybWF0dGVyLnRzIiwiLi4vc3JjL3V0aWwvVW5pZGljRm9ybWF0ZXIudHMiLCIuLi9zcmMvVG9rZW5pemVyQnVpbGRlci50cyIsIi4uL3NyYy9kaWN0L2J1aWxkZXIvQ2hhcmFjdGVyRGVmaW5pdGlvbkJ1aWxkZXIudHMiLCIuLi9zcmMvZGljdC9idWlsZGVyL0Nvbm5lY3Rpb25Db3N0c0J1aWxkZXIudHMiLCIuLi9zcmMvZGljdC9idWlsZGVyL0RpY3Rpb25hcnlCdWlsZGVyLnRzIiwiLi4vc3JjL2t1cm9tb2ppLnRzIiwiLi4vX192aXRlLWJyb3dzZXItZXh0ZXJuYWwiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdHJpbmcgd3JhcHBlciBmb3IgVVRGLTE2IHN1cnJvZ2F0ZSBwYWlyICg0IGJ5dGVzKVxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBTdHJpbmcgdG8gd3JhcFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIFN1cnJvZ2F0ZUF3YXJlU3RyaW5nIHtcblx0c3RyOiBzdHJpbmc7XG5cdGluZGV4X21hcHBpbmc6IG51bWJlcltdO1xuXHRsZW5ndGg6IG51bWJlcjtcblx0Y29uc3RydWN0b3Ioc3RyOiBzdHJpbmcpIHtcblx0XHR0aGlzLnN0ciA9IHN0cjtcblx0XHR0aGlzLmluZGV4X21hcHBpbmcgPSBbXTtcblxuXHRcdGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHN0ci5sZW5ndGg7IHBvcysrKSB7XG5cdFx0XHRjb25zdCBjaCA9IHN0ci5jaGFyQXQocG9zKTtcblx0XHRcdHRoaXMuaW5kZXhfbWFwcGluZy5wdXNoKHBvcyk7XG5cdFx0XHRpZiAoU3Vycm9nYXRlQXdhcmVTdHJpbmcuaXNTdXJyb2dhdGVQYWlyKGNoKSkge1xuXHRcdFx0XHRwb3MrKztcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gU3Vycm9nYXRlIGF3YXJlIGxlbmd0aFxuXHRcdHRoaXMubGVuZ3RoID0gdGhpcy5pbmRleF9tYXBwaW5nLmxlbmd0aDtcblx0fVxuXHRzdGF0aWMgaXNTdXJyb2dhdGVQYWlyKGNoOiBzdHJpbmcpIHtcblx0XHRjb25zdCB1dGYxNl9jb2RlID0gY2guY2hhckNvZGVBdCgwKTtcblx0XHRpZiAodXRmMTZfY29kZSA+PSAweGQ4MDAgJiYgdXRmMTZfY29kZSA8PSAweGRiZmYpIHtcblx0XHRcdC8vIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHNsaWNlKGluZGV4OiBudW1iZXIpIHtcblx0XHRpZiAodGhpcy5pbmRleF9tYXBwaW5nLmxlbmd0aCA8PSBpbmRleCkge1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXHRcdGNvbnN0IHN1cnJvZ2F0ZV9hd2FyZV9pbmRleCA9IHRoaXMuaW5kZXhfbWFwcGluZ1tpbmRleF07XG5cdFx0cmV0dXJuIHRoaXMuc3RyLnNsaWNlKHN1cnJvZ2F0ZV9hd2FyZV9pbmRleCk7XG5cdH1cblx0Y2hhckF0KGluZGV4OiBudW1iZXIpIHtcblx0XHRpZiAodGhpcy5zdHIubGVuZ3RoIDw9IGluZGV4KSB7XG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cdFx0Y29uc3Qgc3Vycm9nYXRlX2F3YXJlX3N0YXJ0X2luZGV4ID0gdGhpcy5pbmRleF9tYXBwaW5nW2luZGV4XTtcblx0XHRjb25zdCBzdXJyb2dhdGVfYXdhcmVfZW5kX2luZGV4ID0gdGhpcy5pbmRleF9tYXBwaW5nW2luZGV4ICsgMV07XG5cblx0XHRpZiAoc3Vycm9nYXRlX2F3YXJlX2VuZF9pbmRleCA9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5zdHIuc2xpY2Uoc3Vycm9nYXRlX2F3YXJlX3N0YXJ0X2luZGV4KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuc3RyLnNsaWNlKFxuXHRcdFx0c3Vycm9nYXRlX2F3YXJlX3N0YXJ0X2luZGV4LFxuXHRcdFx0c3Vycm9nYXRlX2F3YXJlX2VuZF9pbmRleCxcblx0XHQpO1xuXHR9XG5cdGNoYXJDb2RlQXQoaW5kZXg6IG51bWJlcikge1xuXHRcdGlmICh0aGlzLmluZGV4X21hcHBpbmcubGVuZ3RoIDw9IGluZGV4KSB7XG5cdFx0XHRyZXR1cm4gTnVtYmVyLk5hTjtcblx0XHR9XG5cdFx0Y29uc3Qgc3Vycm9nYXRlX2F3YXJlX2luZGV4ID0gdGhpcy5pbmRleF9tYXBwaW5nW2luZGV4XTtcblx0XHRjb25zdCB1cHBlciA9IHRoaXMuc3RyLmNoYXJDb2RlQXQoc3Vycm9nYXRlX2F3YXJlX2luZGV4KTtcblx0XHRsZXQgbG93ZXI6IG51bWJlcjtcblx0XHRpZiAoXG5cdFx0XHR1cHBlciA+PSAweGQ4MDAgJiZcblx0XHRcdHVwcGVyIDw9IDB4ZGJmZiAmJlxuXHRcdFx0c3Vycm9nYXRlX2F3YXJlX2luZGV4IDwgdGhpcy5zdHIubGVuZ3RoXG5cdFx0KSB7XG5cdFx0XHRsb3dlciA9IHRoaXMuc3RyLmNoYXJDb2RlQXQoc3Vycm9nYXRlX2F3YXJlX2luZGV4ICsgMSk7XG5cdFx0XHRpZiAobG93ZXIgPj0gMHhkYzAwICYmIGxvd2VyIDw9IDB4ZGZmZikge1xuXHRcdFx0XHRyZXR1cm4gKHVwcGVyIC0gMHhkODAwKSAqIDB4NDAwICsgbG93ZXIgLSAweGRjMDAgKyAweDEwMDAwO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdXBwZXI7XG5cdH1cblx0dG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RyO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFN1cnJvZ2F0ZUF3YXJlU3RyaW5nO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE0IFRha3V5YSBBc2Fub1xuICogQ29weXJpZ2h0IDIwMTAtMjAxNCBBdGlsaWthIEluYy4gYW5kIGNvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFZpdGVyYmlOb2RlIGlzIGEgbm9kZSBvZiBWaXRlcmJpTGF0dGljZVxuICogQHBhcmFtIHtudW1iZXJ9IG5vZGVfbmFtZSBXb3JkIElEXG4gKiBAcGFyYW0ge251bWJlcn0gbm9kZV9jb3N0IFdvcmQgY29zdCB0byBnZW5lcmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0X3BvcyBTdGFydCBwb3NpdGlvbiBmcm9tIDFcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggV29yZCBsZW5ndGhcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIE5vZGUgdHlwZSAoS05PV04sIFVOS05PV04sIEJPUywgRU9TLCAuLi4pXG4gKiBAcGFyYW0ge251bWJlcn0gbGVmdF9pZCBMZWZ0IGNvbnRleHQgSURcbiAqIEBwYXJhbSB7bnVtYmVyfSByaWdodF9pZCBSaWdodCBjb250ZXh0IElEXG4gKiBAcGFyYW0ge3N0cmluZ30gc3VyZmFjZV9mb3JtIFN1cmZhY2UgZm9ybSBvZiB0aGlzIHdvcmRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBWaXRlcmJpTm9kZSB7XG5cdG5hbWU6IG51bWJlcjtcblx0Y29zdDogbnVtYmVyO1xuXHRzdGFydF9wb3M6IG51bWJlcjtcblx0bGVuZ3RoOiBudW1iZXI7XG5cdGxlZnRfaWQ6IG51bWJlcjtcblx0cmlnaHRfaWQ6IG51bWJlcjtcblx0cHJldjogVml0ZXJiaU5vZGUgfCBudWxsO1xuXHRzdXJmYWNlX2Zvcm06IHN0cmluZztcblx0c2hvcnRlc3RfY29zdDogbnVtYmVyO1xuXHR0eXBlOiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0bm9kZV9uYW1lOiBudW1iZXIsXG5cdFx0bm9kZV9jb3N0OiBudW1iZXIsXG5cdFx0c3RhcnRfcG9zOiBudW1iZXIsXG5cdFx0bGVuZ3RoOiBudW1iZXIsXG5cdFx0dHlwZTogc3RyaW5nLFxuXHRcdGxlZnRfaWQ6IG51bWJlcixcblx0XHRyaWdodF9pZDogbnVtYmVyLFxuXHRcdHN1cmZhY2VfZm9ybTogc3RyaW5nLFxuXHQpIHtcblx0XHR0aGlzLm5hbWUgPSBub2RlX25hbWU7XG5cdFx0dGhpcy5jb3N0ID0gbm9kZV9jb3N0O1xuXHRcdHRoaXMuc3RhcnRfcG9zID0gc3RhcnRfcG9zO1xuXHRcdHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xuXHRcdHRoaXMubGVmdF9pZCA9IGxlZnRfaWQ7XG5cdFx0dGhpcy5yaWdodF9pZCA9IHJpZ2h0X2lkO1xuXHRcdHRoaXMucHJldiA9IG51bGw7XG5cdFx0dGhpcy5zdXJmYWNlX2Zvcm0gPSBzdXJmYWNlX2Zvcm07XG5cdFx0aWYgKHR5cGUgPT09IFwiQk9TXCIpIHtcblx0XHRcdHRoaXMuc2hvcnRlc3RfY29zdCA9IDA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2hvcnRlc3RfY29zdCA9IE51bWJlci5NQVhfVkFMVUU7XG5cdFx0fVxuXHRcdHRoaXMudHlwZSA9IHR5cGU7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVml0ZXJiaU5vZGU7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTQgVGFrdXlhIEFzYW5vXG4gKiBDb3B5cmlnaHQgMjAxMC0yMDE0IEF0aWxpa2EgSW5jLiBhbmQgY29udHJpYnV0b3JzXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBWaXRlcmJpTm9kZSBmcm9tIFwiLi9WaXRlcmJpTm9kZVwiO1xuXG4vKipcbiAqIFZpdGVyYmlMYXR0aWNlIGlzIGEgbGF0dGljZSBpbiBWaXRlcmJpIGFsZ29yaXRobVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIFZpdGVyYmlMYXR0aWNlIHtcblx0bm9kZXNfZW5kX2F0OiBWaXRlcmJpTm9kZVtdW107XG5cdGVvc19wb3M6IG51bWJlcjtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLm5vZGVzX2VuZF9hdCA9IFtdO1xuXHRcdHRoaXMubm9kZXNfZW5kX2F0WzBdID0gW25ldyBWaXRlcmJpTm9kZSgtMSwgMCwgMCwgMCwgXCJCT1NcIiwgMCwgMCwgXCJcIildO1xuXHRcdHRoaXMuZW9zX3BvcyA9IDE7XG5cdH1cblx0LyoqXG5cdCAqIEFwcGVuZCBub2RlIHRvIFZpdGVyYmlMYXR0aWNlXG5cdCAqIEBwYXJhbSB7Vml0ZXJiaU5vZGV9IG5vZGVcblx0ICovXG5cdGFwcGVuZChub2RlOiBWaXRlcmJpTm9kZSkge1xuXHRcdGNvbnN0IGxhc3RfcG9zID0gbm9kZS5zdGFydF9wb3MgKyBub2RlLmxlbmd0aCAtIDE7XG5cdFx0aWYgKHRoaXMuZW9zX3BvcyA8IGxhc3RfcG9zKSB7XG5cdFx0XHR0aGlzLmVvc19wb3MgPSBsYXN0X3Bvcztcblx0XHR9XG5cblx0XHRsZXQgcHJldl9ub2RlcyA9IHRoaXMubm9kZXNfZW5kX2F0W2xhc3RfcG9zXTtcblx0XHRpZiAocHJldl9ub2RlcyA9PSBudWxsKSB7XG5cdFx0XHRwcmV2X25vZGVzID0gW107XG5cdFx0fVxuXHRcdHByZXZfbm9kZXMucHVzaChub2RlKTtcblxuXHRcdHRoaXMubm9kZXNfZW5kX2F0W2xhc3RfcG9zXSA9IHByZXZfbm9kZXM7XG5cdH1cblx0LyoqXG5cdCAqIFNldCBlbmRzIHdpdGggRU9TIChFbmQgb2YgU3RhdGVtZW50KVxuXHQgKi9cblx0YXBwZW5kRW9zKCkge1xuXHRcdGNvbnN0IGxhc3RfaW5kZXggPSB0aGlzLm5vZGVzX2VuZF9hdC5sZW5ndGg7XG5cdFx0dGhpcy5lb3NfcG9zKys7XG5cdFx0dGhpcy5ub2Rlc19lbmRfYXRbbGFzdF9pbmRleF0gPSBbXG5cdFx0XHRuZXcgVml0ZXJiaU5vZGUoLTEsIDAsIHRoaXMuZW9zX3BvcywgMCwgXCJFT1NcIiwgMCwgMCwgXCJcIiksXG5cdFx0XTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaXRlcmJpTGF0dGljZTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNCBUYWt1eWEgQXNhbm9cbiAqIENvcHlyaWdodCAyMDEwLTIwMTQgQXRpbGlrYSBJbmMuIGFuZCBjb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHR5cGUgRHluYW1pY0RpY3Rpb25hcmllcyBmcm9tIFwiLi4vZGljdC9EeW5hbWljRGljdGlvbmFyaWVzXCI7XG5pbXBvcnQgdHlwZSBUb2tlbkluZm9EaWN0aW9uYXJ5IGZyb20gXCIuLi9kaWN0L1Rva2VuSW5mb0RpY3Rpb25hcnlcIjtcbmltcG9ydCB0eXBlIFVua25vd25EaWN0aW9uYXJ5IGZyb20gXCIuLi9kaWN0L1Vua25vd25EaWN0aW9uYXJ5XCI7XG5pbXBvcnQgdHlwZSB7IERvdWJsZUFycmF5IH0gZnJvbSBcIi4uL3V0aWwvRG91YmxlQXJyYXlcIjtcbmltcG9ydCBTdXJyb2dhdGVBd2FyZVN0cmluZyBmcm9tIFwiLi4vdXRpbC9TdXJyb2dhdGVBd2FyZVN0cmluZ1wiO1xuaW1wb3J0IFZpdGVyYmlMYXR0aWNlIGZyb20gXCIuL1ZpdGVyYmlMYXR0aWNlXCI7XG5pbXBvcnQgVml0ZXJiaU5vZGUgZnJvbSBcIi4vVml0ZXJiaU5vZGVcIjtcblxuLyoqXG4gKiBWaXRlcmJpQnVpbGRlciBidWlsZHMgd29yZCBsYXR0aWNlIChWaXRlcmJpTGF0dGljZSlcbiAqIEBwYXJhbSB7RHluYW1pY0RpY3Rpb25hcmllc30gZGljIGRpY3Rpb25hcnlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBWaXRlcmJpQnVpbGRlciB7XG5cdHRyaWU6IERvdWJsZUFycmF5O1xuXHR0b2tlbl9pbmZvX2RpY3Rpb25hcnk6IFRva2VuSW5mb0RpY3Rpb25hcnk7XG5cdHVua25vd25fZGljdGlvbmFyeTogVW5rbm93bkRpY3Rpb25hcnk7XG5cdGNvbnN0cnVjdG9yKGRpYzogRHluYW1pY0RpY3Rpb25hcmllcykge1xuXHRcdHRoaXMudHJpZSA9IGRpYy50cmllO1xuXHRcdHRoaXMudG9rZW5faW5mb19kaWN0aW9uYXJ5ID0gZGljLnRva2VuX2luZm9fZGljdGlvbmFyeTtcblx0XHR0aGlzLnVua25vd25fZGljdGlvbmFyeSA9IGRpYy51bmtub3duX2RpY3Rpb25hcnk7XG5cdH1cblx0LyoqXG5cdCAqIEJ1aWxkIHdvcmQgbGF0dGljZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gc2VudGVuY2Vfc3RyIElucHV0IHRleHRcblx0ICogQHJldHVybnMge1ZpdGVyYmlMYXR0aWNlfSBXb3JkIGxhdHRpY2Vcblx0ICovXG5cdGJ1aWxkKHNlbnRlbmNlX3N0cjogc3RyaW5nKTogVml0ZXJiaUxhdHRpY2Uge1xuXHRcdGNvbnN0IGxhdHRpY2UgPSBuZXcgVml0ZXJiaUxhdHRpY2UoKTtcblx0XHRjb25zdCBzZW50ZW5jZSA9IG5ldyBTdXJyb2dhdGVBd2FyZVN0cmluZyhzZW50ZW5jZV9zdHIpO1xuXG5cdFx0bGV0IGtleTogc3RyaW5nO1xuXHRcdGxldCB0cmllX2lkOiBzdHJpbmcgfCBudW1iZXI7XG5cdFx0bGV0IGxlZnRfaWQ6IG51bWJlcjtcblx0XHRsZXQgcmlnaHRfaWQ6IG51bWJlcjtcblx0XHRsZXQgd29yZF9jb3N0OiBudW1iZXI7XG5cdFx0Zm9yIChsZXQgcG9zID0gMDsgcG9zIDwgc2VudGVuY2UubGVuZ3RoOyBwb3MrKykge1xuXHRcdFx0Y29uc3QgdGFpbCA9IHNlbnRlbmNlLnNsaWNlKHBvcyk7XG5cdFx0XHRjb25zdCB2b2NhYnVsYXJ5ID0gdGhpcy50cmllLmNvbW1vblByZWZpeFNlYXJjaCh0YWlsKTtcblx0XHRcdGZvciAobGV0IG4gPSAwOyBuIDwgdm9jYWJ1bGFyeS5sZW5ndGg7IG4rKykge1xuXHRcdFx0XHQvLyBXb3JkcyBpbiBkaWN0aW9uYXJ5IGRvIG5vdCBoYXZlIHN1cnJvZ2F0ZSBwYWlyIChvbmx5IFVDUzIgc2V0KVxuXHRcdFx0XHR0cmllX2lkID0gdm9jYWJ1bGFyeVtuXS52O1xuXHRcdFx0XHRrZXkgPSB2b2NhYnVsYXJ5W25dLmsgYXMgc3RyaW5nO1xuXG5cdFx0XHRcdGNvbnN0IHRva2VuX2luZm9faWRzID0gdGhpcy50b2tlbl9pbmZvX2RpY3Rpb25hcnkudGFyZ2V0X21hcFt0cmllX2lkXTtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbl9pbmZvX2lkcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGNvbnN0IHRva2VuX2luZm9faWQgPSBOdW1iZXIucGFyc2VJbnQodG9rZW5faW5mb19pZHNbaV0udG9TdHJpbmcoKSk7XG5cblx0XHRcdFx0XHRsZWZ0X2lkID1cblx0XHRcdFx0XHRcdHRoaXMudG9rZW5faW5mb19kaWN0aW9uYXJ5LmRpY3Rpb25hcnkuZ2V0U2hvcnQodG9rZW5faW5mb19pZCk7XG5cdFx0XHRcdFx0cmlnaHRfaWQgPSB0aGlzLnRva2VuX2luZm9fZGljdGlvbmFyeS5kaWN0aW9uYXJ5LmdldFNob3J0KFxuXHRcdFx0XHRcdFx0dG9rZW5faW5mb19pZCArIDIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR3b3JkX2Nvc3QgPSB0aGlzLnRva2VuX2luZm9fZGljdGlvbmFyeS5kaWN0aW9uYXJ5LmdldFNob3J0KFxuXHRcdFx0XHRcdFx0dG9rZW5faW5mb19pZCArIDQsXG5cdFx0XHRcdFx0KTtcblxuXHRcdFx0XHRcdC8vIG5vZGVfbmFtZSwgY29zdCwgc3RhcnRfaW5kZXgsIGxlbmd0aCwgdHlwZSwgbGVmdF9pZCwgcmlnaHRfaWQsIHN1cmZhY2VfZm9ybVxuXHRcdFx0XHRcdGxhdHRpY2UuYXBwZW5kKFxuXHRcdFx0XHRcdFx0bmV3IFZpdGVyYmlOb2RlKFxuXHRcdFx0XHRcdFx0XHR0b2tlbl9pbmZvX2lkLFxuXHRcdFx0XHRcdFx0XHR3b3JkX2Nvc3QsXG5cdFx0XHRcdFx0XHRcdHBvcyArIDEsXG5cdFx0XHRcdFx0XHRcdGtleS5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdFwiS05PV05cIixcblx0XHRcdFx0XHRcdFx0bGVmdF9pZCxcblx0XHRcdFx0XHRcdFx0cmlnaHRfaWQsXG5cdFx0XHRcdFx0XHRcdGtleS50b1N0cmluZygpLFxuXHRcdFx0XHRcdFx0KSxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVua25vd24gd29yZCBwcm9jZXNzaW5nXG5cdFx0XHRjb25zdCBzdXJyb2dhdGVfYXdhcmVfdGFpbCA9IG5ldyBTdXJyb2dhdGVBd2FyZVN0cmluZyh0YWlsKTtcblx0XHRcdGNvbnN0IGhlYWRfY2hhciA9IG5ldyBTdXJyb2dhdGVBd2FyZVN0cmluZyhcblx0XHRcdFx0c3Vycm9nYXRlX2F3YXJlX3RhaWwuY2hhckF0KDApLFxuXHRcdFx0KTtcblx0XHRcdGNvbnN0IGhlYWRfY2hhcl9jbGFzcyA9IHRoaXMudW5rbm93bl9kaWN0aW9uYXJ5Lmxvb2t1cChcblx0XHRcdFx0aGVhZF9jaGFyLnRvU3RyaW5nKCksXG5cdFx0XHQpO1xuXHRcdFx0aWYgKFxuXHRcdFx0XHR2b2NhYnVsYXJ5ID09IG51bGwgfHxcblx0XHRcdFx0dm9jYWJ1bGFyeS5sZW5ndGggPT09IDAgfHxcblx0XHRcdFx0aGVhZF9jaGFyX2NsYXNzLmlzX2Fsd2F5c19pbnZva2Vcblx0XHRcdCkge1xuXHRcdFx0XHRsZXQga2V5OiBTdXJyb2dhdGVBd2FyZVN0cmluZztcblx0XHRcdFx0Ly8gUHJvY2VzcyB1bmtub3duIHdvcmRcblx0XHRcdFx0a2V5ID0gaGVhZF9jaGFyO1xuXHRcdFx0XHRpZiAoaGVhZF9jaGFyX2NsYXNzLmlzX2dyb3VwaW5nICYmIDEgPCBzdXJyb2dhdGVfYXdhcmVfdGFpbC5sZW5ndGgpIHtcblx0XHRcdFx0XHRmb3IgKGxldCBrID0gMTsgayA8IHN1cnJvZ2F0ZV9hd2FyZV90YWlsLmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBuZXh0X2NoYXIgPSBzdXJyb2dhdGVfYXdhcmVfdGFpbC5jaGFyQXQoayk7XG5cdFx0XHRcdFx0XHRjb25zdCBuZXh0X2NoYXJfY2xhc3MgPSB0aGlzLnVua25vd25fZGljdGlvbmFyeS5sb29rdXAobmV4dF9jaGFyKTtcblx0XHRcdFx0XHRcdGlmIChoZWFkX2NoYXJfY2xhc3MuY2xhc3NfbmFtZSAhPT0gbmV4dF9jaGFyX2NsYXNzLmNsYXNzX25hbWUpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRrZXkgPSBuZXcgU3Vycm9nYXRlQXdhcmVTdHJpbmcoa2V5LnN0ciArIG5leHRfY2hhcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgdW5rX2lkcyA9XG5cdFx0XHRcdFx0dGhpcy51bmtub3duX2RpY3Rpb25hcnkudGFyZ2V0X21hcFtoZWFkX2NoYXJfY2xhc3MuY2xhc3NfaWRdO1xuXHRcdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHVua19pZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0XHRjb25zdCB1bmtfaWQgPSBOdW1iZXIucGFyc2VJbnQodW5rX2lkc1tqXS50b1N0cmluZygpKTtcblxuXHRcdFx0XHRcdGxlZnRfaWQgPSB0aGlzLnVua25vd25fZGljdGlvbmFyeS5kaWN0aW9uYXJ5LmdldFNob3J0KHVua19pZCk7XG5cdFx0XHRcdFx0cmlnaHRfaWQgPSB0aGlzLnVua25vd25fZGljdGlvbmFyeS5kaWN0aW9uYXJ5LmdldFNob3J0KHVua19pZCArIDIpO1xuXHRcdFx0XHRcdHdvcmRfY29zdCA9IHRoaXMudW5rbm93bl9kaWN0aW9uYXJ5LmRpY3Rpb25hcnkuZ2V0U2hvcnQodW5rX2lkICsgNCk7XG5cblx0XHRcdFx0XHQvLyBub2RlX25hbWUsIGNvc3QsIHN0YXJ0X2luZGV4LCBsZW5ndGgsIHR5cGUsIGxlZnRfaWQsIHJpZ2h0X2lkLCBzdXJmYWNlX2Zvcm1cblx0XHRcdFx0XHRsYXR0aWNlLmFwcGVuZChcblx0XHRcdFx0XHRcdG5ldyBWaXRlcmJpTm9kZShcblx0XHRcdFx0XHRcdFx0dW5rX2lkLFxuXHRcdFx0XHRcdFx0XHR3b3JkX2Nvc3QsXG5cdFx0XHRcdFx0XHRcdHBvcyArIDEsXG5cdFx0XHRcdFx0XHRcdGtleS5sZW5ndGgsXG5cdFx0XHRcdFx0XHRcdFwiVU5LTk9XTlwiLFxuXHRcdFx0XHRcdFx0XHRsZWZ0X2lkLFxuXHRcdFx0XHRcdFx0XHRyaWdodF9pZCxcblx0XHRcdFx0XHRcdFx0a2V5LnRvU3RyaW5nKCksXG5cdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0bGF0dGljZS5hcHBlbmRFb3MoKTtcblxuXHRcdHJldHVybiBsYXR0aWNlO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpdGVyYmlCdWlsZGVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE0IFRha3V5YSBBc2Fub1xuICogQ29weXJpZ2h0IDIwMTAtMjAxNCBBdGlsaWthIEluYy4gYW5kIGNvbnRyaWJ1dG9yc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgdHlwZSBDb25uZWN0aW9uQ29zdHMgZnJvbSBcIi4uL2RpY3QvQ29ubmVjdGlvbkNvc3RzXCI7XG5pbXBvcnQgdHlwZSBWaXRlcmJpTGF0dGljZSBmcm9tIFwiLi9WaXRlcmJpTGF0dGljZVwiO1xuaW1wb3J0IHR5cGUgVml0ZXJiaU5vZGUgZnJvbSBcIi4vVml0ZXJiaU5vZGVcIjtcblxuLyoqXG4gKiBWaXRlcmJpU2VhcmNoZXIgaXMgZm9yIHNlYXJjaGluZyBiZXN0IFZpdGVyYmkgcGF0aFxuICogQHBhcmFtIHtDb25uZWN0aW9uQ29zdHN9IGNvbm5lY3Rpb25fY29zdHMgQ29ubmVjdGlvbiBjb3N0cyBtYXRyaXhcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBWaXRlcmJpU2VhcmNoZXIge1xuXHRjb25uZWN0aW9uX2Nvc3RzOiBDb25uZWN0aW9uQ29zdHM7XG5cdGNvbnN0cnVjdG9yKGNvbm5lY3Rpb25fY29zdHM6IENvbm5lY3Rpb25Db3N0cykge1xuXHRcdHRoaXMuY29ubmVjdGlvbl9jb3N0cyA9IGNvbm5lY3Rpb25fY29zdHM7XG5cdH1cblx0LyoqXG5cdCAqIFNlYXJjaCBiZXN0IHBhdGggYnkgZm9yd2FyZC1iYWNrd2FyZCBhbGdvcml0aG1cblx0ICogQHBhcmFtIHtWaXRlcmJpTGF0dGljZX0gbGF0dGljZSBWaXRlcmJpIGxhdHRpY2UgdG8gc2VhcmNoXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gU2hvcnRlc3QgcGF0aFxuXHQgKi9cblx0c2VhcmNoKGxhdHRpY2U6IFZpdGVyYmlMYXR0aWNlKTogVml0ZXJiaU5vZGVbXSB7XG5cdFx0Y29uc3QgZm9ld2FyZGVkX2xhdHRpY2UgPSB0aGlzLmZvcndhcmQobGF0dGljZSk7XG5cdFx0cmV0dXJuIHRoaXMuYmFja3dhcmQoZm9ld2FyZGVkX2xhdHRpY2UpO1xuXHR9XG5cdGZvcndhcmQobGF0dGljZTogVml0ZXJiaUxhdHRpY2UpIHtcblx0XHRsZXQgaTogbnVtYmVyO1xuXHRcdGxldCBqOiBudW1iZXI7XG5cdFx0bGV0IGs6IG51bWJlcjtcblx0XHRmb3IgKGkgPSAxOyBpIDw9IGxhdHRpY2UuZW9zX3BvczsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlcyA9IGxhdHRpY2Uubm9kZXNfZW5kX2F0W2ldO1xuXHRcdFx0aWYgKG5vZGVzID09IG51bGwpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgbm9kZXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2pdO1xuXHRcdFx0XHRsZXQgY29zdCA9IE51bWJlci5NQVhfVkFMVUU7XG5cdFx0XHRcdGxldCBzaG9ydGVzdF9wcmV2X25vZGU6IFZpdGVyYmlOb2RlIHwgbnVsbCA9IG51bGw7XG5cblx0XHRcdFx0Y29uc3QgcHJldl9ub2RlcyA9IGxhdHRpY2Uubm9kZXNfZW5kX2F0W25vZGUuc3RhcnRfcG9zIC0gMV07XG5cdFx0XHRcdGlmIChwcmV2X25vZGVzID09IG51bGwpIHtcblx0XHRcdFx0XHQvLyBUT0RPIHByb2Nlc3MgdW5rbm93biB3b3JkcyAocmVwYWlyIHdvcmQgbGF0dGljZSlcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKGsgPSAwOyBrIDwgcHJldl9ub2Rlcy5sZW5ndGg7IGsrKykge1xuXHRcdFx0XHRcdGNvbnN0IHByZXZfbm9kZSA9IHByZXZfbm9kZXNba107XG5cblx0XHRcdFx0XHRsZXQgZWRnZV9jb3N0OiBudW1iZXI7XG5cdFx0XHRcdFx0aWYgKG5vZGUubGVmdF9pZCA9PSBudWxsIHx8IHByZXZfbm9kZS5yaWdodF9pZCA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHQvLyBUT0RPIGFzc2VydFxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJMZWZ0IG9yIHJpZ2h0IGlzIG51bGxcIik7XG5cdFx0XHRcdFx0XHRlZGdlX2Nvc3QgPSAwO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlZGdlX2Nvc3QgPSB0aGlzLmNvbm5lY3Rpb25fY29zdHMuZ2V0KFxuXHRcdFx0XHRcdFx0XHRwcmV2X25vZGUucmlnaHRfaWQsXG5cdFx0XHRcdFx0XHRcdG5vZGUubGVmdF9pZCxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgX2Nvc3QgPSBwcmV2X25vZGUuc2hvcnRlc3RfY29zdCArIGVkZ2VfY29zdCArIG5vZGUuY29zdDtcblx0XHRcdFx0XHRpZiAoX2Nvc3QgPCBjb3N0KSB7XG5cdFx0XHRcdFx0XHRzaG9ydGVzdF9wcmV2X25vZGUgPSBwcmV2X25vZGU7XG5cdFx0XHRcdFx0XHRjb3N0ID0gX2Nvc3Q7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0bm9kZS5wcmV2ID0gc2hvcnRlc3RfcHJldl9ub2RlO1xuXHRcdFx0XHRub2RlLnNob3J0ZXN0X2Nvc3QgPSBjb3N0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbGF0dGljZTtcblx0fVxuXHRiYWNrd2FyZChsYXR0aWNlOiBWaXRlcmJpTGF0dGljZSkge1xuXHRcdGNvbnN0IHNob3J0ZXN0X3BhdGg6IFZpdGVyYmlOb2RlW10gPSBbXTtcblx0XHRjb25zdCBlb3MgPSBsYXR0aWNlLm5vZGVzX2VuZF9hdFtsYXR0aWNlLm5vZGVzX2VuZF9hdC5sZW5ndGggLSAxXVswXTtcblxuXHRcdGxldCBub2RlX2JhY2sgPSBlb3MucHJldjtcblx0XHRpZiAobm9kZV9iYWNrID09IG51bGwpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9XG5cdFx0d2hpbGUgKG5vZGVfYmFjay50eXBlICE9PSBcIkJPU1wiKSB7XG5cdFx0XHRzaG9ydGVzdF9wYXRoLnB1c2gobm9kZV9iYWNrKTtcblx0XHRcdGlmIChub2RlX2JhY2sucHJldiA9PSBudWxsKSB7XG5cdFx0XHRcdC8vIFRPRE8gRmFpbGVkIHRvIGJhY2suIFByb2Nlc3MgdW5rbm93biB3b3Jkcz9cblx0XHRcdFx0cmV0dXJuIFtdO1xuXHRcdFx0fVxuXHRcdFx0bm9kZV9iYWNrID0gbm9kZV9iYWNrLnByZXY7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHNob3J0ZXN0X3BhdGgucmV2ZXJzZSgpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpdGVyYmlTZWFyY2hlcjtcbiIsImltcG9ydCB0eXBlIER5bmFtaWNEaWN0aW9uYXJpZXMgZnJvbSBcIi4vZGljdC9EeW5hbWljRGljdGlvbmFyaWVzXCI7XG5pbXBvcnQgdHlwZSBUb2tlbkluZm9EaWN0aW9uYXJ5IGZyb20gXCIuL2RpY3QvVG9rZW5JbmZvRGljdGlvbmFyeVwiO1xuaW1wb3J0IHR5cGUgVW5rbm93bkRpY3Rpb25hcnkgZnJvbSBcIi4vZGljdC9Vbmtub3duRGljdGlvbmFyeVwiO1xuaW1wb3J0IHR5cGUgeyBUb2tlbiwgRm9ybWF0dGVyIH0gZnJvbSBcIi4vdXRpbC9Gb3JtYXR0ZXJcIjtcbmltcG9ydCBWaXRlcmJpQnVpbGRlciBmcm9tIFwiLi92aXRlcmJpL1ZpdGVyYmlCdWlsZGVyXCI7XG5pbXBvcnQgdHlwZSBWaXRlcmJpTGF0dGljZSBmcm9tIFwiLi92aXRlcmJpL1ZpdGVyYmlMYXR0aWNlXCI7XG5pbXBvcnQgVml0ZXJiaVNlYXJjaGVyIGZyb20gXCIuL3ZpdGVyYmkvVml0ZXJiaVNlYXJjaGVyXCI7XG5cbmNvbnN0IFBVTkNUVUFUSU9OID0gL+OAgXzjgIIvO1xuXG4vKipcbiAqIFRva2VuaXplclxuICogQHBhcmFtIHtEeW5hbWljRGljdGlvbmFyaWVzfSBkaWMgRGljdGlvbmFyaWVzIHVzZWQgYnkgdGhpcyB0b2tlbml6ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBUb2tlbml6ZXIge1xuXHR0b2tlbl9pbmZvX2RpY3Rpb25hcnk6IFRva2VuSW5mb0RpY3Rpb25hcnk7XG5cdHVua25vd25fZGljdGlvbmFyeTogVW5rbm93bkRpY3Rpb25hcnk7XG5cdHZpdGVyYmlfYnVpbGRlcjogVml0ZXJiaUJ1aWxkZXI7XG5cdHZpdGVyYmlfc2VhcmNoZXI6IFZpdGVyYmlTZWFyY2hlcjtcblx0Zm9ybWF0dGVyOiBGb3JtYXR0ZXI7XG5cdGNvbnN0cnVjdG9yKGRpYzogRHluYW1pY0RpY3Rpb25hcmllcywgZm9ybWF0dGVyOiBGb3JtYXR0ZXIpIHtcblx0XHR0aGlzLnRva2VuX2luZm9fZGljdGlvbmFyeSA9IGRpYy50b2tlbl9pbmZvX2RpY3Rpb25hcnk7XG5cdFx0dGhpcy51bmtub3duX2RpY3Rpb25hcnkgPSBkaWMudW5rbm93bl9kaWN0aW9uYXJ5O1xuXHRcdHRoaXMudml0ZXJiaV9idWlsZGVyID0gbmV3IFZpdGVyYmlCdWlsZGVyKGRpYyk7XG5cdFx0dGhpcy52aXRlcmJpX3NlYXJjaGVyID0gbmV3IFZpdGVyYmlTZWFyY2hlcihkaWMuY29ubmVjdGlvbl9jb3N0cyk7XG5cdFx0dGhpcy5mb3JtYXR0ZXIgPSBmb3JtYXR0ZXI7XG5cdH1cblx0LyoqXG5cdCAqIFNwbGl0IGludG8gc2VudGVuY2UgYnkgcHVuY3R1YXRpb25cblx0ICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IElucHV0IHRleHRcblx0ICogQHJldHVybnMge0FycmF5LjxzdHJpbmc+fSBTZW50ZW5jZXMgZW5kIHdpdGggcHVuY3R1YXRpb25cblx0ICovXG5cdHN0YXRpYyBzcGxpdEJ5UHVuY3R1YXRpb24oaW5wdXQ6IHN0cmluZyk6IEFycmF5PHN0cmluZz4ge1xuXHRcdGNvbnN0IHNlbnRlbmNlczogc3RyaW5nW10gPSBbXTtcblx0XHRsZXQgdGFpbCA9IGlucHV0O1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRpZiAodGFpbCA9PT0gXCJcIikge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNvbnN0IGluZGV4ID0gdGFpbC5zZWFyY2goUFVOQ1RVQVRJT04pO1xuXHRcdFx0aWYgKGluZGV4IDwgMCkge1xuXHRcdFx0XHRzZW50ZW5jZXMucHVzaCh0YWlsKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRzZW50ZW5jZXMucHVzaCh0YWlsLnN1YnN0cmluZygwLCBpbmRleCArIDEpKTtcblx0XHRcdHRhaWwgPSB0YWlsLnN1YnN0cmluZyhpbmRleCArIDEpO1xuXHRcdH1cblx0XHRyZXR1cm4gc2VudGVuY2VzO1xuXHR9XG5cdC8qKlxuXHQgKiBUb2tlbml6ZSB0ZXh0XG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IElucHV0IHRleHQgdG8gYW5hbHl6ZVxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRva2Vuc1xuXHQgKi9cblx0dG9rZW5pemUodGV4dDogc3RyaW5nKTogVG9rZW5bXSB7XG5cdFx0Y29uc3Qgc2VudGVuY2VzID0gVG9rZW5pemVyLnNwbGl0QnlQdW5jdHVhdGlvbih0ZXh0KTtcblx0XHRjb25zdCB0b2tlbnM6IFRva2VuW10gPSBbXTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbnRlbmNlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3Qgc2VudGVuY2UgPSBzZW50ZW5jZXNbaV07XG5cdFx0XHR0aGlzLnRva2VuaXplRm9yU2VudGVuY2Uoc2VudGVuY2UsIHRva2Vucyk7XG5cdFx0fVxuXHRcdHJldHVybiB0b2tlbnM7XG5cdH1cblx0dG9rZW5pemVGb3JTZW50ZW5jZShzZW50ZW5jZTogc3RyaW5nLCB0b2tlbnM6IFRva2VuW10gPSBbXSkge1xuXHRcdGNvbnN0IGxhdHRpY2UgPSB0aGlzLmdldExhdHRpY2Uoc2VudGVuY2UpO1xuXHRcdGNvbnN0IGJlc3RfcGF0aCA9IHRoaXMudml0ZXJiaV9zZWFyY2hlci5zZWFyY2gobGF0dGljZSk7XG5cdFx0bGV0IGxhc3RfcG9zID0gMDtcblx0XHRpZiAodG9rZW5zLmxlbmd0aCA+IDApIHtcblx0XHRcdGxhc3RfcG9zID0gdG9rZW5zW3Rva2Vucy5sZW5ndGggLSAxXS53b3JkX3Bvc2l0aW9uO1xuXHRcdH1cblxuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgYmVzdF9wYXRoLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gYmVzdF9wYXRoW2pdO1xuXG5cdFx0XHRsZXQgdG9rZW46IFRva2VuO1xuXHRcdFx0bGV0IGZlYXR1cmVzOiBzdHJpbmdbXTtcblx0XHRcdGxldCBmZWF0dXJlc19saW5lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdFx0XHRpZiAobm9kZS50eXBlID09PSBcIktOT1dOXCIpIHtcblx0XHRcdFx0ZmVhdHVyZXNfbGluZSA9IHRoaXMudG9rZW5faW5mb19kaWN0aW9uYXJ5LmdldEZlYXR1cmVzKFxuXHRcdFx0XHRcdG5vZGUubmFtZS50b1N0cmluZygpLFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRpZiAoZmVhdHVyZXNfbGluZSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0ZmVhdHVyZXMgPSBbXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRmZWF0dXJlcyA9IGZlYXR1cmVzX2xpbmUuc3BsaXQoXCIsXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRva2VuID0gdGhpcy5mb3JtYXR0ZXIuZm9ybWF0RW50cnkoXG5cdFx0XHRcdFx0bm9kZS5uYW1lLFxuXHRcdFx0XHRcdGxhc3RfcG9zICsgbm9kZS5zdGFydF9wb3MsXG5cdFx0XHRcdFx0bm9kZS50eXBlLFxuXHRcdFx0XHRcdGZlYXR1cmVzLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIGlmIChub2RlLnR5cGUgPT09IFwiVU5LTk9XTlwiKSB7XG5cdFx0XHRcdC8vIFVua25vd24gd29yZFxuXHRcdFx0XHRmZWF0dXJlc19saW5lID0gdGhpcy51bmtub3duX2RpY3Rpb25hcnkuZ2V0RmVhdHVyZXMoXG5cdFx0XHRcdFx0bm9kZS5uYW1lLnRvU3RyaW5nKCksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmIChmZWF0dXJlc19saW5lID09IG51bGwpIHtcblx0XHRcdFx0XHRmZWF0dXJlcyA9IFtdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGZlYXR1cmVzID0gZmVhdHVyZXNfbGluZS5zcGxpdChcIixcIik7XG5cdFx0XHRcdH1cblx0XHRcdFx0dG9rZW4gPSB0aGlzLmZvcm1hdHRlci5mb3JtYXRVbmtub3duRW50cnkoXG5cdFx0XHRcdFx0bm9kZS5uYW1lLFxuXHRcdFx0XHRcdGxhc3RfcG9zICsgbm9kZS5zdGFydF9wb3MsXG5cdFx0XHRcdFx0bm9kZS50eXBlLFxuXHRcdFx0XHRcdGZlYXR1cmVzLFxuXHRcdFx0XHRcdG5vZGUuc3VyZmFjZV9mb3JtLFxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gVE9ETyBVc2VyIGRpY3Rpb25hcnlcblx0XHRcdFx0dG9rZW4gPSB0aGlzLmZvcm1hdHRlci5mb3JtYXRFbnRyeShcblx0XHRcdFx0XHRub2RlLm5hbWUsXG5cdFx0XHRcdFx0bGFzdF9wb3MgKyBub2RlLnN0YXJ0X3Bvcyxcblx0XHRcdFx0XHRub2RlLnR5cGUsXG5cdFx0XHRcdFx0W10sXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHRva2Vucy5wdXNoKHRva2VuKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdG9rZW5zO1xuXHR9XG5cdC8qKlxuXHQgKiBCdWlsZCB3b3JkIGxhdHRpY2Vcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRleHQgSW5wdXQgdGV4dCB0byBhbmFseXplXG5cdCAqIEByZXR1cm5zIHtWaXRlcmJpTGF0dGljZX0gV29yZCBsYXR0aWNlXG5cdCAqL1xuXHRnZXRMYXR0aWNlKHRleHQ6IHN0cmluZyk6IFZpdGVyYmlMYXR0aWNlIHtcblx0XHRyZXR1cm4gdGhpcy52aXRlcmJpX2J1aWxkZXIuYnVpbGQodGV4dCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9rZW5pemVyO1xuIiwiLy8gQ29weXJpZ2h0IChjKSAyMDE0IFRha3V5YSBBc2FubyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5jb25zdCBURVJNX0NIQVIgPSBcIlxcdTAwMDBcIjsgLy8gdGVybWluYWwgY2hhcmFjdGVyXG5jb25zdCBURVJNX0NPREUgPSAwOyAvLyB0ZXJtaW5hbCBjaGFyYWN0ZXIgY29kZVxuY29uc3QgUk9PVF9JRCA9IDA7IC8vIGluZGV4IG9mIHJvb3Qgbm9kZVxuY29uc3QgTk9UX0ZPVU5EID0gLTE7IC8vIHRyYXZlcnNlKCkgcmV0dXJucyBpZiBubyBub2RlcyBmb3VuZFxuY29uc3QgQkFTRV9TSUdORUQgPSB0cnVlO1xuY29uc3QgQ0hFQ0tfU0lHTkVEID0gdHJ1ZTtcbmNvbnN0IEJBU0VfQllURVMgPSA0O1xuY29uc3QgQ0hFQ0tfQllURVMgPSA0O1xuY29uc3QgTUVNT1JZX0VYUEFORF9SQVRJTyA9IDI7XG5cbnR5cGUgQXJyYXlzID1cblx0fCBJbnQ4QXJyYXlcblx0fCBJbnQxNkFycmF5XG5cdHwgSW50MzJBcnJheVxuXHR8IFVpbnQ4QXJyYXlcblx0fCBVaW50MTZBcnJheVxuXHR8IFVpbnQzMkFycmF5O1xuXG5pbnRlcmZhY2UgQmFzZUFuZENoZWNrIHtcblx0Z2V0QmFzZUJ1ZmZlcigpOiBBcnJheXM7IC8vIEludDhBcnJheSB8IEludDE2QXJyYXkgfCBJbnQzMkFycmF5IHwgVWludDhBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXlcblx0Z2V0Q2hlY2tCdWZmZXIoKTogQXJyYXlzOyAvLyBJbnQ4QXJyYXkgfCBJbnQxNkFycmF5IHwgSW50MzJBcnJheSB8IFVpbnQ4QXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5XG5cdGxvYWRCYXNlQnVmZmVyKGJhc2VfYnVmZmVyOiBBcnJheXMpOiBCYXNlQW5kQ2hlY2s7XG5cdGxvYWRDaGVja0J1ZmZlcihjaGVja19idWZmZXI6IEFycmF5cyk6IEJhc2VBbmRDaGVjaztcblx0c2l6ZSgpOiBudW1iZXI7XG5cdGdldEJhc2UoaW5kZXg6IG51bWJlcik6IG51bWJlcjtcblx0Z2V0Q2hlY2soaW5kZXg6IG51bWJlcik6IG51bWJlcjtcblx0c2V0QmFzZShpbmRleDogbnVtYmVyLCBiYXNlX3ZhbHVlOiBudW1iZXIpOiB2b2lkO1xuXHRzZXRDaGVjayhpbmRleDogbnVtYmVyLCBjaGVja192YWx1ZTogbnVtYmVyKTogdm9pZDtcblx0c2V0Rmlyc3RVbnVzZWROb2RlKGluZGV4OiBudW1iZXIpOiB2b2lkO1xuXHRnZXRGaXJzdFVudXNlZE5vZGUoKTogbnVtYmVyO1xuXHRzaHJpbmsoKTogdm9pZDtcblx0Y2FsYygpOiB7IGFsbDogbnVtYmVyOyB1bnVzZWQ6IG51bWJlcjsgZWZmaWNpZW5jeTogbnVtYmVyIH07XG5cdGR1bXAoKTogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgS2V5VmFsdWUge1xuXHRrOiBzdHJpbmcgfCBVaW50OEFycmF5O1xuXHR2OiBudW1iZXI7XG59XG5cbmNvbnN0IG5ld0JDID0gKGluaXRpYWxfc2l6ZSA9IDEwMjQpOiBCYXNlQW5kQ2hlY2sgPT4ge1xuXHRjb25zdCBpbml0QmFzZSA9IChfYmFzZTogQXJyYXlzLCBzdGFydDogbnVtYmVyLCBlbmQ6IG51bWJlcikgPT4ge1xuXHRcdC8vICdlbmQnIGluZGV4IGRvZXMgbm90IGluY2x1ZGVcblx0XHRmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xuXHRcdFx0X2Jhc2VbaV0gPSAtaSArIDE7IC8vIGludmVyc2VkIHByZXZpb3VzIGVtcHR5IG5vZGUgaW5kZXhcblx0XHR9XG5cdFx0aWYgKDAgPCBjaGVjay5hcnJheVtjaGVjay5hcnJheS5sZW5ndGggLSAxXSkge1xuXHRcdFx0bGV0IGxhc3RfdXNlZF9pZCA9IGNoZWNrLmFycmF5Lmxlbmd0aCAtIDI7XG5cdFx0XHR3aGlsZSAoMCA8IGNoZWNrLmFycmF5W2xhc3RfdXNlZF9pZF0pIHtcblx0XHRcdFx0bGFzdF91c2VkX2lkLS07XG5cdFx0XHR9XG5cdFx0XHRfYmFzZVtzdGFydF0gPSAtbGFzdF91c2VkX2lkO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBpbml0Q2hlY2sgPSAoX2NoZWNrOiBBcnJheXMsIHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKSA9PiB7XG5cdFx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcblx0XHRcdF9jaGVja1tpXSA9IC1pIC0gMTsgLy8gaW52ZXJzZWQgbmV4dCBlbXB0eSBub2RlIGluZGV4XG5cdFx0fVxuXHR9O1xuXG5cdGNvbnN0IHJlYWxsb2MgPSAobWluX3NpemU6IG51bWJlcikgPT4ge1xuXHRcdC8vIGV4cGFuZCBhcnJheXMgc2l6ZSBieSBnaXZlbiByYXRpb1xuXHRcdGNvbnN0IG5ld19zaXplID0gbWluX3NpemUgKiBNRU1PUllfRVhQQU5EX1JBVElPO1xuXHRcdC8vIGNvbnNvbGUubG9nKCdyZS1hbGxvY2F0ZSBtZW1vcnkgdG8gJyArIG5ld19zaXplKTtcblxuXHRcdGNvbnN0IGJhc2VfbmV3X2FycmF5ID0gbmV3QXJyYXlCdWZmZXIoYmFzZS5zaWduZWQsIGJhc2UuYnl0ZXMsIG5ld19zaXplKTtcblx0XHRpbml0QmFzZShiYXNlX25ld19hcnJheSwgYmFzZS5hcnJheS5sZW5ndGgsIG5ld19zaXplKTsgLy8gaW5pdCBCQVNFIGluIG5ldyByYW5nZVxuXHRcdGJhc2VfbmV3X2FycmF5LnNldChiYXNlLmFycmF5KTtcblx0XHRiYXNlLmFycmF5ID0gYmFzZV9uZXdfYXJyYXk7XG5cblx0XHRjb25zdCBjaGVja19uZXdfYXJyYXkgPSBuZXdBcnJheUJ1ZmZlcihjaGVjay5zaWduZWQsIGNoZWNrLmJ5dGVzLCBuZXdfc2l6ZSk7XG5cdFx0aW5pdENoZWNrKGNoZWNrX25ld19hcnJheSwgY2hlY2suYXJyYXkubGVuZ3RoLCBuZXdfc2l6ZSk7IC8vIGluaXQgQ0hFQ0sgaW4gbmV3IHJhbmdlXG5cdFx0Y2hlY2tfbmV3X2FycmF5LnNldChjaGVjay5hcnJheSk7XG5cdFx0Y2hlY2suYXJyYXkgPSBjaGVja19uZXdfYXJyYXk7XG5cdH07XG5cblx0bGV0IGZpcnN0X3VudXNlZF9ub2RlID0gUk9PVF9JRCArIDE7XG5cblx0Y29uc3QgYmFzZToge1xuXHRcdHNpZ25lZDogYm9vbGVhbjtcblx0XHRieXRlczogbnVtYmVyO1xuXHRcdGFycmF5OiBBcnJheXM7XG5cdH0gPSB7XG5cdFx0c2lnbmVkOiBCQVNFX1NJR05FRCxcblx0XHRieXRlczogQkFTRV9CWVRFUyxcblx0XHRhcnJheTogbmV3QXJyYXlCdWZmZXIoQkFTRV9TSUdORUQsIEJBU0VfQllURVMsIGluaXRpYWxfc2l6ZSksXG5cdH07XG5cblx0Y29uc3QgY2hlY2s6IHtcblx0XHRzaWduZWQ6IGJvb2xlYW47XG5cdFx0Ynl0ZXM6IG51bWJlcjtcblx0XHRhcnJheTogQXJyYXlzO1xuXHR9ID0ge1xuXHRcdHNpZ25lZDogQ0hFQ0tfU0lHTkVELFxuXHRcdGJ5dGVzOiBDSEVDS19CWVRFUyxcblx0XHRhcnJheTogbmV3QXJyYXlCdWZmZXIoQ0hFQ0tfU0lHTkVELCBDSEVDS19CWVRFUywgaW5pdGlhbF9zaXplKSxcblx0fTtcblxuXHQvLyBpbml0IHJvb3Qgbm9kZVxuXHRiYXNlLmFycmF5W1JPT1RfSURdID0gMTtcblx0Y2hlY2suYXJyYXlbUk9PVF9JRF0gPSBST09UX0lEO1xuXG5cdC8vIGluaXQgQkFTRVxuXHRpbml0QmFzZShiYXNlLmFycmF5LCBST09UX0lEICsgMSwgYmFzZS5hcnJheS5sZW5ndGgpO1xuXG5cdC8vIGluaXQgQ0hFQ0tcblx0aW5pdENoZWNrKGNoZWNrLmFycmF5LCBST09UX0lEICsgMSwgY2hlY2suYXJyYXkubGVuZ3RoKTtcblxuXHRyZXR1cm4ge1xuXHRcdGdldEJhc2VCdWZmZXI6ICgpID0+IGJhc2UuYXJyYXksXG5cdFx0Z2V0Q2hlY2tCdWZmZXI6ICgpID0+IGNoZWNrLmFycmF5LFxuXHRcdGxvYWRCYXNlQnVmZmVyOiBmdW5jdGlvbiAoYmFzZV9idWZmZXI6IEFycmF5cykge1xuXHRcdFx0YmFzZS5hcnJheSA9IGJhc2VfYnVmZmVyO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRsb2FkQ2hlY2tCdWZmZXI6IGZ1bmN0aW9uIChjaGVja19idWZmZXI6IEFycmF5cykge1xuXHRcdFx0Y2hlY2suYXJyYXkgPSBjaGVja19idWZmZXI7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNpemU6ICgpID0+IE1hdGgubWF4KGJhc2UuYXJyYXkubGVuZ3RoLCBjaGVjay5hcnJheS5sZW5ndGgpLFxuXHRcdGdldEJhc2U6IChpbmRleDogbnVtYmVyKSA9PiB7XG5cdFx0XHRpZiAoYmFzZS5hcnJheS5sZW5ndGggLSAxIDwgaW5kZXgpIHtcblx0XHRcdFx0cmV0dXJuIC1pbmRleCArIDE7XG5cdFx0XHRcdC8vIHJlYWxsb2MoaW5kZXgpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gaWYgKCFOdW1iZXIuaXNGaW5pdGUoYmFzZS5hcnJheVtpbmRleF0pKSB7XG5cdFx0XHQvLyAgICAgY29uc29sZS5sb2coJ2dldEJhc2U6JyArIGluZGV4KTtcblx0XHRcdC8vICAgICB0aHJvdyAnZ2V0QmFzZScgKyBpbmRleDtcblx0XHRcdC8vIH1cblx0XHRcdHJldHVybiBiYXNlLmFycmF5W2luZGV4XTtcblx0XHR9LFxuXHRcdGdldENoZWNrOiAoaW5kZXg6IG51bWJlcikgPT4ge1xuXHRcdFx0aWYgKGNoZWNrLmFycmF5Lmxlbmd0aCAtIDEgPCBpbmRleCkge1xuXHRcdFx0XHRyZXR1cm4gLWluZGV4IC0gMTtcblx0XHRcdFx0Ly8gcmVhbGxvYyhpbmRleCk7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiAoIU51bWJlci5pc0Zpbml0ZShjaGVjay5hcnJheVtpbmRleF0pKSB7XG5cdFx0XHQvLyAgICAgY29uc29sZS5sb2coJ2dldENoZWNrOicgKyBpbmRleCk7XG5cdFx0XHQvLyAgICAgdGhyb3cgJ2dldENoZWNrJyArIGluZGV4O1xuXHRcdFx0Ly8gfVxuXHRcdFx0cmV0dXJuIGNoZWNrLmFycmF5W2luZGV4XTtcblx0XHR9LFxuXHRcdHNldEJhc2U6IChpbmRleDogbnVtYmVyLCBiYXNlX3ZhbHVlOiBudW1iZXIpID0+IHtcblx0XHRcdGlmIChiYXNlLmFycmF5Lmxlbmd0aCAtIDEgPCBpbmRleCkge1xuXHRcdFx0XHRyZWFsbG9jKGluZGV4KTtcblx0XHRcdH1cblx0XHRcdGJhc2UuYXJyYXlbaW5kZXhdID0gYmFzZV92YWx1ZTtcblx0XHR9LFxuXHRcdHNldENoZWNrOiAoaW5kZXg6IG51bWJlciwgY2hlY2tfdmFsdWU6IG51bWJlcikgPT4ge1xuXHRcdFx0aWYgKGNoZWNrLmFycmF5Lmxlbmd0aCAtIDEgPCBpbmRleCkge1xuXHRcdFx0XHRyZWFsbG9jKGluZGV4KTtcblx0XHRcdH1cblx0XHRcdGNoZWNrLmFycmF5W2luZGV4XSA9IGNoZWNrX3ZhbHVlO1xuXHRcdH0sXG5cdFx0c2V0Rmlyc3RVbnVzZWROb2RlOiAoaW5kZXg6IG51bWJlcikgPT4ge1xuXHRcdFx0Ly8gaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5kZXgpKSB7XG5cdFx0XHQvLyAgICAgdGhyb3cgJ2Fzc2VydGlvbiBlcnJvcjogc2V0Rmlyc3RVbnVzZWROb2RlICcgKyBpbmRleCArICcgaXMgbm90IGZpbml0ZSBudW1iZXInO1xuXHRcdFx0Ly8gfVxuXHRcdFx0Zmlyc3RfdW51c2VkX25vZGUgPSBpbmRleDtcblx0XHR9LFxuXHRcdGdldEZpcnN0VW51c2VkTm9kZTogKCkgPT4ge1xuXHRcdFx0Ly8gaWYgKCFOdW1iZXIuaXNGaW5pdGUoZmlyc3RfdW51c2VkX25vZGUpKSB7XG5cdFx0XHQvLyAgICAgdGhyb3cgJ2Fzc2VydGlvbiBlcnJvcjogZ2V0Rmlyc3RVbnVzZWROb2RlICcgKyBmaXJzdF91bnVzZWRfbm9kZSArICcgaXMgbm90IGZpbml0ZSBudW1iZXInO1xuXHRcdFx0Ly8gfVxuXHRcdFx0cmV0dXJuIGZpcnN0X3VudXNlZF9ub2RlO1xuXHRcdH0sXG5cdFx0c2hyaW5rOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRsZXQgbGFzdF9pbmRleCA9IHRoaXMuc2l6ZSgpIC0gMTtcblx0XHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRcdGlmICgwIDw9IGNoZWNrLmFycmF5W2xhc3RfaW5kZXhdKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGFzdF9pbmRleC0tO1xuXHRcdFx0fVxuXHRcdFx0YmFzZS5hcnJheSA9IGJhc2UuYXJyYXkuc3ViYXJyYXkoMCwgbGFzdF9pbmRleCArIDIpOyAvLyBrZWVwIGxhc3QgdW51c2VkIG5vZGVcblx0XHRcdGNoZWNrLmFycmF5ID0gY2hlY2suYXJyYXkuc3ViYXJyYXkoMCwgbGFzdF9pbmRleCArIDIpOyAvLyBrZWVwIGxhc3QgdW51c2VkIG5vZGVcblx0XHR9LFxuXHRcdGNhbGM6ICgpID0+IHtcblx0XHRcdGxldCB1bnVzZWRfY291bnQgPSAwO1xuXHRcdFx0Y29uc3Qgc2l6ZSA9IGNoZWNrLmFycmF5Lmxlbmd0aDtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG5cdFx0XHRcdGlmIChjaGVjay5hcnJheVtpXSA8IDApIHtcblx0XHRcdFx0XHR1bnVzZWRfY291bnQrKztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0YWxsOiBzaXplLFxuXHRcdFx0XHR1bnVzZWQ6IHVudXNlZF9jb3VudCxcblx0XHRcdFx0ZWZmaWNpZW5jeTogKHNpemUgLSB1bnVzZWRfY291bnQpIC8gc2l6ZSxcblx0XHRcdH07XG5cdFx0fSxcblx0XHRkdW1wOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBmb3IgZGVidWdcblx0XHRcdGxldCBkdW1wX2Jhc2UgPSBcIlwiO1xuXHRcdFx0bGV0IGR1bXBfY2hlY2sgPSBcIlwiO1xuXG5cdFx0XHRsZXQgaTogbnVtYmVyO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGJhc2UuYXJyYXkubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0ZHVtcF9iYXNlID0gYCR7ZHVtcF9iYXNlfSAke3RoaXMuZ2V0QmFzZShpKX1gO1xuXHRcdFx0fVxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGNoZWNrLmFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGR1bXBfY2hlY2sgPSBgJHtkdW1wX2NoZWNrfSAke3RoaXMuZ2V0Q2hlY2soaSl9YDtcblx0XHRcdH1cblxuXHRcdFx0Y29uc29sZS5sb2coYGJhc2U6JHtkdW1wX2Jhc2V9YCk7XG5cdFx0XHRjb25zb2xlLmxvZyhgY2hjazoke2R1bXBfY2hlY2t9YCk7XG5cblx0XHRcdHJldHVybiBgYmFzZToke2R1bXBfYmFzZX0gY2hjazoke2R1bXBfY2hlY2t9YDtcblx0XHR9LFxuXHR9O1xufTtcblxuLyoqXG4gKiBGYWN0b3J5IG1ldGhvZCBvZiBkb3VibGUgYXJyYXlcbiAqL1xuY2xhc3MgRG91YmxlQXJyYXlCdWlsZGVyIHtcblx0YmM6IEJhc2VBbmRDaGVjaztcblx0a2V5czogS2V5VmFsdWVbXTtcblx0Y29uc3RydWN0b3IoaW5pdGlhbF9zaXplOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcblx0XHR0aGlzLmJjID0gbmV3QkMoaW5pdGlhbF9zaXplKTsgLy8gQkFTRSBhbmQgQ0hFQ0tcblx0XHR0aGlzLmtleXMgPSBbXTtcblx0fVxuXHQvKipcblx0ICogQXBwZW5kIGEga2V5IHRvIGluaXRpYWxpemUgc2V0XG5cdCAqIChUaGlzIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJ5IGRpY3Rpb25hcnkgb3JkZXJlZCBrZXkpXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICogQHBhcmFtIHtOdW1iZXJ9IHJlY29yZCBJbnRlZ2VyIHZhbHVlIGZyb20gMCB0byBtYXggc2lnbmVkIGludGVnZXIgbnVtYmVyIC0gMVxuXHQgKi9cblx0YXBwZW5kKGtleTogc3RyaW5nLCByZWNvcmQ6IG51bWJlcikge1xuXHRcdHRoaXMua2V5cy5wdXNoKHsgazoga2V5LCB2OiByZWNvcmQgfSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0LyoqXG5cdCAqIEJ1aWxkIGRvdWJsZSBhcnJheSBmb3IgZ2l2ZW4ga2V5c1xuXHQgKlxuXHQgKiBAcGFyYW0ge0FycmF5fSBrZXlzIEFycmF5IG9mIGtleXMuIEEga2V5IGlzIGEgT2JqZWN0IHdoaWNoIGhhcyBwcm9wZXJ0aWVzICdrJywgJ3YnLlxuXHQgKiAnaycgaXMgYSBrZXkgc3RyaW5nLCAndicgaXMgYSByZWNvcmQgYXNzaWduZWQgdG8gdGhhdCBrZXkuXG5cdCAqIEByZXR1cm4ge0RvdWJsZUFycmF5fSBDb21waWxlZCBkb3VibGUgYXJyYXlcblx0ICovXG5cdGJ1aWxkKGtleXM6IEtleVZhbHVlW10gPSB0aGlzLmtleXMsIHNvcnRlZCA9IGZhbHNlKTogRG91YmxlQXJyYXkge1xuXHRcdGlmIChrZXlzID09IG51bGwpIHtcblx0XHRcdHJldHVybiBuZXcgRG91YmxlQXJyYXkodGhpcy5iYyk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBrZXkgc3RyaW5nIHRvIEFycmF5QnVmZmVyXG5cdFx0Y29uc3QgYnVmZl9rZXlzID0ga2V5cy5tYXAoKGs6IEtleVZhbHVlKSA9PiB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRrOiBzdHJpbmdUb1V0ZjhCeXRlcyhrLmsgKyBURVJNX0NIQVIpLFxuXHRcdFx0XHR2OiBrLnYsXG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0Ly8gU29ydCBrZXlzIGJ5IGJ5dGUgb3JkZXJcblx0XHRpZiAoc29ydGVkKSB7XG5cdFx0XHR0aGlzLmtleXMgPSBidWZmX2tleXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMua2V5cyA9IGJ1ZmZfa2V5cy5zb3J0KChrMTogeyBrOiBhbnkgfSwgazI6IHsgazogYW55IH0pID0+IHtcblx0XHRcdFx0Y29uc3QgYjEgPSBrMS5rO1xuXHRcdFx0XHRjb25zdCBiMiA9IGsyLms7XG5cdFx0XHRcdGNvbnN0IG1pbl9sZW5ndGggPSBNYXRoLm1pbihiMS5sZW5ndGgsIGIyLmxlbmd0aCk7XG5cdFx0XHRcdGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IG1pbl9sZW5ndGg7IHBvcysrKSB7XG5cdFx0XHRcdFx0aWYgKGIxW3Bvc10gPT09IGIyW3Bvc10pIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gYjFbcG9zXSAtIGIyW3Bvc107XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGIxLmxlbmd0aCAtIGIyLmxlbmd0aDtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHR0aGlzLl9idWlsZChST09UX0lELCAwLCAwLCB0aGlzLmtleXMubGVuZ3RoKTtcblx0XHRyZXR1cm4gbmV3IERvdWJsZUFycmF5KHRoaXMuYmMpO1xuXHR9XG5cdC8qKlxuXHQgKiBBcHBlbmQgbm9kZXMgdG8gQkFTRSBhbmQgQ0hFQ0sgYXJyYXkgcmVjdXJzaXZlbHlcblx0ICovXG5cdF9idWlsZChcblx0XHRwYXJlbnRfaW5kZXg6IG51bWJlcixcblx0XHRwb3NpdGlvbjogbnVtYmVyLFxuXHRcdHN0YXJ0OiBudW1iZXIsXG5cdFx0bGVuZ3RoOiBudW1iZXIsXG5cdCkge1xuXHRcdGNvbnN0IGNoaWxkcmVuX2luZm8gPSB0aGlzLmdldENoaWxkcmVuSW5mbyhwb3NpdGlvbiwgc3RhcnQsIGxlbmd0aCk7XG5cdFx0Y29uc3QgX2Jhc2UgPSB0aGlzLmZpbmRBbGxvY2F0YWJsZUJhc2UoY2hpbGRyZW5faW5mbyk7XG5cblx0XHR0aGlzLnNldEJDKHBhcmVudF9pbmRleCwgY2hpbGRyZW5faW5mbywgX2Jhc2UpO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbl9pbmZvLmxlbmd0aDsgaSA9IGkgKyAzKSB7XG5cdFx0XHRjb25zdCBjaGlsZF9jb2RlID0gY2hpbGRyZW5faW5mb1tpXTtcblx0XHRcdGlmIChjaGlsZF9jb2RlID09PSBURVJNX0NPREUpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBjaGlsZF9zdGFydCA9IGNoaWxkcmVuX2luZm9baSArIDFdO1xuXHRcdFx0Y29uc3QgY2hpbGRfbGVuID0gY2hpbGRyZW5faW5mb1tpICsgMl07XG5cdFx0XHRjb25zdCBjaGlsZF9pbmRleCA9IF9iYXNlICsgY2hpbGRfY29kZTtcblx0XHRcdHRoaXMuX2J1aWxkKGNoaWxkX2luZGV4LCBwb3NpdGlvbiArIDEsIGNoaWxkX3N0YXJ0LCBjaGlsZF9sZW4pO1xuXHRcdH1cblx0fVxuXHRnZXRDaGlsZHJlbkluZm8ocG9zaXRpb246IG51bWJlciwgc3RhcnQ6IG51bWJlciwgbGVuZ3RoOiBudW1iZXIpIHtcblx0XHRsZXQgY3VycmVudF9jaGFyID0gdGhpcy5rZXlzW3N0YXJ0XS5rW3Bvc2l0aW9uXSBhcyBudW1iZXI7XG5cdFx0bGV0IGkgPSAwO1xuXHRcdGxldCBjaGlsZHJlbl9pbmZvID0gbmV3IEludDMyQXJyYXkobGVuZ3RoICogMyk7XG5cblx0XHRjaGlsZHJlbl9pbmZvW2krK10gPSBjdXJyZW50X2NoYXI7IC8vIGNoYXIgKGN1cnJlbnQpXG5cdFx0Y2hpbGRyZW5faW5mb1tpKytdID0gc3RhcnQ7IC8vIHN0YXJ0IGluZGV4IChjdXJyZW50KVxuXG5cdFx0bGV0IG5leHRfcG9zID0gc3RhcnQ7XG5cdFx0bGV0IHN0YXJ0X3BvcyA9IHN0YXJ0O1xuXHRcdGZvciAoOyBuZXh0X3BvcyA8IHN0YXJ0ICsgbGVuZ3RoOyBuZXh0X3BvcysrKSB7XG5cdFx0XHRjb25zdCBuZXh0X2NoYXIgPSB0aGlzLmtleXNbbmV4dF9wb3NdLmtbcG9zaXRpb25dIGFzIG51bWJlcjtcblx0XHRcdGlmIChjdXJyZW50X2NoYXIgIT09IG5leHRfY2hhcikge1xuXHRcdFx0XHRjaGlsZHJlbl9pbmZvW2krK10gPSBuZXh0X3BvcyAtIHN0YXJ0X3BvczsgLy8gbGVuZ3RoIChjdXJyZW50KVxuXG5cdFx0XHRcdGNoaWxkcmVuX2luZm9baSsrXSA9IG5leHRfY2hhcjsgLy8gY2hhciAobmV4dClcblx0XHRcdFx0Y2hpbGRyZW5faW5mb1tpKytdID0gbmV4dF9wb3M7IC8vIHN0YXJ0IGluZGV4IChuZXh0KVxuXHRcdFx0XHRjdXJyZW50X2NoYXIgPSBuZXh0X2NoYXI7XG5cdFx0XHRcdHN0YXJ0X3BvcyA9IG5leHRfcG9zO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjaGlsZHJlbl9pbmZvW2krK10gPSBuZXh0X3BvcyAtIHN0YXJ0X3Bvcztcblx0XHRjaGlsZHJlbl9pbmZvID0gY2hpbGRyZW5faW5mby5zdWJhcnJheSgwLCBpKTtcblxuXHRcdHJldHVybiBjaGlsZHJlbl9pbmZvO1xuXHR9XG5cdHNldEJDKHBhcmVudF9pZDogbnVtYmVyLCBjaGlsZHJlbl9pbmZvOiBJbnQzMkFycmF5LCBfYmFzZTogbnVtYmVyKSB7XG5cdFx0Y29uc3QgYmMgPSB0aGlzLmJjO1xuXG5cdFx0YmMuc2V0QmFzZShwYXJlbnRfaWQsIF9iYXNlKTsgLy8gVXBkYXRlIEJBU0Ugb2YgcGFyZW50IG5vZGVcblxuXHRcdGxldCBpOiBudW1iZXI7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGNoaWxkcmVuX2luZm8ubGVuZ3RoOyBpID0gaSArIDMpIHtcblx0XHRcdGNvbnN0IGNvZGUgPSBjaGlsZHJlbl9pbmZvW2ldO1xuXHRcdFx0Y29uc3QgY2hpbGRfaWQgPSBfYmFzZSArIGNvZGU7XG5cblx0XHRcdC8vIFVwZGF0ZSBsaW5rZWQgbGlzdCBvZiB1bnVzZWQgbm9kZXNcblx0XHRcdC8vIEFzc2VydGlvblxuXHRcdFx0Ly8gaWYgKGNoaWxkX2lkIDwgMCkge1xuXHRcdFx0Ly8gICAgIHRocm93ICdhc3NlcnRpb24gZXJyb3I6IGNoaWxkX2lkIGlzIG5lZ2F0aXZlJ1xuXHRcdFx0Ly8gfVxuXHRcdFx0Y29uc3QgcHJldl91bnVzZWRfaWQgPSAtYmMuZ2V0QmFzZShjaGlsZF9pZCk7XG5cdFx0XHRjb25zdCBuZXh0X3VudXNlZF9pZCA9IC1iYy5nZXRDaGVjayhjaGlsZF9pZCk7XG5cdFx0XHQvLyBpZiAocHJldl91bnVzZWRfaWQgPCAwKSB7XG5cdFx0XHQvLyAgICAgdGhyb3cgJ2Fzc2VydGlvbiBlcnJvcjogc2V0QkMnXG5cdFx0XHQvLyB9XG5cdFx0XHQvLyBpZiAobmV4dF91bnVzZWRfaWQgPCAwKSB7XG5cdFx0XHQvLyAgICAgdGhyb3cgJ2Fzc2VydGlvbiBlcnJvcjogc2V0QkMnXG5cdFx0XHQvLyB9XG5cdFx0XHRpZiAoY2hpbGRfaWQgIT09IGJjLmdldEZpcnN0VW51c2VkTm9kZSgpKSB7XG5cdFx0XHRcdGJjLnNldENoZWNrKHByZXZfdW51c2VkX2lkLCAtbmV4dF91bnVzZWRfaWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gVXBkYXRlIGZpcnN0X3VudXNlZF9ub2RlXG5cdFx0XHRcdGJjLnNldEZpcnN0VW51c2VkTm9kZShuZXh0X3VudXNlZF9pZCk7XG5cdFx0XHR9XG5cdFx0XHRiYy5zZXRCYXNlKG5leHRfdW51c2VkX2lkLCAtcHJldl91bnVzZWRfaWQpO1xuXG5cdFx0XHRjb25zdCBjaGVjayA9IHBhcmVudF9pZDsgLy8gQ0hFQ0sgaXMgcGFyZW50IG5vZGUgaW5kZXhcblx0XHRcdGJjLnNldENoZWNrKGNoaWxkX2lkLCBjaGVjayk7IC8vIFVwZGF0ZSBDSEVDSyBvZiBjaGlsZCBub2RlXG5cblx0XHRcdC8vIFVwZGF0ZSByZWNvcmRcblx0XHRcdGlmIChjb2RlID09PSBURVJNX0NPREUpIHtcblx0XHRcdFx0Y29uc3Qgc3RhcnRfcG9zID0gY2hpbGRyZW5faW5mb1tpICsgMV07XG5cdFx0XHRcdC8vIHZhciBsZW4gPSBjaGlsZHJlbl9pbmZvW2kgKyAyXTtcblx0XHRcdFx0Ly8gaWYgKGxlbiAhPSAxKSB7XG5cdFx0XHRcdC8vICAgICB0aHJvdyAnYXNzZXJ0aW9uIGVycm9yOiB0aGVyZSBhcmUgbXVsdGlwbGUgdGVybWluYWwgbm9kZXMuIGxlbjonICsgbGVuO1xuXHRcdFx0XHQvLyB9XG5cdFx0XHRcdGxldCB2YWx1ZSA9IHRoaXMua2V5c1tzdGFydF9wb3NdLnY7XG5cblx0XHRcdFx0aWYgKHZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBiYXNlID0gLXZhbHVlIC0gMTsgLy8gQkFTRSBpcyBpbnZlcnRlZCByZWNvcmQgdmFsdWVcblx0XHRcdFx0YmMuc2V0QmFzZShjaGlsZF9pZCwgYmFzZSk7IC8vIFVwZGF0ZSBCQVNFIG9mIGNoaWxkKGxlYWYpIG5vZGVcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0LyoqXG5cdCAqIEZpbmQgQkFTRSB2YWx1ZSB0aGF0IGFsbCBjaGlsZHJlbiBhcmUgYWxsb2NhdGFibGUgaW4gZG91YmxlIGFycmF5J3MgcmVnaW9uXG5cdCAqL1xuXHRmaW5kQWxsb2NhdGFibGVCYXNlKGNoaWxkcmVuX2luZm86IEludDMyQXJyYXkpIHtcblx0XHRjb25zdCBiYyA9IHRoaXMuYmM7XG5cblx0XHQvLyBBc3NlcnRpb246IGtleXMgYXJlIHNvcnRlZCBieSBieXRlIG9yZGVyXG5cdFx0Ly8gdmFyIGMgPSAtMTtcblx0XHQvLyBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuX2luZm8ubGVuZ3RoOyBpID0gaSArIDMpIHtcblx0XHQvLyAgICAgaWYgKGNoaWxkcmVuX2luZm9baV0gPCBjKSB7XG5cdFx0Ly8gICAgICAgICB0aHJvdyAnYXNzZXJ0aW9uIGVycm9yOiBub3Qgc29ydCBrZXknXG5cdFx0Ly8gICAgIH1cblx0XHQvLyAgICAgYyA9IGNoaWxkcmVuX2luZm9baV07XG5cdFx0Ly8gfVxuXHRcdC8vIGl0ZXJhdGUgbGlua2VkIGxpc3Qgb2YgdW51c2VkIG5vZGVzXG5cdFx0bGV0IF9iYXNlOiBudW1iZXI7XG5cdFx0bGV0IGN1cnIgPSBiYy5nZXRGaXJzdFVudXNlZE5vZGUoKTsgLy8gY3VycmVudCBpbmRleFxuXG5cdFx0Ly8gaWYgKGN1cnIgPCAwKSB7XG5cdFx0Ly8gICAgIHRocm93ICdhc3NlcnRpb24gZXJyb3I6IGdldEZpcnN0VW51c2VkTm9kZSByZXR1cm5zIG5lZ2F0aXZlIHZhbHVlJ1xuXHRcdC8vIH1cblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0X2Jhc2UgPSBjdXJyIC0gY2hpbGRyZW5faW5mb1swXTtcblxuXHRcdFx0aWYgKF9iYXNlIDwgMCkge1xuXHRcdFx0XHRjdXJyID0gLWJjLmdldENoZWNrKGN1cnIpOyAvLyBuZXh0XG5cblx0XHRcdFx0Ly8gaWYgKGN1cnIgPCAwKSB7XG5cdFx0XHRcdC8vICAgICB0aHJvdyAnYXNzZXJ0aW9uIGVycm9yOiBnZXRDaGVjayByZXR1cm5zIG5lZ2F0aXZlIHZhbHVlJ1xuXHRcdFx0XHQvLyB9XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgZW1wdHlfYXJlYV9mb3VuZCA9IHRydWU7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuX2luZm8ubGVuZ3RoOyBpID0gaSArIDMpIHtcblx0XHRcdFx0Y29uc3QgY29kZSA9IGNoaWxkcmVuX2luZm9baV07XG5cdFx0XHRcdGNvbnN0IGNhbmRpZGF0ZV9pZCA9IF9iYXNlICsgY29kZTtcblxuXHRcdFx0XHRpZiAoIXRoaXMuaXNVbnVzZWROb2RlKGNhbmRpZGF0ZV9pZCkpIHtcblx0XHRcdFx0XHQvLyBjYW5kaWRhdGVfaWQgaXMgdXNlZCBub2RlXG5cdFx0XHRcdFx0Ly8gbmV4dFxuXHRcdFx0XHRcdGN1cnIgPSAtYmMuZ2V0Q2hlY2soY3Vycik7XG5cdFx0XHRcdFx0Ly8gaWYgKGN1cnIgPCAwKSB7XG5cdFx0XHRcdFx0Ly8gICAgIHRocm93ICdhc3NlcnRpb24gZXJyb3I6IGdldENoZWNrIHJldHVybnMgbmVnYXRpdmUgdmFsdWUnXG5cdFx0XHRcdFx0Ly8gfVxuXHRcdFx0XHRcdGVtcHR5X2FyZWFfZm91bmQgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0aWYgKGVtcHR5X2FyZWFfZm91bmQpIHtcblx0XHRcdFx0Ly8gQXJlYSBpcyBmcmVlXG5cdFx0XHRcdHJldHVybiBfYmFzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0LyoqXG5cdCAqIENoZWNrIHRoaXMgZG91YmxlIGFycmF5IGluZGV4IGlzIHVudXNlZCBvciBub3Rcblx0ICovXG5cdGlzVW51c2VkTm9kZShpbmRleDogbnVtYmVyKSB7XG5cdFx0Y29uc3QgYmMgPSB0aGlzLmJjO1xuXHRcdGNvbnN0IGNoZWNrID0gYmMuZ2V0Q2hlY2soaW5kZXgpO1xuXG5cdFx0Ly8gaWYgKGluZGV4IDwgMCkge1xuXHRcdC8vICAgICB0aHJvdyAnYXNzZXJ0aW9uIGVycm9yOiBpc1VudXNlZE5vZGUgaW5kZXg6JyArIGluZGV4O1xuXHRcdC8vIH1cblx0XHRpZiAoaW5kZXggPT09IFJPT1RfSUQpIHtcblx0XHRcdC8vIHJvb3Qgbm9kZVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0XHRpZiAoY2hlY2sgPCAwKSB7XG5cdFx0XHQvLyB1bnVzZWRcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIHVzZWQgbm9kZSAoaW5jbC4gbGVhZilcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxuLyoqXG4gKiBGYWN0b3J5IG1ldGhvZCBvZiBkb3VibGUgYXJyYXlcbiAqL1xuZXhwb3J0IGNsYXNzIERvdWJsZUFycmF5IHtcblx0YmM6IEJhc2VBbmRDaGVjaztcblx0Y29uc3RydWN0b3IoYmM6IEJhc2VBbmRDaGVjaykge1xuXHRcdHRoaXMuYmMgPSBiYzsgLy8gQkFTRSBhbmQgQ0hFQ0tcblx0XHR0aGlzLmJjLnNocmluaygpO1xuXHR9XG5cdC8qKlxuXHQgKiBMb29rIHVwIGEgZ2l2ZW4ga2V5IGluIHRoaXMgdHJpZVxuXHQgKlxuXHQgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG5cdCAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhpcyB0cmllIGNvbnRhaW5zIGEgZ2l2ZW4ga2V5XG5cdCAqL1xuXHRjb250YWluKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0Y29uc3QgYmMgPSB0aGlzLmJjO1xuXG5cdFx0a2V5ICs9IFRFUk1fQ0hBUjtcblx0XHRjb25zdCBidWZmZXIgPSBzdHJpbmdUb1V0ZjhCeXRlcyhrZXkpO1xuXG5cdFx0bGV0IHBhcmVudCA9IFJPT1RfSUQ7XG5cdFx0bGV0IGNoaWxkID0gTk9UX0ZPVU5EO1xuXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGNvZGUgPSBidWZmZXJbaV07XG5cblx0XHRcdGNoaWxkID0gdGhpcy50cmF2ZXJzZShwYXJlbnQsIGNvZGUpO1xuXHRcdFx0aWYgKGNoaWxkID09PSBOT1RfRk9VTkQpIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYmMuZ2V0QmFzZShjaGlsZCkgPD0gMCkge1xuXHRcdFx0XHQvLyBsZWFmIG5vZGVcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHQvLyBub3QgbGVhZlxuXHRcdFx0cGFyZW50ID0gY2hpbGQ7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHQvKipcblx0ICogTG9vayB1cCBhIGdpdmVuIGtleSBpbiB0aGlzIHRyaWVcblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IGtleVxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IFJlY29yZCB2YWx1ZSBhc3NnbmVkIHRvIHRoaXMga2V5LCAtMSBpZiB0aGlzIGtleSBkb2VzIG5vdCBjb250YWluXG5cdCAqL1xuXHRsb29rdXAoa2V5OiBzdHJpbmcpOiBudW1iZXIge1xuXHRcdGtleSArPSBURVJNX0NIQVI7XG5cdFx0Y29uc3QgYnVmZmVyID0gc3RyaW5nVG9VdGY4Qnl0ZXMoa2V5KTtcblxuXHRcdGxldCBwYXJlbnQgPSBST09UX0lEO1xuXHRcdGxldCBjaGlsZCA9IE5PVF9GT1VORDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjb2RlID0gYnVmZmVyW2ldO1xuXHRcdFx0Y2hpbGQgPSB0aGlzLnRyYXZlcnNlKHBhcmVudCwgY29kZSk7XG5cdFx0XHRpZiAoY2hpbGQgPT09IE5PVF9GT1VORCkge1xuXHRcdFx0XHRyZXR1cm4gTk9UX0ZPVU5EO1xuXHRcdFx0fVxuXHRcdFx0cGFyZW50ID0gY2hpbGQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYmFzZSA9IHRoaXMuYmMuZ2V0QmFzZShjaGlsZCk7XG5cdFx0aWYgKGJhc2UgPD0gMCkge1xuXHRcdFx0Ly8gbGVhZiBub2RlXG5cdFx0XHRyZXR1cm4gLWJhc2UgLSAxO1xuXHRcdH1cblx0XHQvLyBub3QgbGVhZlxuXHRcdHJldHVybiBOT1RfRk9VTkQ7XG5cdH1cblx0LyoqXG5cdCAqIENvbW1vbiBwcmVmaXggc2VhcmNoXG5cdCAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcblx0ICogQHJldHVybiB7QXJyYXl9IEVhY2ggcmVzdWx0IG9iamVjdCBoYXMgJ2snIGFuZCAndicgKGtleSBhbmQgcmVjb3JkLFxuXHQgKiByZXNwZWN0aXZlbHkpIHByb3BlcnRpZXMgYXNzaWduZWQgdG8gbWF0Y2hlZCBzdHJpbmdcblx0ICovXG5cdGNvbW1vblByZWZpeFNlYXJjaChrZXk6IHN0cmluZyk6IEtleVZhbHVlW10ge1xuXHRcdGNvbnN0IGJ1ZmZlciA9IHN0cmluZ1RvVXRmOEJ5dGVzKGtleSk7XG5cblx0XHRsZXQgcGFyZW50ID0gUk9PVF9JRDtcblx0XHRsZXQgY2hpbGQgPSBOT1RfRk9VTkQ7XG5cblx0XHRjb25zdCByZXN1bHQ6IEtleVZhbHVlW10gPSBbXTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjb2RlID0gYnVmZmVyW2ldO1xuXG5cdFx0XHRjaGlsZCA9IHRoaXMudHJhdmVyc2UocGFyZW50LCBjb2RlKTtcblxuXHRcdFx0aWYgKGNoaWxkICE9PSBOT1RfRk9VTkQpIHtcblx0XHRcdFx0cGFyZW50ID0gY2hpbGQ7XG5cblx0XHRcdFx0Ly8gbG9vayBmb3J3YXJkIGJ5IHRlcm1pbmFsIGNoYXJhY3RlciBjb2RlIHRvIGNoZWNrIHRoaXMgbm9kZSBpcyBhIGxlYWYgb3Igbm90XG5cdFx0XHRcdGNvbnN0IGdyYW5kX2NoaWxkID0gdGhpcy50cmF2ZXJzZShjaGlsZCwgVEVSTV9DT0RFKTtcblxuXHRcdFx0XHRpZiAoZ3JhbmRfY2hpbGQgIT09IE5PVF9GT1VORCkge1xuXHRcdFx0XHRcdGNvbnN0IGJhc2UgPSB0aGlzLmJjLmdldEJhc2UoZ3JhbmRfY2hpbGQpO1xuXG5cdFx0XHRcdFx0Y29uc3QgcjogS2V5VmFsdWUgPSB7XG5cdFx0XHRcdFx0XHRrOiBcIlwiLFxuXHRcdFx0XHRcdFx0djogMCxcblx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0aWYgKGJhc2UgPD0gMCkge1xuXHRcdFx0XHRcdFx0Ly8gSWYgY2hpbGQgaXMgYSBsZWFmIG5vZGUsIGFkZCByZWNvcmQgdG8gcmVzdWx0XG5cdFx0XHRcdFx0XHRyLnYgPSAtYmFzZSAtIDE7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gSWYgY2hpbGQgaXMgYSBsZWFmIG5vZGUsIGFkZCB3b3JkIHRvIHJlc3VsdFxuXHRcdFx0XHRcdHIuayA9IHV0ZjhCeXRlc1RvU3RyaW5nKGFycmF5Q29weShidWZmZXIsIDAsIGkgKyAxKSk7XG5cblx0XHRcdFx0XHRyZXN1bHQucHVzaChyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXHR0cmF2ZXJzZShwYXJlbnQ6IG51bWJlciwgY29kZTogbnVtYmVyKSB7XG5cdFx0Y29uc3QgY2hpbGQgPSB0aGlzLmJjLmdldEJhc2UocGFyZW50KSArIGNvZGU7XG5cdFx0aWYgKHRoaXMuYmMuZ2V0Q2hlY2soY2hpbGQpID09PSBwYXJlbnQpIHtcblx0XHRcdHJldHVybiBjaGlsZDtcblx0XHR9XG5cdFx0cmV0dXJuIE5PVF9GT1VORDtcblx0fVxuXHRzaXplKCkge1xuXHRcdHJldHVybiB0aGlzLmJjLnNpemUoKTtcblx0fVxuXHRjYWxjKCkge1xuXHRcdHJldHVybiB0aGlzLmJjLmNhbGMoKTtcblx0fVxuXHRkdW1wKCkge1xuXHRcdHJldHVybiB0aGlzLmJjLmR1bXAoKTtcblx0fVxufVxuXG4vLyBBcnJheSB1dGlsaXR5IGZ1bmN0aW9uc1xuXG5jb25zdCBuZXdBcnJheUJ1ZmZlciA9IChzaWduZWQ6IGJvb2xlYW4sIGJ5dGVzOiBudW1iZXIsIHNpemU6IG51bWJlcikgPT4ge1xuXHRpZiAoc2lnbmVkKSB7XG5cdFx0c3dpdGNoIChieXRlcykge1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRyZXR1cm4gbmV3IEludDhBcnJheShzaXplKTtcblx0XHRcdGNhc2UgMjpcblx0XHRcdFx0cmV0dXJuIG5ldyBJbnQxNkFycmF5KHNpemUpO1xuXHRcdFx0Y2FzZSA0OlxuXHRcdFx0XHRyZXR1cm4gbmV3IEludDMyQXJyYXkoc2l6ZSk7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihcblx0XHRcdFx0XHRgSW52YWxpZCBuZXdBcnJheSBwYXJhbWV0ZXIgZWxlbWVudF9ieXRlczoke2J5dGVzfWAsXG5cdFx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cdHN3aXRjaCAoYnl0ZXMpIHtcblx0XHRjYXNlIDE6XG5cdFx0XHRyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoc2l6ZSk7XG5cdFx0Y2FzZSAyOlxuXHRcdFx0cmV0dXJuIG5ldyBVaW50MTZBcnJheShzaXplKTtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gbmV3IFVpbnQzMkFycmF5KHNpemUpO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHR0aHJvdyBuZXcgUmFuZ2VFcnJvcihgSW52YWxpZCBuZXdBcnJheSBwYXJhbWV0ZXIgZWxlbWVudF9ieXRlczoke2J5dGVzfWApO1xuXHR9XG59O1xuXG5jb25zdCBhcnJheUNvcHkgPSAoc3JjOiBVaW50OEFycmF5LCBzcmNfb2Zmc2V0OiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKSA9PiB7XG5cdGNvbnN0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuXHRjb25zdCBkc3RVOCA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgMCwgbGVuZ3RoKTtcblx0Y29uc3Qgc3JjVTggPSBzcmMuc3ViYXJyYXkoc3JjX29mZnNldCwgbGVuZ3RoKTtcblx0ZHN0VTguc2V0KHNyY1U4KTtcblx0cmV0dXJuIGRzdFU4O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IFN0cmluZyAoVVRGLTE2KSB0byBVVEYtOCBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVVRGLTE2IHN0cmluZyB0byBjb252ZXJ0XG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fSBCeXRlIHNlcXVlbmNlIGVuY29kZWQgYnkgVVRGLThcbiAqL1xuY29uc3Qgc3RyaW5nVG9VdGY4Qnl0ZXMgPSAoc3RyOiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcblx0Ly8gTWF4IHNpemUgb2YgMSBjaGFyYWN0ZXIgaXMgNCBieXRlc1xuXHRjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihzdHIubGVuZ3RoICogNCkpO1xuXG5cdGxldCBpID0gMDtcblx0bGV0IGogPSAwO1xuXG5cdHdoaWxlIChpIDwgc3RyLmxlbmd0aCkge1xuXHRcdGxldCB1bmljb2RlX2NvZGU6IG51bWJlcjtcblxuXHRcdGNvbnN0IHV0ZjE2X2NvZGUgPSBzdHIuY2hhckNvZGVBdChpKyspO1xuXHRcdGlmICh1dGYxNl9jb2RlID49IDB4ZDgwMCAmJiB1dGYxNl9jb2RlIDw9IDB4ZGJmZikge1xuXHRcdFx0Ly8gc3Vycm9nYXRlIHBhaXJcblx0XHRcdGNvbnN0IHVwcGVyID0gdXRmMTZfY29kZTsgLy8gaGlnaCBzdXJyb2dhdGVcblx0XHRcdGNvbnN0IGxvd2VyID0gc3RyLmNoYXJDb2RlQXQoaSsrKTsgLy8gbG93IHN1cnJvZ2F0ZVxuXG5cdFx0XHRpZiAobG93ZXIgPj0gMHhkYzAwICYmIGxvd2VyIDw9IDB4ZGZmZikge1xuXHRcdFx0XHR1bmljb2RlX2NvZGUgPVxuXHRcdFx0XHRcdCh1cHBlciAtIDB4ZDgwMCkgKiAoMSA8PCAxMCkgKyAoMSA8PCAxNikgKyAobG93ZXIgLSAweGRjMDApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gbWFsZm9ybWVkIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm1hbGZvcm1lZCBzdXJyb2dhdGUgcGFpclwiKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gbm90IHN1cnJvZ2F0ZSBjb2RlXG5cdFx0XHR1bmljb2RlX2NvZGUgPSB1dGYxNl9jb2RlO1xuXHRcdH1cblxuXHRcdGlmICh1bmljb2RlX2NvZGUgPCAweDgwKSB7XG5cdFx0XHQvLyAxLWJ5dGVcblx0XHRcdGJ5dGVzW2orK10gPSB1bmljb2RlX2NvZGU7XG5cdFx0fSBlbHNlIGlmICh1bmljb2RlX2NvZGUgPCAxIDw8IDExKSB7XG5cdFx0XHQvLyAyLWJ5dGVcblx0XHRcdGJ5dGVzW2orK10gPSAodW5pY29kZV9jb2RlID4+PiA2KSB8IDB4YzA7XG5cdFx0XHRieXRlc1tqKytdID0gKHVuaWNvZGVfY29kZSAmIDB4M2YpIHwgMHg4MDtcblx0XHR9IGVsc2UgaWYgKHVuaWNvZGVfY29kZSA8IDEgPDwgMTYpIHtcblx0XHRcdC8vIDMtYnl0ZVxuXHRcdFx0Ynl0ZXNbaisrXSA9ICh1bmljb2RlX2NvZGUgPj4+IDEyKSB8IDB4ZTA7XG5cdFx0XHRieXRlc1tqKytdID0gKCh1bmljb2RlX2NvZGUgPj4gNikgJiAweDNmKSB8IDB4ODA7XG5cdFx0XHRieXRlc1tqKytdID0gKHVuaWNvZGVfY29kZSAmIDB4M2YpIHwgMHg4MDtcblx0XHR9IGVsc2UgaWYgKHVuaWNvZGVfY29kZSA8IDEgPDwgMjEpIHtcblx0XHRcdC8vIDQtYnl0ZVxuXHRcdFx0Ynl0ZXNbaisrXSA9ICh1bmljb2RlX2NvZGUgPj4+IDE4KSB8IDB4ZjA7XG5cdFx0XHRieXRlc1tqKytdID0gKCh1bmljb2RlX2NvZGUgPj4gMTIpICYgMHgzZikgfCAweDgwO1xuXHRcdFx0Ynl0ZXNbaisrXSA9ICgodW5pY29kZV9jb2RlID4+IDYpICYgMHgzZikgfCAweDgwO1xuXHRcdFx0Ynl0ZXNbaisrXSA9ICh1bmljb2RlX2NvZGUgJiAweDNmKSB8IDB4ODA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG1hbGZvcm1lZCBVQ1M0IGNvZGVcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYnl0ZXMuc3ViYXJyYXkoMCwgaik7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgVVRGLTggQXJyYXlCdWZmZXIgdG8gU3RyaW5nIChVVEYtMTYpXG4gKlxuICogQHBhcmFtIHtVaW50OEFycmF5fSBieXRlcyBVVEYtOCBieXRlIHNlcXVlbmNlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm4ge1N0cmluZ30gU3RyaW5nIGVuY29kZWQgYnkgVVRGLTE2XG4gKi9cbmNvbnN0IHV0ZjhCeXRlc1RvU3RyaW5nID0gKGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nID0+IHtcblx0bGV0IHN0ciA9IFwiXCI7XG5cdGxldCBjb2RlOiBudW1iZXI7XG5cdGxldCBiMTogbnVtYmVyO1xuXHRsZXQgYjI6IG51bWJlcjtcblx0bGV0IGIzOiBudW1iZXI7XG5cdGxldCBiNDogbnVtYmVyO1xuXHRsZXQgdXBwZXI6IG51bWJlcjtcblx0bGV0IGxvd2VyOiBudW1iZXI7XG5cdGxldCBpID0gMDtcblxuXHR3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCkge1xuXHRcdGIxID0gYnl0ZXNbaSsrXTtcblxuXHRcdGlmIChiMSA8IDB4ODApIHtcblx0XHRcdC8vIDEgYnl0ZVxuXHRcdFx0Y29kZSA9IGIxO1xuXHRcdH0gZWxzZSBpZiAoYjEgPj4gNSA9PT0gMHgwNikge1xuXHRcdFx0Ly8gMiBieXRlc1xuXHRcdFx0YjIgPSBieXRlc1tpKytdO1xuXHRcdFx0Y29kZSA9ICgoYjEgJiAweDFmKSA8PCA2KSB8IChiMiAmIDB4M2YpO1xuXHRcdH0gZWxzZSBpZiAoYjEgPj4gNCA9PT0gMHgwZSkge1xuXHRcdFx0Ly8gMyBieXRlc1xuXHRcdFx0YjIgPSBieXRlc1tpKytdO1xuXHRcdFx0YjMgPSBieXRlc1tpKytdO1xuXHRcdFx0Y29kZSA9ICgoYjEgJiAweDBmKSA8PCAxMikgfCAoKGIyICYgMHgzZikgPDwgNikgfCAoYjMgJiAweDNmKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gNCBieXRlc1xuXHRcdFx0YjIgPSBieXRlc1tpKytdO1xuXHRcdFx0YjMgPSBieXRlc1tpKytdO1xuXHRcdFx0YjQgPSBieXRlc1tpKytdO1xuXHRcdFx0Y29kZSA9XG5cdFx0XHRcdCgoYjEgJiAweDA3KSA8PCAxOCkgfFxuXHRcdFx0XHQoKGIyICYgMHgzZikgPDwgMTIpIHxcblx0XHRcdFx0KChiMyAmIDB4M2YpIDw8IDYpIHxcblx0XHRcdFx0KGI0ICYgMHgzZik7XG5cdFx0fVxuXG5cdFx0aWYgKGNvZGUgPCAweDEwMDAwKSB7XG5cdFx0XHRzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gc3Vycm9nYXRlIHBhaXJcblx0XHRcdGNvZGUgLT0gMHgxMDAwMDtcblx0XHRcdHVwcGVyID0gMHhkODAwIHwgKGNvZGUgPj4gMTApO1xuXHRcdFx0bG93ZXIgPSAweGRjMDAgfCAoY29kZSAmIDB4M2ZmKTtcblx0XHRcdHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVwcGVyLCBsb3dlcik7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cjtcbn07XG5cbi8vIHB1YmxpYyBtZXRob2RzXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRlcihpbml0aWFsX3NpemU6IG51bWJlcikge1xuXHRyZXR1cm4gbmV3IERvdWJsZUFycmF5QnVpbGRlcihpbml0aWFsX3NpemUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQoYmFzZV9idWZmZXI6IEFycmF5cywgY2hlY2tfYnVmZmVyOiBBcnJheXMpIHtcblx0Y29uc3QgYmMgPSBuZXdCQygwKTtcblx0YmMubG9hZEJhc2VCdWZmZXIoYmFzZV9idWZmZXIpO1xuXHRiYy5sb2FkQ2hlY2tCdWZmZXIoY2hlY2tfYnVmZmVyKTtcblx0cmV0dXJuIG5ldyBEb3VibGVBcnJheShiYyk7XG59XG4iLCIvKipcbiAqIENvbm5lY3Rpb24gY29zdHMgbWF0cml4IGZyb20gY2MuZGF0IGZpbGUuXG4gKiAyIGRpbWVuc2lvbiBtYXRyaXggW2ZvcndhcmRfaWRdW2JhY2t3YXJkX2lkXSAtPiBjb3N0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBmb3J3YXJkX2RpbWVuc2lvblxuICogQHBhcmFtIHtudW1iZXJ9IGJhY2t3YXJkX2RpbWVuc2lvblxuICovXG5jbGFzcyBDb25uZWN0aW9uQ29zdHMge1xuXHRidWZmZXI6IEludDE2QXJyYXk7XG5cdGZvcndhcmRfZGltZW5zaW9uOiBudW1iZXI7XG5cdGJhY2t3YXJkX2RpbWVuc2lvbjogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKGZvcndhcmRfZGltZW5zaW9uOiBudW1iZXIsIGJhY2t3YXJkX2RpbWVuc2lvbjogbnVtYmVyKSB7XG5cdFx0dGhpcy5mb3J3YXJkX2RpbWVuc2lvbiA9IGZvcndhcmRfZGltZW5zaW9uO1xuXHRcdHRoaXMuYmFja3dhcmRfZGltZW5zaW9uID0gYmFja3dhcmRfZGltZW5zaW9uO1xuXG5cdFx0Ly8gbGVhZGluZyAyIGludGVnZXJzIGZvciBmb3J3YXJkX2RpbWVuc2lvbiwgYmFja3dhcmRfZGltZW5zaW9uLCByZXNwZWN0aXZlbHlcblx0XHR0aGlzLmJ1ZmZlciA9IG5ldyBJbnQxNkFycmF5KGZvcndhcmRfZGltZW5zaW9uICogYmFja3dhcmRfZGltZW5zaW9uICsgMik7XG5cdFx0dGhpcy5idWZmZXJbMF0gPSBmb3J3YXJkX2RpbWVuc2lvbjtcblx0XHR0aGlzLmJ1ZmZlclsxXSA9IGJhY2t3YXJkX2RpbWVuc2lvbjtcblx0fVxuXHRwdXQoZm9yd2FyZF9pZDogbnVtYmVyLCBiYWNrd2FyZF9pZDogbnVtYmVyLCBjb3N0OiBudW1iZXIpIHtcblx0XHRjb25zdCBpbmRleCA9IGZvcndhcmRfaWQgKiB0aGlzLmJhY2t3YXJkX2RpbWVuc2lvbiArIGJhY2t3YXJkX2lkICsgMjtcblx0XHRpZiAodGhpcy5idWZmZXIubGVuZ3RoIDwgaW5kZXggKyAxKSB7XG5cdFx0XHR0aHJvdyBcIkNvbm5lY3Rpb25Db3N0cyBidWZmZXIgb3ZlcmZsb3dcIjtcblx0XHR9XG5cdFx0dGhpcy5idWZmZXJbaW5kZXhdID0gY29zdDtcblx0fVxuXHRnZXQoZm9yd2FyZF9pZDogbnVtYmVyLCBiYWNrd2FyZF9pZDogbnVtYmVyKSB7XG5cdFx0Y29uc3QgaW5kZXggPSBmb3J3YXJkX2lkICogdGhpcy5iYWNrd2FyZF9kaW1lbnNpb24gKyBiYWNrd2FyZF9pZCArIDI7XG5cdFx0aWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA8IGluZGV4ICsgMSkge1xuXHRcdFx0dGhyb3cgXCJDb25uZWN0aW9uQ29zdHMgYnVmZmVyIG92ZXJmbG93XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmJ1ZmZlcltpbmRleF07XG5cdH1cblx0bG9hZENvbm5lY3Rpb25Db3N0cyhjb25uZWN0aW9uX2Nvc3RzX2J1ZmZlcjogSW50MTZBcnJheSkge1xuXHRcdHRoaXMuZm9yd2FyZF9kaW1lbnNpb24gPSBjb25uZWN0aW9uX2Nvc3RzX2J1ZmZlclswXTtcblx0XHR0aGlzLmJhY2t3YXJkX2RpbWVuc2lvbiA9IGNvbm5lY3Rpb25fY29zdHNfYnVmZmVyWzFdO1xuXHRcdHRoaXMuYnVmZmVyID0gY29ubmVjdGlvbl9jb3N0c19idWZmZXI7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29ubmVjdGlvbkNvc3RzO1xuIiwiLyoqXG4gKiBDb252ZXJ0IFN0cmluZyAoVVRGLTE2KSB0byBVVEYtOCBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVVRGLTE2IHN0cmluZyB0byBjb252ZXJ0XG4gKiBAcmV0dXJuIHtVaW50OEFycmF5fSBCeXRlIHNlcXVlbmNlIGVuY29kZWQgYnkgVVRGLThcbiAqL1xuY29uc3Qgc3RyaW5nVG9VdGY4Qnl0ZXMgPSAoc3RyOiBzdHJpbmcpOiBVaW50OEFycmF5ID0+IHtcblx0Ly8gTWF4IHNpemUgb2YgMSBjaGFyYWN0ZXIgaXMgNCBieXRlc1xuXHRjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KHN0ci5sZW5ndGggKiA0KTtcblxuXHRsZXQgaSA9IDA7XG5cdGxldCBqID0gMDtcblxuXHR3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcblx0XHRsZXQgdW5pY29kZV9jb2RlOiBudW1iZXI7XG5cblx0XHRjb25zdCB1dGYxNl9jb2RlID0gc3RyLmNoYXJDb2RlQXQoaSsrKTtcblx0XHRpZiAodXRmMTZfY29kZSA+PSAweGQ4MDAgJiYgdXRmMTZfY29kZSA8PSAweGRiZmYpIHtcblx0XHRcdC8vIHN1cnJvZ2F0ZSBwYWlyXG5cdFx0XHRjb25zdCB1cHBlciA9IHV0ZjE2X2NvZGU7IC8vIGhpZ2ggc3Vycm9nYXRlXG5cdFx0XHRjb25zdCBsb3dlciA9IHN0ci5jaGFyQ29kZUF0KGkrKyk7IC8vIGxvdyBzdXJyb2dhdGVcblxuXHRcdFx0aWYgKGxvd2VyID49IDB4ZGMwMCAmJiBsb3dlciA8PSAweGRmZmYpIHtcblx0XHRcdFx0dW5pY29kZV9jb2RlID1cblx0XHRcdFx0XHQodXBwZXIgLSAweGQ4MDApICogKDEgPDwgMTApICsgKDEgPDwgMTYpICsgKGxvd2VyIC0gMHhkYzAwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIG1hbGZvcm1lZCBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJtYWxmb3JtZWQgc3Vycm9nYXRlIHBhaXJcIik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIG5vdCBzdXJyb2dhdGUgY29kZVxuXHRcdFx0dW5pY29kZV9jb2RlID0gdXRmMTZfY29kZTtcblx0XHR9XG5cblx0XHRpZiAodW5pY29kZV9jb2RlIDwgMHg4MCkge1xuXHRcdFx0Ly8gMS1ieXRlXG5cdFx0XHRieXRlc1tqKytdID0gdW5pY29kZV9jb2RlO1xuXHRcdH0gZWxzZSBpZiAodW5pY29kZV9jb2RlIDwgMSA8PCAxMSkge1xuXHRcdFx0Ly8gMi1ieXRlXG5cdFx0XHRieXRlc1tqKytdID0gKHVuaWNvZGVfY29kZSA+Pj4gNikgfCAweGMwO1xuXHRcdFx0Ynl0ZXNbaisrXSA9ICh1bmljb2RlX2NvZGUgJiAweDNmKSB8IDB4ODA7XG5cdFx0fSBlbHNlIGlmICh1bmljb2RlX2NvZGUgPCAxIDw8IDE2KSB7XG5cdFx0XHQvLyAzLWJ5dGVcblx0XHRcdGJ5dGVzW2orK10gPSAodW5pY29kZV9jb2RlID4+PiAxMikgfCAweGUwO1xuXHRcdFx0Ynl0ZXNbaisrXSA9ICgodW5pY29kZV9jb2RlID4+IDYpICYgMHgzZikgfCAweDgwO1xuXHRcdFx0Ynl0ZXNbaisrXSA9ICh1bmljb2RlX2NvZGUgJiAweDNmKSB8IDB4ODA7XG5cdFx0fSBlbHNlIGlmICh1bmljb2RlX2NvZGUgPCAxIDw8IDIxKSB7XG5cdFx0XHQvLyA0LWJ5dGVcblx0XHRcdGJ5dGVzW2orK10gPSAodW5pY29kZV9jb2RlID4+PiAxOCkgfCAweGYwO1xuXHRcdFx0Ynl0ZXNbaisrXSA9ICgodW5pY29kZV9jb2RlID4+IDEyKSAmIDB4M2YpIHwgMHg4MDtcblx0XHRcdGJ5dGVzW2orK10gPSAoKHVuaWNvZGVfY29kZSA+PiA2KSAmIDB4M2YpIHwgMHg4MDtcblx0XHRcdGJ5dGVzW2orK10gPSAodW5pY29kZV9jb2RlICYgMHgzZikgfCAweDgwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBtYWxmb3JtZWQgVUNTNCBjb2RlXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGJ5dGVzLnN1YmFycmF5KDAsIGopO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IFVURi04IEFycmF5QnVmZmVyIHRvIFN0cmluZyAoVVRGLTE2KVxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGJ5dGVzIFVURi04IGJ5dGUgc2VxdWVuY2UgdG8gY29udmVydFxuICogQHJldHVybiB7U3RyaW5nfSBTdHJpbmcgZW5jb2RlZCBieSBVVEYtMTZcbiAqL1xuY29uc3QgdXRmOEJ5dGVzVG9TdHJpbmcgPSAoYnl0ZXM6IG51bWJlcltdKTogc3RyaW5nID0+IHtcblx0bGV0IHN0ciA9IFwiXCI7XG5cdGxldCBjb2RlOiBudW1iZXI7XG5cdGxldCBiMTogbnVtYmVyO1xuXHRsZXQgYjI6IG51bWJlcjtcblx0bGV0IGIzOiBudW1iZXI7XG5cdGxldCBiNDogbnVtYmVyO1xuXHRsZXQgdXBwZXI6IG51bWJlcjtcblx0bGV0IGxvd2VyOiBudW1iZXI7XG5cdGxldCBpID0gMDtcblxuXHR3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCkge1xuXHRcdGIxID0gYnl0ZXNbaSsrXTtcblxuXHRcdGlmIChiMSA8IDB4ODApIHtcblx0XHRcdC8vIDEgYnl0ZVxuXHRcdFx0Y29kZSA9IGIxO1xuXHRcdH0gZWxzZSBpZiAoYjEgPj4gNSA9PT0gMHgwNikge1xuXHRcdFx0Ly8gMiBieXRlc1xuXHRcdFx0YjIgPSBieXRlc1tpKytdO1xuXHRcdFx0Y29kZSA9ICgoYjEgJiAweDFmKSA8PCA2KSB8IChiMiAmIDB4M2YpO1xuXHRcdH0gZWxzZSBpZiAoYjEgPj4gNCA9PT0gMHgwZSkge1xuXHRcdFx0Ly8gMyBieXRlc1xuXHRcdFx0YjIgPSBieXRlc1tpKytdO1xuXHRcdFx0YjMgPSBieXRlc1tpKytdO1xuXHRcdFx0Y29kZSA9ICgoYjEgJiAweDBmKSA8PCAxMikgfCAoKGIyICYgMHgzZikgPDwgNikgfCAoYjMgJiAweDNmKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gNCBieXRlc1xuXHRcdFx0YjIgPSBieXRlc1tpKytdO1xuXHRcdFx0YjMgPSBieXRlc1tpKytdO1xuXHRcdFx0YjQgPSBieXRlc1tpKytdO1xuXHRcdFx0Y29kZSA9XG5cdFx0XHRcdCgoYjEgJiAweDA3KSA8PCAxOCkgfFxuXHRcdFx0XHQoKGIyICYgMHgzZikgPDwgMTIpIHxcblx0XHRcdFx0KChiMyAmIDB4M2YpIDw8IDYpIHxcblx0XHRcdFx0KGI0ICYgMHgzZik7XG5cdFx0fVxuXG5cdFx0aWYgKGNvZGUgPCAweDEwMDAwKSB7XG5cdFx0XHRzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gc3Vycm9nYXRlIHBhaXJcblx0XHRcdGNvZGUgLT0gMHgxMDAwMDtcblx0XHRcdHVwcGVyID0gMHhkODAwIHwgKGNvZGUgPj4gMTApO1xuXHRcdFx0bG93ZXIgPSAweGRjMDAgfCAoY29kZSAmIDB4M2ZmKTtcblx0XHRcdHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVwcGVyLCBsb3dlcik7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cjtcbn07XG5cbi8qKlxuICogVXRpbGl0aWVzIHRvIG1hbmlwdWxhdGUgYnl0ZSBzZXF1ZW5jZVxuICogQHBhcmFtIHsobnVtYmVyfFVpbnQ4QXJyYXkpfSBhcmcgSW5pdGlhbCBzaXplIG9mIHRoaXMgYnVmZmVyIChudW1iZXIpLCBvciBidWZmZXIgdG8gc2V0IChVaW50OEFycmF5KVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIEJ5dGVCdWZmZXIge1xuXHRidWZmZXI6IFVpbnQ4QXJyYXk8QXJyYXlCdWZmZXJMaWtlPjtcblx0cG9zaXRpb246IG51bWJlcjtcblx0Y29uc3RydWN0b3IoYXJnPzogbnVtYmVyIHwgVWludDhBcnJheSkge1xuXHRcdGxldCBpbml0aWFsX3NpemU6IG51bWJlcjtcblx0XHRpZiAoYXJnID09IG51bGwpIHtcblx0XHRcdGluaXRpYWxfc2l6ZSA9IDEwMjQgKiAxMDI0O1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gXCJudW1iZXJcIikge1xuXHRcdFx0aW5pdGlhbF9zaXplID0gYXJnO1xuXHRcdH0gZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuXHRcdFx0dGhpcy5idWZmZXIgPSBhcmc7XG5cdFx0XHR0aGlzLnBvc2l0aW9uID0gMDsgLy8gT3ZlcndyaXRlXG5cdFx0XHRyZXR1cm47XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHR5cGVvZiBhcmcgLT4gU3RyaW5nXG5cdFx0XHR0aHJvdyBgJHt0eXBlb2YgYXJnfSBpcyBpbnZhbGlkIHBhcmFtZXRlciB0eXBlIGZvciBCeXRlQnVmZmVyIGNvbnN0cnVjdG9yYDtcblx0XHR9XG5cdFx0Ly8gYXJnIGlzIG51bGwgb3IgbnVtYmVyXG5cdFx0dGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheShpbml0aWFsX3NpemUpO1xuXHRcdHRoaXMucG9zaXRpb24gPSAwO1xuXHR9XG5cdHNpemUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aDtcblx0fVxuXHRyZWFsbG9jYXRlKCkge1xuXHRcdGNvbnN0IG5ld19hcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLmxlbmd0aCAqIDIpO1xuXHRcdG5ld19hcnJheS5zZXQodGhpcy5idWZmZXIpO1xuXHRcdHRoaXMuYnVmZmVyID0gbmV3X2FycmF5O1xuXHR9XG5cdHNocmluaygpIHtcblx0XHR0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnN1YmFycmF5KDAsIHRoaXMucG9zaXRpb24pO1xuXHRcdHJldHVybiB0aGlzLmJ1ZmZlcjtcblx0fVxuXHRwdXQoYjogbnVtYmVyKSB7XG5cdFx0aWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA8IHRoaXMucG9zaXRpb24gKyAxKSB7XG5cdFx0XHR0aGlzLnJlYWxsb2NhdGUoKTtcblx0XHR9XG5cdFx0dGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IGI7XG5cdH1cblx0Z2V0KGluZGV4PzogbnVtYmVyKSB7XG5cdFx0aWYgKGluZGV4ID09IG51bGwpIHtcblx0XHRcdGluZGV4ID0gdGhpcy5wb3NpdGlvbjtcblx0XHRcdHRoaXMucG9zaXRpb24gKz0gMTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA8IGluZGV4ICsgMSkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmJ1ZmZlcltpbmRleF07XG5cdH1cblx0Ly8gV3JpdGUgc2hvcnQgdG8gYnVmZmVyIGJ5IGxpdHRsZSBlbmRpYW5cblx0cHV0U2hvcnQobnVtOiBzdHJpbmcgfCBudW1iZXIpIHtcblx0XHRudW0gPSBOdW1iZXIobnVtKTtcblx0XHRpZiAoMHhmZmZmIDwgbnVtKSB7XG5cdFx0XHR0aHJvdyBgJHtudW19IGlzIG92ZXIgc2hvcnQgdmFsdWVgO1xuXHRcdH1cblx0XHRjb25zdCBsb3dlciA9IDB4MDBmZiAmIG51bTtcblx0XHRjb25zdCB1cHBlciA9ICgweGZmMDAgJiBudW0pID4+IDg7XG5cdFx0dGhpcy5wdXQobG93ZXIpO1xuXHRcdHRoaXMucHV0KHVwcGVyKTtcblx0fVxuXHQvLyBSZWFkIHNob3J0IGZyb20gYnVmZmVyIGJ5IGxpdHRsZSBlbmRpYW5cblx0Z2V0U2hvcnQoaW5kZXg/OiBudW1iZXIpIHtcblx0XHRpZiAoaW5kZXggPT0gbnVsbCkge1xuXHRcdFx0aW5kZXggPSB0aGlzLnBvc2l0aW9uO1xuXHRcdFx0dGhpcy5wb3NpdGlvbiArPSAyO1xuXHRcdH1cblx0XHRpZiAodGhpcy5idWZmZXIubGVuZ3RoIDwgaW5kZXggKyAyKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cdFx0Y29uc3QgbG93ZXIgPSB0aGlzLmJ1ZmZlcltpbmRleF07XG5cdFx0Y29uc3QgdXBwZXIgPSB0aGlzLmJ1ZmZlcltpbmRleCArIDFdO1xuXHRcdGxldCB2YWx1ZSA9ICh1cHBlciA8PCA4KSArIGxvd2VyO1xuXHRcdGlmICh2YWx1ZSAmIDB4ODAwMCkge1xuXHRcdFx0dmFsdWUgPSAtKCh2YWx1ZSAtIDEpIF4gMHhmZmZmKTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9XG5cdC8vIFdyaXRlIGludGVnZXIgdG8gYnVmZmVyIGJ5IGxpdHRsZSBlbmRpYW5cblx0cHV0SW50KG51bTogc3RyaW5nIHwgbnVtYmVyKSB7XG5cdFx0bnVtID0gTnVtYmVyKG51bSk7XG5cdFx0aWYgKDB4ZmZmZmZmZmYgPCBudW0pIHtcblx0XHRcdHRocm93IGAke251bX0gaXMgb3ZlciBpbnRlZ2VyIHZhbHVlYDtcblx0XHR9XG5cdFx0Y29uc3QgYjAgPSAweDAwMDAwMGZmICYgbnVtO1xuXHRcdGNvbnN0IGIxID0gKDB4MDAwMGZmMDAgJiBudW0pID4+IDg7XG5cdFx0Y29uc3QgYjIgPSAoMHgwMGZmMDAwMCAmIG51bSkgPj4gMTY7XG5cdFx0Y29uc3QgYjMgPSAoMHhmZjAwMDAwMCAmIG51bSkgPj4gMjQ7XG5cdFx0dGhpcy5wdXQoYjApO1xuXHRcdHRoaXMucHV0KGIxKTtcblx0XHR0aGlzLnB1dChiMik7XG5cdFx0dGhpcy5wdXQoYjMpO1xuXHR9XG5cdC8vIFJlYWQgaW50ZWdlciBmcm9tIGJ1ZmZlciBieSBsaXR0bGUgZW5kaWFuXG5cdGdldEludChpbmRleD86IG51bWJlcikge1xuXHRcdGlmIChpbmRleCA9PSBudWxsKSB7XG5cdFx0XHRpbmRleCA9IHRoaXMucG9zaXRpb247XG5cdFx0XHR0aGlzLnBvc2l0aW9uICs9IDQ7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPCBpbmRleCArIDQpIHtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblx0XHRjb25zdCBiMCA9IHRoaXMuYnVmZmVyW2luZGV4XTtcblx0XHRjb25zdCBiMSA9IHRoaXMuYnVmZmVyW2luZGV4ICsgMV07XG5cdFx0Y29uc3QgYjIgPSB0aGlzLmJ1ZmZlcltpbmRleCArIDJdO1xuXHRcdGNvbnN0IGIzID0gdGhpcy5idWZmZXJbaW5kZXggKyAzXTtcblxuXHRcdHJldHVybiAoYjMgPDwgMjQpICsgKGIyIDw8IDE2KSArIChiMSA8PCA4KSArIGIwO1xuXHR9XG5cdHJlYWRJbnQoKSB7XG5cdFx0Y29uc3QgcG9zID0gdGhpcy5wb3NpdGlvbjtcblx0XHR0aGlzLnBvc2l0aW9uICs9IDQ7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0SW50KHBvcyk7XG5cdH1cblx0cHV0U3RyaW5nKHN0cjogc3RyaW5nKSB7XG5cdFx0Y29uc3QgYnl0ZXMgPSBzdHJpbmdUb1V0ZjhCeXRlcyhzdHIpO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMucHV0KGJ5dGVzW2ldKTtcblx0XHR9XG5cdFx0Ly8gcHV0IG51bGwgY2hhcmFjdGVyIGFzIHRlcm1pbmFsIGNoYXJhY3RlclxuXHRcdHRoaXMucHV0KDApO1xuXHR9XG5cdGdldFN0cmluZyhpbmRleCA9IHRoaXMucG9zaXRpb24pIHtcblx0XHRjb25zdCBidWY6IG51bWJlcltdID0gW107XG5cdFx0bGV0IGNoOiBudW1iZXI7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdGlmICh0aGlzLmJ1ZmZlci5sZW5ndGggPCBpbmRleCArIDEpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRjaCA9IHRoaXMuZ2V0KGluZGV4KyspO1xuXHRcdFx0aWYgKGNoID09PSAwKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0YnVmLnB1c2goY2gpO1xuXHRcdH1cblx0XHR0aGlzLnBvc2l0aW9uID0gaW5kZXg7XG5cdFx0cmV0dXJuIHV0ZjhCeXRlc1RvU3RyaW5nKGJ1Zik7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQnl0ZUJ1ZmZlcjtcbiIsImltcG9ydCBCeXRlQnVmZmVyIGZyb20gXCIuLi91dGlsL0J5dGVCdWZmZXJcIjtcblxuLyoqXG4gKiBUb2tlbkluZm9EaWN0aW9uYXJ5XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgVG9rZW5JbmZvRGljdGlvbmFyeSB7XG5cdGRpY3Rpb25hcnk6IEJ5dGVCdWZmZXI7XG5cdHRhcmdldF9tYXA6IHtcblx0XHRbeDogc3RyaW5nXTogKG51bWJlciB8IHN0cmluZylbXTtcblx0fTtcblx0cG9zX2J1ZmZlcjogQnl0ZUJ1ZmZlcjtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmRpY3Rpb25hcnkgPSBuZXcgQnl0ZUJ1ZmZlcigxMCAqIDEwMjQgKiAxMDI0KTtcblx0XHR0aGlzLnRhcmdldF9tYXAgPSB7fTsgLy8gdHJpZV9pZCAob2Ygc3VyZmFjZSBmb3JtKSAtPiB0b2tlbl9pbmZvX2lkIChvZiB0b2tlbilcblx0XHR0aGlzLnBvc19idWZmZXIgPSBuZXcgQnl0ZUJ1ZmZlcigxMCAqIDEwMjQgKiAxMDI0KTtcblx0fVxuXHQvLyBsZWZ0X2lkIHJpZ2h0X2lkIHdvcmRfY29zdCAuLi5cblx0Ly8gXiB0aGlzIHBvc2l0aW9uIGlzIHRva2VuX2luZm9faWRcblx0YnVpbGREaWN0aW9uYXJ5KGVudHJpZXM6IHN0cmluZ1tdW10pIHtcblx0XHRjb25zdCBkaWN0aW9uYXJ5X2VudHJpZXM6IHsgW3g6IG51bWJlcl06IHN0cmluZyB9ID0ge307IC8vIHVzaW5nIGFzIGhhc2htYXAsIHN0cmluZyAtPiBzdHJpbmcgKHdvcmRfaWQgLT4gc3VyZmFjZV9mb3JtKSB0byBidWlsZCBkaWN0aW9uYXJ5XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGVudHJ5ID0gZW50cmllc1tpXTtcblxuXHRcdFx0aWYgKGVudHJ5Lmxlbmd0aCA8IDQpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0IHN1cmZhY2VfZm9ybSA9IGVudHJ5WzBdO1xuXHRcdFx0Y29uc3QgbGVmdF9pZCA9IE51bWJlcihlbnRyeVsxXSk7XG5cdFx0XHRjb25zdCByaWdodF9pZCA9IE51bWJlcihlbnRyeVsyXSk7XG5cdFx0XHRjb25zdCB3b3JkX2Nvc3QgPSBOdW1iZXIoZW50cnlbM10pO1xuXHRcdFx0Ly8gVE9ETzogSXMgaXQgT0s/XG5cdFx0XHRjb25zdCBmZWF0dXJlID0gZW50cnkuc2xpY2UoNCkuam9pbihcIixcIik7IC8vIFRPRE8gT3B0aW1pemVcblxuXHRcdFx0Ly8gQXNzZXJ0aW9uXG5cdFx0XHRpZiAoXG5cdFx0XHRcdCFOdW1iZXIuaXNGaW5pdGUobGVmdF9pZCkgfHxcblx0XHRcdFx0IU51bWJlci5pc0Zpbml0ZShyaWdodF9pZCkgfHxcblx0XHRcdFx0IU51bWJlci5pc0Zpbml0ZSh3b3JkX2Nvc3QpXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coZW50cnkpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0b2tlbl9pbmZvX2lkID0gdGhpcy5wdXQoXG5cdFx0XHRcdGxlZnRfaWQsXG5cdFx0XHRcdHJpZ2h0X2lkLFxuXHRcdFx0XHR3b3JkX2Nvc3QsXG5cdFx0XHRcdHN1cmZhY2VfZm9ybSxcblx0XHRcdFx0ZmVhdHVyZSxcblx0XHRcdCk7XG5cdFx0XHRkaWN0aW9uYXJ5X2VudHJpZXNbdG9rZW5faW5mb19pZF0gPSBzdXJmYWNlX2Zvcm07XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIGxhc3QgdW51c2VkIGFyZWFcblx0XHR0aGlzLmRpY3Rpb25hcnkuc2hyaW5rKCk7XG5cdFx0dGhpcy5wb3NfYnVmZmVyLnNocmluaygpO1xuXG5cdFx0cmV0dXJuIGRpY3Rpb25hcnlfZW50cmllcztcblx0fVxuXHRwdXQoXG5cdFx0bGVmdF9pZDogbnVtYmVyLFxuXHRcdHJpZ2h0X2lkOiBudW1iZXIsXG5cdFx0d29yZF9jb3N0OiBudW1iZXIsXG5cdFx0c3VyZmFjZV9mb3JtOiBzdHJpbmcsXG5cdFx0ZmVhdHVyZTogc3RyaW5nLFxuXHQpIHtcblx0XHRjb25zdCB0b2tlbl9pbmZvX2lkID0gdGhpcy5kaWN0aW9uYXJ5LnBvc2l0aW9uO1xuXHRcdGNvbnN0IHBvc19pZCA9IHRoaXMucG9zX2J1ZmZlci5wb3NpdGlvbjtcblxuXHRcdHRoaXMuZGljdGlvbmFyeS5wdXRTaG9ydChsZWZ0X2lkKTtcblx0XHR0aGlzLmRpY3Rpb25hcnkucHV0U2hvcnQocmlnaHRfaWQpO1xuXHRcdHRoaXMuZGljdGlvbmFyeS5wdXRTaG9ydCh3b3JkX2Nvc3QpO1xuXHRcdHRoaXMuZGljdGlvbmFyeS5wdXRJbnQocG9zX2lkKTtcblx0XHR0aGlzLnBvc19idWZmZXIucHV0U3RyaW5nKGAke3N1cmZhY2VfZm9ybX0sJHtmZWF0dXJlfWApO1xuXG5cdFx0cmV0dXJuIHRva2VuX2luZm9faWQ7XG5cdH1cblx0YWRkTWFwcGluZyhzb3VyY2U6IG51bWJlciwgdGFyZ2V0OiBudW1iZXIgfCBzdHJpbmcpIHtcblx0XHRsZXQgbWFwcGluZyA9IHRoaXMudGFyZ2V0X21hcFtzb3VyY2VdO1xuXHRcdGlmIChtYXBwaW5nID09IG51bGwpIHtcblx0XHRcdG1hcHBpbmcgPSBbXTtcblx0XHR9XG5cdFx0bWFwcGluZy5wdXNoKHRhcmdldCk7XG5cblx0XHR0aGlzLnRhcmdldF9tYXBbc291cmNlXSA9IG1hcHBpbmc7XG5cdH1cblx0dGFyZ2V0TWFwVG9CdWZmZXIoKSB7XG5cdFx0Y29uc3QgYnVmZmVyID0gbmV3IEJ5dGVCdWZmZXIoKTtcblx0XHRjb25zdCBtYXBfa2V5c19zaXplID0gT2JqZWN0LmtleXModGhpcy50YXJnZXRfbWFwKS5sZW5ndGg7XG5cdFx0YnVmZmVyLnB1dEludChtYXBfa2V5c19zaXplKTtcblx0XHRmb3IgKGNvbnN0IGtleSBpbiB0aGlzLnRhcmdldF9tYXApIHtcblx0XHRcdGNvbnN0IHZhbHVlcyA9IHRoaXMudGFyZ2V0X21hcFtrZXldOyAvLyBBcnJheVxuXHRcdFx0Y29uc3QgbWFwX3ZhbHVlc19zaXplID0gdmFsdWVzLmxlbmd0aDtcblx0XHRcdGJ1ZmZlci5wdXRJbnQoTnVtYmVyLnBhcnNlSW50KGtleSkpO1xuXHRcdFx0YnVmZmVyLnB1dEludChtYXBfdmFsdWVzX3NpemUpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0YnVmZmVyLnB1dEludCh2YWx1ZXNbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gYnVmZmVyLnNocmluaygpOyAvLyBTaHJpbmstZWQgVHlwZWQgQXJyYXlcblx0fVxuXHQvLyBmcm9tIHRpZC5kYXRcblx0bG9hZERpY3Rpb25hcnkoYXJyYXlfYnVmZmVyPzogVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+KSB7XG5cdFx0dGhpcy5kaWN0aW9uYXJ5ID0gbmV3IEJ5dGVCdWZmZXIoYXJyYXlfYnVmZmVyKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHQvLyBmcm9tIHRpZF9wb3MuZGF0XG5cdGxvYWRQb3NWZWN0b3IoYXJyYXlfYnVmZmVyPzogVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+KSB7XG5cdFx0dGhpcy5wb3NfYnVmZmVyID0gbmV3IEJ5dGVCdWZmZXIoYXJyYXlfYnVmZmVyKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHQvLyBmcm9tIHRpZF9tYXAuZGF0XG5cdGxvYWRUYXJnZXRNYXAoYXJyYXlfYnVmZmVyPzogVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+KSB7XG5cdFx0Y29uc3QgYnVmZmVyID0gbmV3IEJ5dGVCdWZmZXIoYXJyYXlfYnVmZmVyKTtcblx0XHRidWZmZXIucG9zaXRpb24gPSAwO1xuXHRcdHRoaXMudGFyZ2V0X21hcCA9IHt9O1xuXHRcdGJ1ZmZlci5yZWFkSW50KCk7IC8vIG1hcF9rZXlzX3NpemVcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0aWYgKGJ1ZmZlci5idWZmZXIubGVuZ3RoIDwgYnVmZmVyLnBvc2l0aW9uICsgMSkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGNvbnN0IGtleSA9IGJ1ZmZlci5yZWFkSW50KCk7XG5cdFx0XHRjb25zdCBtYXBfdmFsdWVzX3NpemUgPSBidWZmZXIucmVhZEludCgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtYXBfdmFsdWVzX3NpemU7IGkrKykge1xuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IGJ1ZmZlci5yZWFkSW50KCk7XG5cdFx0XHRcdHRoaXMuYWRkTWFwcGluZyhrZXksIHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0LyoqXG5cdCAqIExvb2sgdXAgZmVhdHVyZXMgaW4gdGhlIGRpY3Rpb25hcnlcblx0ICogQHBhcmFtIHtzdHJpbmd9IHRva2VuX2luZm9faWRfc3RyIFdvcmQgSUQgdG8gbG9vayB1cFxuXHQgKiBAcmV0dXJucyB7c3RyaW5nfSBGZWF0dXJlcyBzdHJpbmcgY29uY2F0ZW5hdGVkIGJ5IFwiLFwiXG5cdCAqL1xuXHRnZXRGZWF0dXJlcyh0b2tlbl9pbmZvX2lkX3N0cjogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRjb25zdCB0b2tlbl9pbmZvX2lkID0gTnVtYmVyLnBhcnNlSW50KHRva2VuX2luZm9faWRfc3RyKTtcblx0XHRpZiAoTnVtYmVyLmlzTmFOKHRva2VuX2luZm9faWQpKSB7XG5cdFx0XHQvLyBUT0RPIHRocm93IGVycm9yXG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHR9XG5cdFx0Y29uc3QgcG9zX2lkID0gdGhpcy5kaWN0aW9uYXJ5LmdldEludCh0b2tlbl9pbmZvX2lkICsgNik7XG5cdFx0cmV0dXJuIHRoaXMucG9zX2J1ZmZlci5nZXRTdHJpbmcocG9zX2lkKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb2tlbkluZm9EaWN0aW9uYXJ5O1xuIiwiLyoqXG4gKiBDaGFyYWN0ZXJDbGFzc1xuICogQHBhcmFtIHtudW1iZXJ9IGNsYXNzX2lkXG4gKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NfbmFtZVxuICogQHBhcmFtIHtib29sZWFufSBpc19hbHdheXNfaW52b2tlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzX2dyb3VwaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4X2xlbmd0aFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIENoYXJhY3RlckNsYXNzIHtcblx0Y2xhc3NfaWQ6IG51bWJlcjtcblx0Y2xhc3NfbmFtZTogc3RyaW5nO1xuXHRpc19hbHdheXNfaW52b2tlOiBib29sZWFuO1xuXHRpc19ncm91cGluZzogYm9vbGVhbjtcblx0bWF4X2xlbmd0aDogbnVtYmVyO1xuXHRjb25zdHJ1Y3Rvcihcblx0XHRjbGFzc19pZDogbnVtYmVyLFxuXHRcdGNsYXNzX25hbWU6IHN0cmluZyxcblx0XHRpc19hbHdheXNfaW52b2tlOiBib29sZWFuLFxuXHRcdGlzX2dyb3VwaW5nOiBib29sZWFuLFxuXHRcdG1heF9sZW5ndGg6IG51bWJlcixcblx0KSB7XG5cdFx0dGhpcy5jbGFzc19pZCA9IGNsYXNzX2lkO1xuXHRcdHRoaXMuY2xhc3NfbmFtZSA9IGNsYXNzX25hbWU7XG5cdFx0dGhpcy5pc19hbHdheXNfaW52b2tlID0gaXNfYWx3YXlzX2ludm9rZTtcblx0XHR0aGlzLmlzX2dyb3VwaW5nID0gaXNfZ3JvdXBpbmc7XG5cdFx0dGhpcy5tYXhfbGVuZ3RoID0gbWF4X2xlbmd0aDtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFyYWN0ZXJDbGFzcztcbiIsImltcG9ydCBCeXRlQnVmZmVyIGZyb20gXCIuLi91dGlsL0J5dGVCdWZmZXJcIjtcbmltcG9ydCBDaGFyYWN0ZXJDbGFzcyBmcm9tIFwiLi9DaGFyYWN0ZXJDbGFzc1wiO1xuXG4vKipcbiAqIEludm9rZURlZmluaXRpb25NYXAgcmVwcmVzZW50cyBpbnZva2UgZGVmaW5pdGlvbiBhIHBhcnQgb2YgY2hhci5kZWZcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBJbnZva2VEZWZpbml0aW9uTWFwIHtcblx0bWFwOiBDaGFyYWN0ZXJDbGFzc1tdO1xuXHRsb29rdXBfdGFibGU6IHsgW3g6IHN0cmluZ106IG51bWJlciB9O1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMubWFwID0gW107XG5cdFx0dGhpcy5sb29rdXBfdGFibGUgPSB7fTsgLy8gSnVzdCBmb3IgYnVpbGRpbmcgZGljdGlvbmFyeVxuXHR9XG5cdC8qKlxuXHQgKiBMb2FkIEludm9rZURlZmluaXRpb25NYXAgZnJvbSBidWZmZXJcblx0ICogQHBhcmFtIHtVaW50OEFycmF5fSBpbnZva2VfZGVmX2J1ZmZlclxuXHQgKiBAcmV0dXJucyB7SW52b2tlRGVmaW5pdGlvbk1hcH1cblx0ICovXG5cdHN0YXRpYyBsb2FkKGludm9rZV9kZWZfYnVmZmVyOiBVaW50OEFycmF5KTogSW52b2tlRGVmaW5pdGlvbk1hcCB7XG5cdFx0Y29uc3QgaW52b2tlX2RlZiA9IG5ldyBJbnZva2VEZWZpbml0aW9uTWFwKCk7XG5cdFx0Y29uc3QgY2hhcmFjdGVyX2NhdGVnb3J5X2RlZmluaXRpb246IENoYXJhY3RlckNsYXNzW10gPSBbXTtcblxuXHRcdGNvbnN0IGJ1ZmZlciA9IG5ldyBCeXRlQnVmZmVyKGludm9rZV9kZWZfYnVmZmVyKTtcblx0XHR3aGlsZSAoYnVmZmVyLnBvc2l0aW9uICsgMSA8IGJ1ZmZlci5zaXplKCkpIHtcblx0XHRcdGNvbnN0IGNsYXNzX2lkID0gY2hhcmFjdGVyX2NhdGVnb3J5X2RlZmluaXRpb24ubGVuZ3RoO1xuXHRcdFx0Y29uc3QgaXNfYWx3YXlzX2ludm9rZSA9IGJ1ZmZlci5nZXQoKSA9PT0gMTtcblx0XHRcdGNvbnN0IGlzX2dyb3VwaW5nID0gYnVmZmVyLmdldCgpID09PSAxO1xuXHRcdFx0Y29uc3QgbWF4X2xlbmd0aCA9IGJ1ZmZlci5nZXRJbnQoKTtcblx0XHRcdGNvbnN0IGNsYXNzX25hbWUgPSBidWZmZXIuZ2V0U3RyaW5nKCk7XG5cdFx0XHRjaGFyYWN0ZXJfY2F0ZWdvcnlfZGVmaW5pdGlvbi5wdXNoKFxuXHRcdFx0XHRuZXcgQ2hhcmFjdGVyQ2xhc3MoXG5cdFx0XHRcdFx0Y2xhc3NfaWQsXG5cdFx0XHRcdFx0Y2xhc3NfbmFtZSxcblx0XHRcdFx0XHRpc19hbHdheXNfaW52b2tlLFxuXHRcdFx0XHRcdGlzX2dyb3VwaW5nLFxuXHRcdFx0XHRcdG1heF9sZW5ndGgsXG5cdFx0XHRcdCksXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGludm9rZV9kZWYuaW5pdChjaGFyYWN0ZXJfY2F0ZWdvcnlfZGVmaW5pdGlvbik7XG5cblx0XHRyZXR1cm4gaW52b2tlX2RlZjtcblx0fVxuXHQvKipcblx0ICogSW5pdGlhbGl6aW5nIG1ldGhvZFxuXHQgKiBAcGFyYW0ge0FycmF5LjxDaGFyYWN0ZXJDbGFzcz59IGNoYXJhY3Rlcl9jYXRlZ29yeV9kZWZpbml0aW9uIEFycmF5IG9mIENoYXJhY3RlckNsYXNzXG5cdCAqL1xuXHRpbml0KGNoYXJhY3Rlcl9jYXRlZ29yeV9kZWZpbml0aW9uOiBDaGFyYWN0ZXJDbGFzc1tdKSB7XG5cdFx0aWYgKGNoYXJhY3Rlcl9jYXRlZ29yeV9kZWZpbml0aW9uID09IG51bGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaGFyYWN0ZXJfY2F0ZWdvcnlfZGVmaW5pdGlvbi5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgY2hhcmFjdGVyX2NsYXNzID0gY2hhcmFjdGVyX2NhdGVnb3J5X2RlZmluaXRpb25baV07XG5cdFx0XHR0aGlzLm1hcFtpXSA9IGNoYXJhY3Rlcl9jbGFzcztcblx0XHRcdHRoaXMubG9va3VwX3RhYmxlW2NoYXJhY3Rlcl9jbGFzcy5jbGFzc19uYW1lXSA9IGk7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQgKiBHZXQgY2xhc3MgaW5mb3JtYXRpb24gYnkgY2xhc3MgSURcblx0ICogQHBhcmFtIHtudW1iZXJ9IGNsYXNzX2lkXG5cdCAqIEByZXR1cm5zIHtDaGFyYWN0ZXJDbGFzc31cblx0ICovXG5cdGdldENoYXJhY3RlckNsYXNzKGNsYXNzX2lkOiBudW1iZXIpOiBDaGFyYWN0ZXJDbGFzcyB7XG5cdFx0cmV0dXJuIHRoaXMubWFwW2NsYXNzX2lkXTtcblx0fVxuXHQvKipcblx0ICogRm9yIGJ1aWxkaW5nIGNoYXJhY3RlciBkZWZpbml0aW9uIGRpY3Rpb25hcnlcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzX25hbWUgY2hhcmFjdGVyXG5cdCAqIEByZXR1cm5zIHtudW1iZXJ9IGNsYXNzX2lkXG5cdCAqL1xuXHRsb29rdXAoY2xhc3NfbmFtZTogc3RyaW5nKTogbnVtYmVyIHtcblx0XHRjb25zdCBjbGFzc19pZCA9IHRoaXMubG9va3VwX3RhYmxlW2NsYXNzX25hbWVdO1xuXHRcdGlmIChjbGFzc19pZCA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJudWxsXCIpO1xuXHRcdH1cblx0XHRyZXR1cm4gY2xhc3NfaWQ7XG5cdH1cblx0LyoqXG5cdCAqIFRyYW5zZm9ybSBmcm9tIG1hcCB0byBiaW5hcnkgYnVmZmVyXG5cdCAqIEByZXR1cm5zIHtVaW50OEFycmF5fVxuXHQgKi9cblx0dG9CdWZmZXIoKTogVWludDhBcnJheSB7XG5cdFx0Y29uc3QgYnVmZmVyID0gbmV3IEJ5dGVCdWZmZXIoKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWFwLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBjaGFyX2NsYXNzID0gdGhpcy5tYXBbaV07XG5cdFx0XHRidWZmZXIucHV0KE51bWJlcihjaGFyX2NsYXNzLmlzX2Fsd2F5c19pbnZva2UpKTtcblx0XHRcdGJ1ZmZlci5wdXQoTnVtYmVyKGNoYXJfY2xhc3MuaXNfZ3JvdXBpbmcpKTtcblx0XHRcdGJ1ZmZlci5wdXRJbnQoY2hhcl9jbGFzcy5tYXhfbGVuZ3RoKTtcblx0XHRcdGJ1ZmZlci5wdXRTdHJpbmcoY2hhcl9jbGFzcy5jbGFzc19uYW1lKTtcblx0XHR9XG5cdFx0YnVmZmVyLnNocmluaygpO1xuXHRcdHJldHVybiBidWZmZXIuYnVmZmVyO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludm9rZURlZmluaXRpb25NYXA7XG4iLCJpbXBvcnQgU3Vycm9nYXRlQXdhcmVTdHJpbmcgZnJvbSBcIi4uL3V0aWwvU3Vycm9nYXRlQXdhcmVTdHJpbmdcIjtcbmltcG9ydCBDaGFyYWN0ZXJDbGFzcyBmcm9tIFwiLi9DaGFyYWN0ZXJDbGFzc1wiO1xuaW1wb3J0IEludm9rZURlZmluaXRpb25NYXAgZnJvbSBcIi4vSW52b2tlRGVmaW5pdGlvbk1hcFwiO1xuXG5jb25zdCBERUZBVUxUX0NBVEVHT1JZID0gXCJERUZBVUxUXCI7XG5cbi8qKlxuICogQ2hhcmFjdGVyRGVmaW5pdGlvbiByZXByZXNlbnRzIGNoYXIuZGVmIGZpbGUgYW5kXG4gKiBkZWZpbmVzIGJlaGF2aW9yIG9mIHVua25vd24gd29yZCBwcm9jZXNzaW5nXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQ2hhcmFjdGVyRGVmaW5pdGlvbiB7XG5cdGNoYXJhY3Rlcl9jYXRlZ29yeV9tYXA6IFVpbnQ4QXJyYXk7XG5cdGNvbXBhdGlibGVfY2F0ZWdvcnlfbWFwOiBVaW50MzJBcnJheTtcblx0aW52b2tlX2RlZmluaXRpb25fbWFwPzogSW52b2tlRGVmaW5pdGlvbk1hcDtcblxuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmNoYXJhY3Rlcl9jYXRlZ29yeV9tYXAgPSBuZXcgVWludDhBcnJheSg2NTUzNik7IC8vIGZvciBhbGwgVUNTMiBjb2RlIHBvaW50c1xuXHRcdHRoaXMuY29tcGF0aWJsZV9jYXRlZ29yeV9tYXAgPSBuZXcgVWludDMyQXJyYXkoNjU1MzYpOyAvLyBmb3IgYWxsIFVDUzIgY29kZSBwb2ludHNcblx0fVxuXHQvKipcblx0ICogTG9hZCBDaGFyYWN0ZXJEZWZpbml0aW9uXG5cdCAqIEBwYXJhbSB7VWludDhBcnJheX0gY2F0X21hcF9idWZmZXJcblx0ICogQHBhcmFtIHtVaW50MzJBcnJheX0gY29tcGF0X2NhdF9tYXBfYnVmZmVyXG5cdCAqIEBwYXJhbSB7SW52b2tlRGVmaW5pdGlvbk1hcH0gaW52b2tlX2RlZl9idWZmZXJcblx0ICogQHJldHVybnMge0NoYXJhY3RlckRlZmluaXRpb259XG5cdCAqL1xuXHRzdGF0aWMgbG9hZChcblx0XHRjYXRfbWFwX2J1ZmZlcjogVWludDhBcnJheSxcblx0XHRjb21wYXRfY2F0X21hcF9idWZmZXI6IFVpbnQzMkFycmF5LFxuXHRcdGludm9rZV9kZWZfYnVmZmVyOiBVaW50OEFycmF5LFxuXHQpOiBDaGFyYWN0ZXJEZWZpbml0aW9uIHtcblx0XHRjb25zdCBjaGFyX2RlZiA9IG5ldyBDaGFyYWN0ZXJEZWZpbml0aW9uKCk7XG5cdFx0Y2hhcl9kZWYuY2hhcmFjdGVyX2NhdGVnb3J5X21hcCA9IGNhdF9tYXBfYnVmZmVyO1xuXHRcdGNoYXJfZGVmLmNvbXBhdGlibGVfY2F0ZWdvcnlfbWFwID0gY29tcGF0X2NhdF9tYXBfYnVmZmVyO1xuXHRcdGNoYXJfZGVmLmludm9rZV9kZWZpbml0aW9uX21hcCA9XG5cdFx0XHRJbnZva2VEZWZpbml0aW9uTWFwLmxvYWQoaW52b2tlX2RlZl9idWZmZXIpO1xuXHRcdHJldHVybiBjaGFyX2RlZjtcblx0fVxuXHRzdGF0aWMgcGFyc2VDaGFyQ2F0ZWdvcnkoY2xhc3NfaWQ6IG51bWJlciwgcGFyc2VkX2NhdGVnb3J5X2RlZjogc3RyaW5nW10pIHtcblx0XHRjb25zdCBjYXRlZ29yeSA9IHBhcnNlZF9jYXRlZ29yeV9kZWZbMV07XG5cdFx0Y29uc3QgaW52b2tlID0gTnVtYmVyLnBhcnNlSW50KHBhcnNlZF9jYXRlZ29yeV9kZWZbMl0pO1xuXHRcdGNvbnN0IGdyb3VwaW5nID0gTnVtYmVyLnBhcnNlSW50KHBhcnNlZF9jYXRlZ29yeV9kZWZbM10pO1xuXHRcdGNvbnN0IG1heF9sZW5ndGggPSBOdW1iZXIucGFyc2VJbnQocGFyc2VkX2NhdGVnb3J5X2RlZls0XSk7XG5cdFx0aWYgKCFOdW1iZXIuaXNGaW5pdGUoaW52b2tlKSB8fCAoaW52b2tlICE9PSAwICYmIGludm9rZSAhPT0gMSkpIHtcblx0XHRcdGNvbnNvbGUubG9nKGBjaGFyLmRlZiBwYXJzZSBlcnJvci4gSU5WT0tFIGlzIDAgb3IgMSBpbjoke2ludm9rZX1gKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRpZiAoIU51bWJlci5pc0Zpbml0ZShncm91cGluZykgfHwgKGdyb3VwaW5nICE9PSAwICYmIGdyb3VwaW5nICE9PSAxKSkge1xuXHRcdFx0Y29uc29sZS5sb2coYGNoYXIuZGVmIHBhcnNlIGVycm9yLiBHUk9VUCBpcyAwIG9yIDEgaW46JHtncm91cGluZ31gKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRpZiAoIU51bWJlci5pc0Zpbml0ZShtYXhfbGVuZ3RoKSB8fCBtYXhfbGVuZ3RoIDwgMCkge1xuXHRcdFx0Y29uc29sZS5sb2coYGNoYXIuZGVmIHBhcnNlIGVycm9yLiBMRU5HVEggaXMgMSB0byBuOiR7bWF4X2xlbmd0aH1gKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRjb25zdCBpc19pbnZva2UgPSBpbnZva2UgPT09IDE7XG5cdFx0Y29uc3QgaXNfZ3JvdXBpbmcgPSBncm91cGluZyA9PT0gMTtcblxuXHRcdHJldHVybiBuZXcgQ2hhcmFjdGVyQ2xhc3MoXG5cdFx0XHRjbGFzc19pZCxcblx0XHRcdGNhdGVnb3J5LFxuXHRcdFx0aXNfaW52b2tlLFxuXHRcdFx0aXNfZ3JvdXBpbmcsXG5cdFx0XHRtYXhfbGVuZ3RoLFxuXHRcdCk7XG5cdH1cblx0c3RhdGljIHBhcnNlQ2F0ZWdvcnlNYXBwaW5nKHBhcnNlZF9jYXRlZ29yeV9tYXBwaW5nOiBSZWdFeHBFeGVjQXJyYXkpIHtcblx0XHRjb25zdCBzdGFydCA9IE51bWJlci5wYXJzZUludChwYXJzZWRfY2F0ZWdvcnlfbWFwcGluZ1sxXSk7XG5cdFx0Y29uc3QgZGVmYXVsdF9jYXRlZ29yeSA9IHBhcnNlZF9jYXRlZ29yeV9tYXBwaW5nWzJdO1xuXHRcdGNvbnN0IGNvbXBhdGlibGVfY2F0ZWdvcnkgPVxuXHRcdFx0MyA8IHBhcnNlZF9jYXRlZ29yeV9tYXBwaW5nLmxlbmd0aFxuXHRcdFx0XHQ/IHBhcnNlZF9jYXRlZ29yeV9tYXBwaW5nLnNsaWNlKDMpXG5cdFx0XHRcdDogW107XG5cdFx0aWYgKCFOdW1iZXIuaXNGaW5pdGUoc3RhcnQpIHx8IHN0YXJ0IDwgMCB8fCBzdGFydCA+IDB4ZmZmZikge1xuXHRcdFx0Y29uc29sZS5sb2coYGNoYXIuZGVmIHBhcnNlIGVycm9yLiBDT0RFIGlzIGludmFsaWQ6JHtzdGFydH1gKTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN0YXJ0OiBzdGFydCxcblx0XHRcdGRlZmF1bHQ6IGRlZmF1bHRfY2F0ZWdvcnksXG5cdFx0XHRjb21wYXRpYmxlOiBjb21wYXRpYmxlX2NhdGVnb3J5LFxuXHRcdH07XG5cdH1cblx0c3RhdGljIHBhcnNlUmFuZ2VDYXRlZ29yeU1hcHBpbmcocGFyc2VkX2NhdGVnb3J5X21hcHBpbmc6IFJlZ0V4cEV4ZWNBcnJheSkge1xuXHRcdGNvbnN0IHN0YXJ0ID0gTnVtYmVyLnBhcnNlSW50KHBhcnNlZF9jYXRlZ29yeV9tYXBwaW5nWzFdKTtcblx0XHRjb25zdCBlbmQgPSBOdW1iZXIucGFyc2VJbnQocGFyc2VkX2NhdGVnb3J5X21hcHBpbmdbMl0pO1xuXHRcdGNvbnN0IGRlZmF1bHRfY2F0ZWdvcnkgPSBwYXJzZWRfY2F0ZWdvcnlfbWFwcGluZ1szXTtcblx0XHRjb25zdCBjb21wYXRpYmxlX2NhdGVnb3J5ID1cblx0XHRcdDQgPCBwYXJzZWRfY2F0ZWdvcnlfbWFwcGluZy5sZW5ndGhcblx0XHRcdFx0PyBwYXJzZWRfY2F0ZWdvcnlfbWFwcGluZy5zbGljZSg0KVxuXHRcdFx0XHQ6IFtdO1xuXHRcdGlmICghTnVtYmVyLmlzRmluaXRlKHN0YXJ0KSB8fCBzdGFydCA8IDAgfHwgc3RhcnQgPiAweGZmZmYpIHtcblx0XHRcdGNvbnNvbGUubG9nKGBjaGFyLmRlZiBwYXJzZSBlcnJvci4gQ09ERSBpcyBpbnZhbGlkOiR7c3RhcnR9YCk7XG5cdFx0fVxuXHRcdGlmICghTnVtYmVyLmlzRmluaXRlKGVuZCkgfHwgZW5kIDwgMCB8fCBlbmQgPiAweGZmZmYpIHtcblx0XHRcdGNvbnNvbGUubG9nKGBjaGFyLmRlZiBwYXJzZSBlcnJvci4gQ09ERSBpcyBpbnZhbGlkOiR7ZW5kfWApO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3RhcnQ6IHN0YXJ0LFxuXHRcdFx0ZW5kOiBlbmQsXG5cdFx0XHRkZWZhdWx0OiBkZWZhdWx0X2NhdGVnb3J5LFxuXHRcdFx0Y29tcGF0aWJsZTogY29tcGF0aWJsZV9jYXRlZ29yeSxcblx0XHR9O1xuXHR9XG5cdC8qKlxuXHQgKiBJbml0aWFsaXppbmcgbWV0aG9kXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNhdGVnb3J5X21hcHBpbmcgQXJyYXkgb2YgY2F0ZWdvcnkgbWFwcGluZ1xuXHQgKi9cblx0aW5pdENhdGVnb3J5TWFwcGluZ3MoXG5cdFx0Y2F0ZWdvcnlfbWFwcGluZzoge1xuXHRcdFx0c3RhcnQ6IG51bWJlcjtcblx0XHRcdGVuZD86IG51bWJlcjtcblx0XHRcdGRlZmF1bHQ6IHN0cmluZztcblx0XHRcdGNvbXBhdGlibGU6IHN0cmluZ1tdO1xuXHRcdH1bXSxcblx0KSB7XG5cdFx0aWYgKCF0aGlzLmludm9rZV9kZWZpbml0aW9uX21hcCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaW52b2tlX2RlZmluaXRpb25fbWFwIGlzIG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdFx0Ly8gSW5pdGlhbGl6ZSBtYXAgYnkgREVGQVVMVCBjbGFzc1xuXHRcdGxldCBjb2RlX3BvaW50OiBudW1iZXI7XG5cdFx0aWYgKGNhdGVnb3J5X21hcHBpbmcgIT0gbnVsbCkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjYXRlZ29yeV9tYXBwaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGNvbnN0IG1hcHBpbmcgPSBjYXRlZ29yeV9tYXBwaW5nW2ldO1xuXHRcdFx0XHRjb25zdCBlbmQgPSBtYXBwaW5nLmVuZCB8fCBtYXBwaW5nLnN0YXJ0O1xuXHRcdFx0XHRmb3IgKGNvZGVfcG9pbnQgPSBtYXBwaW5nLnN0YXJ0OyBjb2RlX3BvaW50IDw9IGVuZDsgY29kZV9wb2ludCsrKSB7XG5cdFx0XHRcdFx0Ly8gRGVmYXVsdCBDYXRlZ29yeSBjbGFzcyBJRFxuXHRcdFx0XHRcdHRoaXMuY2hhcmFjdGVyX2NhdGVnb3J5X21hcFtjb2RlX3BvaW50XSA9XG5cdFx0XHRcdFx0XHR0aGlzLmludm9rZV9kZWZpbml0aW9uX21hcC5sb29rdXAobWFwcGluZy5kZWZhdWx0KTtcblxuXHRcdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgbWFwcGluZy5jb21wYXRpYmxlLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdFx0XHRsZXQgYml0c2V0ID0gdGhpcy5jb21wYXRpYmxlX2NhdGVnb3J5X21hcFtjb2RlX3BvaW50XTtcblx0XHRcdFx0XHRcdGNvbnN0IGNvbXBhdGlibGVfY2F0ZWdvcnkgPSBtYXBwaW5nLmNvbXBhdGlibGVbal07XG5cdFx0XHRcdFx0XHRpZiAoY29tcGF0aWJsZV9jYXRlZ29yeSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29uc3QgY2xhc3NfaWQgPVxuXHRcdFx0XHRcdFx0XHR0aGlzLmludm9rZV9kZWZpbml0aW9uX21hcC5sb29rdXAoY29tcGF0aWJsZV9jYXRlZ29yeSk7IC8vIERlZmF1bHQgQ2F0ZWdvcnlcblx0XHRcdFx0XHRcdGlmIChjbGFzc19pZCA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y29uc3QgY2xhc3NfaWRfYml0ID0gMSA8PCBjbGFzc19pZDtcblx0XHRcdFx0XHRcdGJpdHNldCA9IGJpdHNldCB8IGNsYXNzX2lkX2JpdDsgLy8gU2V0IGEgYml0IG9mIGNsYXNzIElEIOS+i+OBiOOBsOOAgWNsYXNzX2lk44GMM+OBruOBqOOBjeOAgTPjg5Pjg4Pjg4jnm67jgasx44KS56uL44Gm44KLXG5cdFx0XHRcdFx0XHR0aGlzLmNvbXBhdGlibGVfY2F0ZWdvcnlfbWFwW2NvZGVfcG9pbnRdID0gYml0c2V0O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRjb25zdCBkZWZhdWx0X2lkID0gdGhpcy5pbnZva2VfZGVmaW5pdGlvbl9tYXAubG9va3VwKERFRkFVTFRfQ0FURUdPUlkpO1xuXHRcdGlmIChkZWZhdWx0X2lkID09IG51bGwpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Zm9yIChcblx0XHRcdGNvZGVfcG9pbnQgPSAwO1xuXHRcdFx0Y29kZV9wb2ludCA8IHRoaXMuY2hhcmFjdGVyX2NhdGVnb3J5X21hcC5sZW5ndGg7XG5cdFx0XHRjb2RlX3BvaW50Kytcblx0XHQpIHtcblx0XHRcdC8vIOS7luOBq+S9leOBruOCr+ODqeOCueOCguWumue+qeOBleOCjOOBpuOBhOOBquOBi+OBo+OBn+OBqOOBjeOBoOOBkSBERUZBVUxUXG5cdFx0XHRpZiAodGhpcy5jaGFyYWN0ZXJfY2F0ZWdvcnlfbWFwW2NvZGVfcG9pbnRdID09PSAwKSB7XG5cdFx0XHRcdC8vIERFRkFVTFQgY2xhc3MgSUQg44Gr5a++5b+c44GZ44KL44OT44OD44OI44Gg44GRMeOCkueri+OBpuOCi1xuXHRcdFx0XHR0aGlzLmNoYXJhY3Rlcl9jYXRlZ29yeV9tYXBbY29kZV9wb2ludF0gPSAxIDw8IGRlZmF1bHRfaWQ7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQgKiBMb29rdXAgY29tcGF0aWJsZSBjYXRlZ29yaWVzIGZvciBhIGNoYXJhY3RlciAobm90IGluY2x1ZGVkIDFzdCBjYXRlZ29yeSlcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNoIFVDUzIgY2hhcmFjdGVyIChqdXN0IDFzdCBjaGFyYWN0ZXIgaXMgZWZmZWN0aXZlKVxuXHQgKiBAcmV0dXJucyB7QXJyYXkuPENoYXJhY3RlckNsYXNzPn0gY2hhcmFjdGVyIGNsYXNzZXNcblx0ICovXG5cdGxvb2t1cENvbXBhdGlibGVDYXRlZ29yeShjaDogc3RyaW5nKTogQ2hhcmFjdGVyQ2xhc3NbXSB7XG5cdFx0aWYgKCF0aGlzLmludm9rZV9kZWZpbml0aW9uX21hcCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaW52b2tlX2RlZmluaXRpb25fbWFwIGlzIG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdFx0Y29uc3QgY2xhc3NlczogQ2hhcmFjdGVyQ2xhc3NbXSA9IFtdO1xuXG5cdFx0LypcbiAgICAgICAgIGlmIChTdXJyb2dhdGVBd2FyZVN0cmluZy5pc1N1cnJvZ2F0ZVBhaXIoY2gpKSB7XG4gICAgICAgICAvLyBTdXJyb2dhdGUgcGFpciBjaGFyYWN0ZXIgY29kZXMgY2FuIG5vdCBiZSBkZWZpbmVkIGJ5IGNoYXIuZGVmXG4gICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICAgICAgIH0qL1xuXHRcdGNvbnN0IGNvZGUgPSBjaC5jaGFyQ29kZUF0KDApO1xuXHRcdGxldCBpbnRlZ2VyOiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKGNvZGUgPCB0aGlzLmNvbXBhdGlibGVfY2F0ZWdvcnlfbWFwLmxlbmd0aCkge1xuXHRcdFx0aW50ZWdlciA9IHRoaXMuY29tcGF0aWJsZV9jYXRlZ29yeV9tYXBbY29kZV07IC8vIEJpdHNldFxuXHRcdH1cblxuXHRcdGlmIChpbnRlZ2VyID09IG51bGwgfHwgaW50ZWdlciA9PT0gMCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzZXM7XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgYml0ID0gMDsgYml0IDwgMzI7IGJpdCsrKSB7XG5cdFx0XHQvLyBUcmVhdCBcImJpdFwiIGFzIGEgY2xhc3MgSURcblx0XHRcdGlmICgoaW50ZWdlciA8PCAoMzEgLSBiaXQpKSA+Pj4gMzEgPT09IDEpIHtcblx0XHRcdFx0Y29uc3QgY2hhcmFjdGVyX2NsYXNzID1cblx0XHRcdFx0XHR0aGlzLmludm9rZV9kZWZpbml0aW9uX21hcC5nZXRDaGFyYWN0ZXJDbGFzcyhiaXQpO1xuXHRcdFx0XHRpZiAoY2hhcmFjdGVyX2NsYXNzID09IG51bGwpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjbGFzc2VzLnB1c2goY2hhcmFjdGVyX2NsYXNzKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGNsYXNzZXM7XG5cdH1cblx0LyoqXG5cdCAqIExvb2t1cCBjYXRlZ29yeSBmb3IgYSBjaGFyYWN0ZXJcblx0ICogQHBhcmFtIHtzdHJpbmd9IGNoIFVDUzIgY2hhcmFjdGVyIChqdXN0IDFzdCBjaGFyYWN0ZXIgaXMgZWZmZWN0aXZlKVxuXHQgKiBAcmV0dXJucyB7Q2hhcmFjdGVyQ2xhc3N9IGNoYXJhY3RlciBjbGFzc1xuXHQgKi9cblx0bG9va3VwKGNoOiBzdHJpbmcpOiBDaGFyYWN0ZXJDbGFzcyB7XG5cdFx0aWYgKCF0aGlzLmludm9rZV9kZWZpbml0aW9uX21hcCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiaW52b2tlX2RlZmluaXRpb25fbWFwIGlzIG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdFx0bGV0IGNsYXNzX2lkOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCBjb2RlID0gY2guY2hhckNvZGVBdCgwKTtcblx0XHRpZiAoU3Vycm9nYXRlQXdhcmVTdHJpbmcuaXNTdXJyb2dhdGVQYWlyKGNoKSkge1xuXHRcdFx0Ly8gU3Vycm9nYXRlIHBhaXIgY2hhcmFjdGVyIGNvZGVzIGNhbiBub3QgYmUgZGVmaW5lZCBieSBjaGFyLmRlZiwgc28gc2V0IERFRkFVTFQgY2F0ZWdvcnlcblx0XHRcdGNsYXNzX2lkID0gdGhpcy5pbnZva2VfZGVmaW5pdGlvbl9tYXAubG9va3VwKERFRkFVTFRfQ0FURUdPUlkpO1xuXHRcdH0gZWxzZSBpZiAoY29kZSA8IHRoaXMuY2hhcmFjdGVyX2NhdGVnb3J5X21hcC5sZW5ndGgpIHtcblx0XHRcdGNsYXNzX2lkID0gdGhpcy5jaGFyYWN0ZXJfY2F0ZWdvcnlfbWFwW2NvZGVdOyAvLyBSZWFkIGFzIGludGVnZXIgdmFsdWVcblx0XHR9XG5cblx0XHRpZiAoY2xhc3NfaWQgPT0gbnVsbCkge1xuXHRcdFx0Y2xhc3NfaWQgPSB0aGlzLmludm9rZV9kZWZpbml0aW9uX21hcC5sb29rdXAoREVGQVVMVF9DQVRFR09SWSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuaW52b2tlX2RlZmluaXRpb25fbWFwLmdldENoYXJhY3RlckNsYXNzKGNsYXNzX2lkKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFyYWN0ZXJEZWZpbml0aW9uO1xuIiwiaW1wb3J0IEJ5dGVCdWZmZXIgZnJvbSBcIi4uL3V0aWwvQnl0ZUJ1ZmZlclwiO1xuaW1wb3J0IENoYXJhY3RlckRlZmluaXRpb24gZnJvbSBcIi4vQ2hhcmFjdGVyRGVmaW5pdGlvblwiO1xuaW1wb3J0IHR5cGUgSW52b2tlRGVmaW5pdGlvbk1hcCBmcm9tIFwiLi9JbnZva2VEZWZpbml0aW9uTWFwXCI7XG5pbXBvcnQgVG9rZW5JbmZvRGljdGlvbmFyeSBmcm9tIFwiLi9Ub2tlbkluZm9EaWN0aW9uYXJ5XCI7XG5cbi8qKlxuICogVW5rbm93bkRpY3Rpb25hcnlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG4vLyBJbmhlcml0IGZyb20gVG9rZW5JbmZvRGljdGlvbmFyeSBhcyBhIHN1cGVyIGNsYXNzXG5jbGFzcyBVbmtub3duRGljdGlvbmFyeSBleHRlbmRzIFRva2VuSW5mb0RpY3Rpb25hcnkge1xuXHRjaGFyYWN0ZXJfZGVmaW5pdGlvbj86IENoYXJhY3RlckRlZmluaXRpb247XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5kaWN0aW9uYXJ5ID0gbmV3IEJ5dGVCdWZmZXIoMTAgKiAxMDI0ICogMTAyNCk7XG5cdFx0dGhpcy50YXJnZXRfbWFwID0ge307IC8vIGNsYXNzX2lkIChvZiBDaGFyYWN0ZXJDbGFzcykgLT4gdG9rZW5faW5mb19pZCAob2YgdW5rbm93biBjbGFzcylcblx0XHR0aGlzLnBvc19idWZmZXIgPSBuZXcgQnl0ZUJ1ZmZlcigxMCAqIDEwMjQgKiAxMDI0KTtcblx0fVxuXHRjaGFyYWN0ZXJEZWZpbml0aW9uKGNoYXJhY3Rlcl9kZWZpbml0aW9uOiBDaGFyYWN0ZXJEZWZpbml0aW9uKSB7XG5cdFx0dGhpcy5jaGFyYWN0ZXJfZGVmaW5pdGlvbiA9IGNoYXJhY3Rlcl9kZWZpbml0aW9uO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGxvb2t1cChjaDogc3RyaW5nKSB7XG5cdFx0aWYgKCF0aGlzLmNoYXJhY3Rlcl9kZWZpbml0aW9uKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDaGFyYWN0ZXIgZGVmaW5pdGlvbiBpcyBub3QgaW5pdGlhbGl6ZWRcIik7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmNoYXJhY3Rlcl9kZWZpbml0aW9uLmxvb2t1cChjaCk7XG5cdH1cblx0bG9va3VwQ29tcGF0aWJsZUNhdGVnb3J5KGNoOiBzdHJpbmcpIHtcblx0XHRpZiAoIXRoaXMuY2hhcmFjdGVyX2RlZmluaXRpb24pIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkNoYXJhY3RlciBkZWZpbml0aW9uIGlzIG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY2hhcmFjdGVyX2RlZmluaXRpb24ubG9va3VwQ29tcGF0aWJsZUNhdGVnb3J5KGNoKTtcblx0fVxuXHRsb2FkVW5rbm93bkRpY3Rpb25hcmllcyhcblx0XHR1bmtfYnVmZmVyOiBVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4sXG5cdFx0dW5rX3Bvc19idWZmZXI6IFVpbnQ4QXJyYXk8QXJyYXlCdWZmZXJMaWtlPixcblx0XHR1bmtfbWFwX2J1ZmZlcjogVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+LFxuXHRcdGNhdF9tYXBfYnVmZmVyOiBVaW50OEFycmF5LFxuXHRcdGNvbXBhdF9jYXRfbWFwX2J1ZmZlcjogVWludDMyQXJyYXksXG5cdFx0aW52b2tlX2RlZl9idWZmZXI6IFVpbnQ4QXJyYXksXG5cdCkge1xuXHRcdHRoaXMubG9hZERpY3Rpb25hcnkodW5rX2J1ZmZlcik7XG5cdFx0dGhpcy5sb2FkUG9zVmVjdG9yKHVua19wb3NfYnVmZmVyKTtcblx0XHR0aGlzLmxvYWRUYXJnZXRNYXAodW5rX21hcF9idWZmZXIpO1xuXHRcdHRoaXMuY2hhcmFjdGVyX2RlZmluaXRpb24gPSBDaGFyYWN0ZXJEZWZpbml0aW9uLmxvYWQoXG5cdFx0XHRjYXRfbWFwX2J1ZmZlcixcblx0XHRcdGNvbXBhdF9jYXRfbWFwX2J1ZmZlcixcblx0XHRcdGludm9rZV9kZWZfYnVmZmVyLFxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVW5rbm93bkRpY3Rpb25hcnk7XG4iLCJpbXBvcnQgeyB0eXBlIERvdWJsZUFycmF5LCBidWlsZGVyLCBsb2FkIH0gZnJvbSBcIi4uL3V0aWwvRG91YmxlQXJyYXlcIjtcbmltcG9ydCBDb25uZWN0aW9uQ29zdHMgZnJvbSBcIi4vQ29ubmVjdGlvbkNvc3RzXCI7XG5pbXBvcnQgdHlwZSBJbnZva2VEZWZpbml0aW9uTWFwIGZyb20gXCIuL0ludm9rZURlZmluaXRpb25NYXBcIjtcbmltcG9ydCBUb2tlbkluZm9EaWN0aW9uYXJ5IGZyb20gXCIuL1Rva2VuSW5mb0RpY3Rpb25hcnlcIjtcbmltcG9ydCBVbmtub3duRGljdGlvbmFyeSBmcm9tIFwiLi9Vbmtub3duRGljdGlvbmFyeVwiO1xuXG4vKipcbiAqIERpY3Rpb25hcmllcyBjb250YWluZXIgZm9yIFRva2VuaXplclxuICogQHBhcmFtIHtEb3VibGVBcnJheX0gdHJpZVxuICogQHBhcmFtIHtUb2tlbkluZm9EaWN0aW9uYXJ5fSB0b2tlbl9pbmZvX2RpY3Rpb25hcnlcbiAqIEBwYXJhbSB7Q29ubmVjdGlvbkNvc3RzfSBjb25uZWN0aW9uX2Nvc3RzXG4gKiBAcGFyYW0ge1Vua25vd25EaWN0aW9uYXJ5fSB1bmtub3duX2RpY3Rpb25hcnlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBEeW5hbWljRGljdGlvbmFyaWVzIHtcblx0dHJpZTogRG91YmxlQXJyYXk7XG5cdHRva2VuX2luZm9fZGljdGlvbmFyeTogVG9rZW5JbmZvRGljdGlvbmFyeTtcblx0Y29ubmVjdGlvbl9jb3N0czogQ29ubmVjdGlvbkNvc3RzO1xuXHR1bmtub3duX2RpY3Rpb25hcnk6IFVua25vd25EaWN0aW9uYXJ5O1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHRyaWU/OiBEb3VibGVBcnJheSxcblx0XHR0b2tlbl9pbmZvX2RpY3Rpb25hcnk/OiBUb2tlbkluZm9EaWN0aW9uYXJ5LFxuXHRcdGNvbm5lY3Rpb25fY29zdHM/OiBDb25uZWN0aW9uQ29zdHMsXG5cdFx0dW5rbm93bl9kaWN0aW9uYXJ5PzogVW5rbm93bkRpY3Rpb25hcnksXG5cdCkge1xuXHRcdGlmICh0cmllICE9IG51bGwpIHtcblx0XHRcdHRoaXMudHJpZSA9IHRyaWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudHJpZSA9IGJ1aWxkZXIoMCkuYnVpbGQoW3sgazogXCJcIiwgdjogMSB9XSk7XG5cdFx0fVxuXHRcdGlmICh0b2tlbl9pbmZvX2RpY3Rpb25hcnkgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy50b2tlbl9pbmZvX2RpY3Rpb25hcnkgPSB0b2tlbl9pbmZvX2RpY3Rpb25hcnk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudG9rZW5faW5mb19kaWN0aW9uYXJ5ID0gbmV3IFRva2VuSW5mb0RpY3Rpb25hcnkoKTtcblx0XHR9XG5cdFx0aWYgKGNvbm5lY3Rpb25fY29zdHMgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5jb25uZWN0aW9uX2Nvc3RzID0gY29ubmVjdGlvbl9jb3N0cztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gYmFja3dhcmRfc2l6ZSAqIGJhY2t3YXJkX3NpemVcblx0XHRcdHRoaXMuY29ubmVjdGlvbl9jb3N0cyA9IG5ldyBDb25uZWN0aW9uQ29zdHMoMCwgMCk7XG5cdFx0fVxuXHRcdGlmICh1bmtub3duX2RpY3Rpb25hcnkgIT0gbnVsbCkge1xuXHRcdFx0dGhpcy51bmtub3duX2RpY3Rpb25hcnkgPSB1bmtub3duX2RpY3Rpb25hcnk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMudW5rbm93bl9kaWN0aW9uYXJ5ID0gbmV3IFVua25vd25EaWN0aW9uYXJ5KCk7XG5cdFx0fVxuXHR9XG5cdC8vIGZyb20gYmFzZS5kYXQgJiBjaGVjay5kYXRcblx0bG9hZFRyaWUoXG5cdFx0YmFzZV9idWZmZXI6XG5cdFx0XHR8IEludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+XG5cdFx0XHR8IEludDE2QXJyYXk8QXJyYXlCdWZmZXJMaWtlPlxuXHRcdFx0fCBJbnQzMkFycmF5PEFycmF5QnVmZmVyTGlrZT5cblx0XHRcdHwgVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+XG5cdFx0XHR8IFVpbnQxNkFycmF5PEFycmF5QnVmZmVyTGlrZT5cblx0XHRcdHwgVWludDMyQXJyYXk8QXJyYXlCdWZmZXJMaWtlPixcblx0XHRjaGVja19idWZmZXI6XG5cdFx0XHR8IEludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+XG5cdFx0XHR8IEludDE2QXJyYXk8QXJyYXlCdWZmZXJMaWtlPlxuXHRcdFx0fCBJbnQzMkFycmF5PEFycmF5QnVmZmVyTGlrZT5cblx0XHRcdHwgVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+XG5cdFx0XHR8IFVpbnQxNkFycmF5PEFycmF5QnVmZmVyTGlrZT5cblx0XHRcdHwgVWludDMyQXJyYXk8QXJyYXlCdWZmZXJMaWtlPixcblx0KSB7XG5cdFx0dGhpcy50cmllID0gbG9hZChiYXNlX2J1ZmZlciwgY2hlY2tfYnVmZmVyKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXHRsb2FkVG9rZW5JbmZvRGljdGlvbmFyaWVzKFxuXHRcdHRva2VuX2luZm9fYnVmZmVyOiBVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4gfCB1bmRlZmluZWQsXG5cdFx0cG9zX2J1ZmZlcjogVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+IHwgdW5kZWZpbmVkLFxuXHRcdHRhcmdldF9tYXBfYnVmZmVyOiBVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4gfCB1bmRlZmluZWQsXG5cdCkge1xuXHRcdHRoaXMudG9rZW5faW5mb19kaWN0aW9uYXJ5LmxvYWREaWN0aW9uYXJ5KHRva2VuX2luZm9fYnVmZmVyKTtcblx0XHR0aGlzLnRva2VuX2luZm9fZGljdGlvbmFyeS5sb2FkUG9zVmVjdG9yKHBvc19idWZmZXIpO1xuXHRcdHRoaXMudG9rZW5faW5mb19kaWN0aW9uYXJ5LmxvYWRUYXJnZXRNYXAodGFyZ2V0X21hcF9idWZmZXIpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGxvYWRDb25uZWN0aW9uQ29zdHMoY2NfYnVmZmVyOiBJbnQxNkFycmF5PEFycmF5QnVmZmVyPikge1xuXHRcdHRoaXMuY29ubmVjdGlvbl9jb3N0cy5sb2FkQ29ubmVjdGlvbkNvc3RzKGNjX2J1ZmZlcik7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblx0bG9hZFVua25vd25EaWN0aW9uYXJpZXMoXG5cdFx0dW5rX2J1ZmZlcjogVWludDhBcnJheTxBcnJheUJ1ZmZlckxpa2U+LFxuXHRcdHVua19wb3NfYnVmZmVyOiBVaW50OEFycmF5PEFycmF5QnVmZmVyTGlrZT4sXG5cdFx0dW5rX21hcF9idWZmZXI6IFVpbnQ4QXJyYXk8QXJyYXlCdWZmZXJMaWtlPixcblx0XHRjYXRfbWFwX2J1ZmZlcjogVWludDhBcnJheSxcblx0XHRjb21wYXRfY2F0X21hcF9idWZmZXI6IFVpbnQzMkFycmF5LFxuXHRcdGludm9rZV9kZWZfYnVmZmVyOiBVaW50OEFycmF5LFxuXHQpIHtcblx0XHR0aGlzLnVua25vd25fZGljdGlvbmFyeS5sb2FkVW5rbm93bkRpY3Rpb25hcmllcyhcblx0XHRcdHVua19idWZmZXIsXG5cdFx0XHR1bmtfcG9zX2J1ZmZlcixcblx0XHRcdHVua19tYXBfYnVmZmVyLFxuXHRcdFx0Y2F0X21hcF9idWZmZXIsXG5cdFx0XHRjb21wYXRfY2F0X21hcF9idWZmZXIsXG5cdFx0XHRpbnZva2VfZGVmX2J1ZmZlcixcblx0XHQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IER5bmFtaWNEaWN0aW9uYXJpZXM7XG4iLCJpbXBvcnQgRHluYW1pY0RpY3Rpb25hcmllcyBmcm9tIFwiLi4vZGljdC9EeW5hbWljRGljdGlvbmFyaWVzXCI7XG5cbi8qKlxuICogUG9seWZpbGwgZm9yIERlY29tcHJlc3Npb25TdHJlYW0gdXNpbmcgQnVuJ3Mgc3luY2hyb25vdXMgZGVjb21wcmVzc2lvbiBmdW5jdGlvbnMuXG4gKi9cbmNsYXNzIEJ1bkRlY29tcHJlc3Npb25TdHJlYW0gZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW08VWludDhBcnJheSwgVWludDhBcnJheT4ge1xuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBEZWNvbXByZXNzaW9uU3RyZWFtIGZvciB0aGUgZ2l2ZW4gZm9ybWF0LlxuXHQgKiBAcGFyYW0gZm9ybWF0IFRoZSBjb21wcmVzc2lvbiBmb3JtYXQgdG8gdXNlIGZvciBkZWNvbXByZXNzaW9uICgnZGVmbGF0ZScsICdkZWZsYXRlLXJhdycsIG9yICdnemlwJykuXG5cdCAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgdGhlIGZvcm1hdCBpcyB1bnN1cHBvcnRlZC5cblx0ICovXG5cdGNvbnN0cnVjdG9yKGZvcm1hdDogQ29tcHJlc3Npb25Gb3JtYXQpIHtcblx0XHRpZiAoIVtcImRlZmxhdGVcIiwgXCJkZWZsYXRlLXJhd1wiLCBcImd6aXBcIl0uaW5jbHVkZXMoZm9ybWF0KSkge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihgVW5zdXBwb3J0ZWQgY29tcHJlc3Npb24gZm9ybWF0OiAke2Zvcm1hdH1gKTtcblx0XHR9XG5cdFx0bGV0IGRhdGE6IFVpbnQ4QXJyYXlcblx0XHRzdXBlcih7XG5cdFx0XHR0cmFuc2Zvcm0oY2h1bmspIHtcblx0XHRcdFx0aWYgKCFkYXRhKSB7XG5cdFx0XHRcdFx0ZGF0YSA9IGNodW5rO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCArIGNodW5rLmxlbmd0aCk7XG5cdFx0XHRcdFx0bmV3RGF0YS5zZXQoZGF0YSk7XG5cdFx0XHRcdFx0bmV3RGF0YS5zZXQoY2h1bmssIGRhdGEubGVuZ3RoKTtcblx0XHRcdFx0XHRkYXRhID0gbmV3RGF0YTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGZsdXNoKGNvbnRyb2xsZXIpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRsZXQgZGVjb21wcmVzc2VkQnVmZmVyOiBVaW50OEFycmF5O1xuXHRcdFx0XHRcdGlmIChmb3JtYXQgPT09ICdnemlwJykge1xuXHRcdFx0XHRcdFx0ZGVjb21wcmVzc2VkQnVmZmVyID0gQnVuLmd1bnppcFN5bmMoZGF0YSk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZWZsYXRlJykge1xuXHRcdFx0XHRcdFx0ZGVjb21wcmVzc2VkQnVmZmVyID0gQnVuLmluZmxhdGVTeW5jKGRhdGEpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZm9ybWF0ID09PSAnZGVmbGF0ZS1yYXcnKSB7XG5cdFx0XHRcdFx0XHQvLyBVc2UgbmVnYXRpdmUgd2luZG93Qml0cyBmb3IgcmF3IGRlZmxhdGUgKG5vIHpsaWIgaGVhZGVyL2Zvb3Rlcilcblx0XHRcdFx0XHRcdGRlY29tcHJlc3NlZEJ1ZmZlciA9IEJ1bi5pbmZsYXRlU3luYyhkYXRhLCB7IHdpbmRvd0JpdHM6IC0xNSB9KTsgLy8gLTE1IGlzIGEgY29tbW9uIHZhbHVlIGZvciByYXcgZGVmbGF0ZVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQvLyBTaG91bGQgbm90IHJlYWNoIGhlcmUgYXMgZm9ybWF0IGlzIHZhbGlkYXRlZCBpbiBjb25zdHJ1Y3RvclxuXHRcdFx0XHRcdFx0Y29udHJvbGxlci5lcnJvcihuZXcgVHlwZUVycm9yKFwiVW5zdXBwb3J0ZWQgY29tcHJlc3Npb24gZm9ybWF0IChpbnRlcm5hbCBlcnJvcilcIikpO1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjb250cm9sbGVyLmVucXVldWUoZGVjb21wcmVzc2VkQnVmZmVyKVxuXHRcdFx0XHR9IGNhdGNoIChlcnJvcjogYW55KSB7IC8vIENhdGNoaW5nICdhbnknIGZvciBicm9hZGVyIGVycm9yIGNhcHR1cmUsIHJlZmluZSBpZiBCdW4ncyBlcnJvcnMgYXJlIHR5cGVkLlxuXHRcdFx0XHRcdGNvbnRyb2xsZXIuZXJyb3IobmV3IFR5cGVFcnJvcihgRGVjb21wcmVzc2lvbiBmYWlsZWQgZm9yIGZvcm1hdCAnJHtmb3JtYXR9Jy5gLCB7IGNhdXNlOiBlcnJvciB9KSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblx0fVxufVxuXG4vLyBFeHBvcnQgdGhlIENvbXByZXNzaW9uRm9ybWF0IGVudW0gYW5kIERlY29tcHJlc3Npb25TdHJlYW0gY2xhc3MgaWYgbmVlZGVkIGZvciBtb2R1bGUgdXNhZ2UuXG5leHBvcnQgdHlwZSBDb21wcmVzc2lvbkZvcm1hdCA9IFwiZGVmbGF0ZVwiIHwgXCJkZWZsYXRlLXJhd1wiIHwgXCJnemlwXCI7XG4vLyBQb2xseWZpbGwgb2YgRGVjb21wcmVzc2lvblN0cmVhbSBmb3IgQnVuXG5nbG9iYWxUaGlzLkRlY29tcHJlc3Npb25TdHJlYW0gPz89IEJ1bkRlY29tcHJlc3Npb25TdHJlYW1cblxuLyoqXG4gKiBEaWN0aW9uYXJ5TG9hZGVyIGJhc2UgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaWNfcGF0aCBEaWN0aW9uYXJ5IHBhdGhcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBEaWN0aW9uYXJ5TG9hZGVyIHtcblx0ZGljOiBEeW5hbWljRGljdGlvbmFyaWVzO1xuXHRkaWNfcGF0aDogc3RyaW5nO1xuXHRjb25zdHJ1Y3RvcihkaWNfcGF0aDogc3RyaW5nKSB7XG5cdFx0dGhpcy5kaWMgPSBuZXcgRHluYW1pY0RpY3Rpb25hcmllcygpO1xuXHRcdHRoaXMuZGljX3BhdGggPSBkaWNfcGF0aDtcblx0fVxuXHRhc3luYyBsb2FkQXJyYXlCdWZmZXIoZmlsZTogc3RyaW5nKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xuXHRcdGxldCBjb21wcmVzc2VkRGF0YTogVWludDhBcnJheTtcblx0XHRpZiAodHlwZW9mIGdsb2JhbFRoaXMuRGVubyAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0Ly8gT2theS4gSSdtIG9uIERlbm8uIExldCdzIGp1c3QgcmVhZCBpdC5cblx0XHRcdGNvbXByZXNzZWREYXRhID0gYXdhaXQgRGVuby5yZWFkRmlsZShmaWxlKTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWxUaGlzLkJ1biAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0Ly8gTm93LCBJJ20gb24gQnVuLiBMZXQncyB1c2UgYEJ1bi5maWxlYC5cblx0XHRcdGNvbXByZXNzZWREYXRhID0gQnVmZmVyLmZyb20oYXdhaXQgQnVuLmZpbGUoZmlsZSkuYXJyYXlCdWZmZXIoKSlcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWxUaGlzLnByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdC8vIFllcCwgSSBndWVzcyBJJ20gb24gTm9kZS4gcmVhZCBmaWxlIGJ5IHVzaW5nIHByb21pc2UhXG5cdFx0XHRjb25zdCBmcyA9IGF3YWl0IGltcG9ydChcIm5vZGU6ZnMvcHJvbWlzZXNcIik7XG5cdFx0XHRjb21wcmVzc2VkRGF0YSA9IGF3YWl0IGZzLnJlYWRGaWxlKGZpbGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBMb29rcyBsaWtlIEknbSBpbiBicm93c2VyLiBMZXQncyBmZXRjaCBpdCFcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmlsZSk7XG5cdFx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoICR7ZmlsZX06ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcblx0XHRcdH1cblx0XHRcdC8vIFdoYXQgdGhlIGhlbGwuLi4gVGhleSBkZWNvbXByZXNzZWQgaXQgYXV0b21hdGljYWxseS4uLlxuXHRcdFx0cmV0dXJuIGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG5cdFx0fVxuXG5cdFx0Ly8gRGVjb21wcmVzcyBnemlwXG5cdFx0Y29uc3QgZHMgPSBuZXcgRGVjb21wcmVzc2lvblN0cmVhbShcImd6aXBcIik7XG5cdFx0Y29uc3QgZGVjb21wcmVzc2VkU3RyZWFtID0gbmV3IEJsb2IoW2NvbXByZXNzZWREYXRhXSlcblx0XHRcdC5zdHJlYW0oKVxuXHRcdFx0LnBpcGVUaHJvdWdoKGRzKTtcblx0XHRjb25zdCBkZWNvbXByZXNzZWREYXRhID0gYXdhaXQgbmV3IFJlc3BvbnNlKFxuXHRcdFx0ZGVjb21wcmVzc2VkU3RyZWFtLFxuXHRcdCkuYXJyYXlCdWZmZXIoKTtcblx0XHRyZXR1cm4gZGVjb21wcmVzc2VkRGF0YVxuXHR9XG5cdC8qKlxuXHQgKiBMb2FkIGRpY3Rpb25hcnkgZmlsZXNcblx0ICovXG5cdGFzeW5jIGxvYWQoKSB7XG5cdFx0Y29uc3QgZGljID0gdGhpcy5kaWM7XG5cdFx0Y29uc3QgZGljX3BhdGggPSB0aGlzLmRpY19wYXRoO1xuXHRcdGNvbnN0IGxvYWRBcnJheUJ1ZmZlciA9IHRoaXMubG9hZEFycmF5QnVmZmVyO1xuXG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoXG5cdFx0XHRbXG5cdFx0XHRcdC8vIFRyaWVcblx0XHRcdFx0YXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdFx0XHRcdFtcImJhc2UuZGF0Lmd6XCIsIFwiY2hlY2suZGF0Lmd6XCJdLm1hcChhc3luYyAoZmlsZW5hbWUpID0+IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGxvYWRBcnJheUJ1ZmZlcihgJHtkaWNfcGF0aH0vJHtmaWxlbmFtZX1gKTtcblx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0Y29uc3QgYmFzZV9idWZmZXIgPSBuZXcgSW50MzJBcnJheShidWZmZXJzWzBdKTtcblx0XHRcdFx0XHRjb25zdCBjaGVja19idWZmZXIgPSBuZXcgSW50MzJBcnJheShidWZmZXJzWzFdKTtcblxuXHRcdFx0XHRcdGRpYy5sb2FkVHJpZShiYXNlX2J1ZmZlciwgY2hlY2tfYnVmZmVyKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Ly8gVG9rZW4gaW5mbyBkaWN0aW9uYXJpZXNcblx0XHRcdFx0YXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdFx0XHRcdFtcInRpZC5kYXQuZ3pcIiwgXCJ0aWRfcG9zLmRhdC5nelwiLCBcInRpZF9tYXAuZGF0Lmd6XCJdLm1hcChcblx0XHRcdFx0XHRcdFx0YXN5bmMgKGZpbGVuYW1lKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGxvYWRBcnJheUJ1ZmZlcihgJHtkaWNfcGF0aH0vJHtmaWxlbmFtZX1gKTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjb25zdCB0b2tlbl9pbmZvX2J1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcnNbMF0pO1xuXHRcdFx0XHRcdGNvbnN0IHBvc19idWZmZXIgPSBuZXcgVWludDhBcnJheShidWZmZXJzWzFdKTtcblx0XHRcdFx0XHRjb25zdCB0YXJnZXRfbWFwX2J1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcnNbMl0pO1xuXG5cdFx0XHRcdFx0ZGljLmxvYWRUb2tlbkluZm9EaWN0aW9uYXJpZXMoXG5cdFx0XHRcdFx0XHR0b2tlbl9pbmZvX2J1ZmZlcixcblx0XHRcdFx0XHRcdHBvc19idWZmZXIsXG5cdFx0XHRcdFx0XHR0YXJnZXRfbWFwX2J1ZmZlcixcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvLyBDb25uZWN0aW9uIGNvc3QgbWF0cml4XG5cdFx0XHRcdGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRjb25zdCBidWZmZXIgPSBhd2FpdCBsb2FkQXJyYXlCdWZmZXIoYCR7ZGljX3BhdGh9L2NjLmRhdC5nemApO1xuXHRcdFx0XHRcdGNvbnN0IGNjX2J1ZmZlciA9IG5ldyBJbnQxNkFycmF5KGJ1ZmZlcik7XG5cdFx0XHRcdFx0ZGljLmxvYWRDb25uZWN0aW9uQ29zdHMoY2NfYnVmZmVyKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0Ly8gVW5rbm93biBkaWN0aW9uYXJpZXNcblx0XHRcdFx0YXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGJ1ZmZlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdFx0XHRcdFtcblx0XHRcdFx0XHRcdFx0XCJ1bmsuZGF0Lmd6XCIsXG5cdFx0XHRcdFx0XHRcdFwidW5rX3Bvcy5kYXQuZ3pcIixcblx0XHRcdFx0XHRcdFx0XCJ1bmtfbWFwLmRhdC5nelwiLFxuXHRcdFx0XHRcdFx0XHRcInVua19jaGFyLmRhdC5nelwiLFxuXHRcdFx0XHRcdFx0XHRcInVua19jb21wYXQuZGF0Lmd6XCIsXG5cdFx0XHRcdFx0XHRcdFwidW5rX2ludm9rZS5kYXQuZ3pcIixcblx0XHRcdFx0XHRcdF0ubWFwKGFzeW5jIChmaWxlbmFtZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbG9hZEFycmF5QnVmZmVyKGAke2RpY19wYXRofS8ke2ZpbGVuYW1lfWApO1xuXHRcdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRjb25zdCB1bmtfYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyc1swXSk7XG5cdFx0XHRcdFx0Y29uc3QgdW5rX3Bvc19idWZmZXIgPSBuZXcgVWludDhBcnJheShidWZmZXJzWzFdKTtcblx0XHRcdFx0XHRjb25zdCB1bmtfbWFwX2J1ZmZlciA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcnNbMl0pO1xuXHRcdFx0XHRcdGNvbnN0IGNhdF9tYXBfYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyc1szXSk7XG5cdFx0XHRcdFx0Y29uc3QgY29tcGF0X2NhdF9tYXBfYnVmZmVyID0gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcnNbNF0pO1xuXHRcdFx0XHRcdGNvbnN0IGludm9rZV9kZWZfYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyc1s1XSk7XG5cblx0XHRcdFx0XHRkaWMubG9hZFVua25vd25EaWN0aW9uYXJpZXMoXG5cdFx0XHRcdFx0XHR1bmtfYnVmZmVyLFxuXHRcdFx0XHRcdFx0dW5rX3Bvc19idWZmZXIsXG5cdFx0XHRcdFx0XHR1bmtfbWFwX2J1ZmZlcixcblx0XHRcdFx0XHRcdGNhdF9tYXBfYnVmZmVyLFxuXHRcdFx0XHRcdFx0Y29tcGF0X2NhdF9tYXBfYnVmZmVyLFxuXHRcdFx0XHRcdFx0aW52b2tlX2RlZl9idWZmZXIsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHQvLyBkaWMubG9hZFVua25vd25EaWN0aW9uYXJpZXMoY2hhcl9idWZmZXIsIHVua19idWZmZXIpO1xuXHRcdFx0XHR9LFxuXHRcdFx0XS5tYXAoKGZ1bmMpID0+IGZ1bmMoKSksXG5cdFx0KTtcblxuXHRcdHJldHVybiBkaWM7XG5cdH1cbn1cblxuLyoqXG4gKiBDYWxsYmFja1xuICogQGNhbGxiYWNrIERpY3Rpb25hcnlMb2FkZXJ+b25Mb2FkXG4gKiBAcGFyYW0ge09iamVjdH0gZXJyIEVycm9yIG9iamVjdFxuICogQHBhcmFtIHtEeW5hbWljRGljdGlvbmFyaWVzfSBkaWMgTG9hZGVkIGRpY3Rpb25hcnlcbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBEaWN0aW9uYXJ5TG9hZGVyO1xuIiwiaW1wb3J0IHR5cGUgeyBUb2tlbiwgRm9ybWF0dGVyIH0gZnJvbSBcIi4vRm9ybWF0dGVyXCI7XG5cbi8qKlxuICogTWFwcGluZ3MgYmV0d2VlbiBJUEFESUMgZGljdGlvbmFyeSBmZWF0dXJlcyBhbmQgdG9rZW5pemVkIHJlc3VsdHNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBJcGFkaWNGb3JtYXR0ZXIgaW1wbGVtZW50cyBGb3JtYXR0ZXIge1xuXHRmb3JtYXRFbnRyeShcblx0XHR3b3JkX2lkOiBudW1iZXIsXG5cdFx0cG9zaXRpb246IG51bWJlcixcblx0XHR0eXBlOiBzdHJpbmcsXG5cdFx0ZmVhdHVyZXM6IHN0cmluZ1tdLFxuXHQpIHtcblx0XHRjb25zdCB0b2tlbjogVG9rZW4gPSB7XG5cdFx0XHR3b3JkX2lkOiB3b3JkX2lkLFxuXHRcdFx0d29yZF90eXBlOiB0eXBlLFxuXHRcdFx0d29yZF9wb3NpdGlvbjogcG9zaXRpb24sXG5cblx0XHRcdHN1cmZhY2VfZm9ybTogZmVhdHVyZXNbMF0sXG5cdFx0XHRwb3M6IGZlYXR1cmVzWzFdLFxuXHRcdFx0cG9zX2RldGFpbF8xOiBmZWF0dXJlc1syXSxcblx0XHRcdHBvc19kZXRhaWxfMjogZmVhdHVyZXNbM10sXG5cdFx0XHRwb3NfZGV0YWlsXzM6IGZlYXR1cmVzWzRdLFxuXHRcdFx0Y29uanVnYXRlZF90eXBlOiBmZWF0dXJlc1s1XSxcblx0XHRcdGNvbmp1Z2F0ZWRfZm9ybTogZmVhdHVyZXNbNl0sXG5cdFx0XHRiYXNpY19mb3JtOiBmZWF0dXJlc1s3XSxcblx0XHRcdHJlYWRpbmc6IGZlYXR1cmVzWzhdLFxuXHRcdFx0cHJvbnVuY2lhdGlvbjogZmVhdHVyZXNbOV0sXG5cdFx0fTtcblxuXHRcdHJldHVybiB0b2tlbjtcblx0fVxuXHRmb3JtYXRVbmtub3duRW50cnkoXG5cdFx0d29yZF9pZDogbnVtYmVyLFxuXHRcdHBvc2l0aW9uOiBudW1iZXIsXG5cdFx0dHlwZTogc3RyaW5nLFxuXHRcdGZlYXR1cmVzOiBzdHJpbmdbXSxcblx0XHRzdXJmYWNlX2Zvcm06IHN0cmluZyxcblx0KSB7XG5cdFx0Y29uc3QgdG9rZW4gPSB7XG5cdFx0XHR3b3JkX2lkOiB3b3JkX2lkLFxuXHRcdFx0d29yZF90eXBlOiB0eXBlLFxuXHRcdFx0d29yZF9wb3NpdGlvbjogcG9zaXRpb24sXG5cblx0XHRcdHN1cmZhY2VfZm9ybTogc3VyZmFjZV9mb3JtLFxuXHRcdFx0cG9zOiBmZWF0dXJlc1sxXSxcblx0XHRcdHBvc19kZXRhaWxfMTogZmVhdHVyZXNbMl0sXG5cdFx0XHRwb3NfZGV0YWlsXzI6IGZlYXR1cmVzWzNdLFxuXHRcdFx0cG9zX2RldGFpbF8zOiBmZWF0dXJlc1s0XSxcblx0XHRcdGNvbmp1Z2F0ZWRfdHlwZTogZmVhdHVyZXNbNV0sXG5cdFx0XHRjb25qdWdhdGVkX2Zvcm06IGZlYXR1cmVzWzZdLFxuXHRcdFx0YmFzaWNfZm9ybTogZmVhdHVyZXNbN10sXG5cdFx0XHQvLyByZWFkaW5nOmZlYXR1cmVzWzhdLFxuXHRcdFx0Ly8gcHJvbnVuY2lhdGlvbjpmZWF0dXJlc1s5XSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHRva2VuO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IElwYWRpY0Zvcm1hdHRlcjtcbiIsImltcG9ydCB0eXBlIHsgRm9ybWF0dGVyLCBUb2tlbiB9IGZyb20gXCIuL0Zvcm1hdHRlclwiO1xuXG4vKipcbiAqIE1hcHBpbmdzIGJldHdlZW4gVW5pZGljIGRpY3Rpb25hcnkgZmVhdHVyZXMgYW5kIHRva2VuaXplZCByZXN1bHRzXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgVW5pZGljRm9ybWF0dGVyIGltcGxlbWVudHMgRm9ybWF0dGVyIHtcblx0Zm9ybWF0RW50cnkoXG5cdFx0d29yZF9pZDogbnVtYmVyLFxuXHRcdHBvc2l0aW9uOiBudW1iZXIsXG5cdFx0dHlwZTogc3RyaW5nLFxuXHRcdGZlYXR1cmVzOiBzdHJpbmdbXSxcblx0KSB7XG5cdFx0Y29uc3QgdG9rZW46IFRva2VuID0ge1xuXHRcdFx0d29yZF9pZDogd29yZF9pZCxcblx0XHRcdHdvcmRfdHlwZTogdHlwZSxcblx0XHRcdHdvcmRfcG9zaXRpb246IHBvc2l0aW9uLFxuXG5cdFx0XHRzdXJmYWNlX2Zvcm06IGZlYXR1cmVzWzFdLFxuXHRcdFx0cG9zOiBmZWF0dXJlc1syXSxcblx0XHRcdHBvc19kZXRhaWxfMTogZmVhdHVyZXNbM10sXG5cdFx0XHRwb3NfZGV0YWlsXzI6IGZlYXR1cmVzWzRdLFxuXHRcdFx0cG9zX2RldGFpbF8zOiBmZWF0dXJlc1s1XSxcblx0XHRcdGNvbmp1Z2F0ZWRfdHlwZTogZmVhdHVyZXNbNl0sXG5cdFx0XHRjb25qdWdhdGVkX2Zvcm06IGZlYXR1cmVzWzddLFxuXHRcdFx0YmFzaWNfZm9ybTogZmVhdHVyZXNbOV0sXG5cdFx0XHRyZWFkaW5nOiBmZWF0dXJlc1s4XSxcblx0XHR9O1xuXG5cdFx0cmV0dXJuIHRva2VuO1xuXHR9XG5cdGZvcm1hdFVua25vd25FbnRyeShcblx0XHR3b3JkX2lkOiBudW1iZXIsXG5cdFx0cG9zaXRpb246IG51bWJlcixcblx0XHR0eXBlOiBzdHJpbmcsXG5cdFx0ZmVhdHVyZXM6IHN0cmluZ1tdLFxuXHRcdHN1cmZhY2VfZm9ybTogc3RyaW5nLFxuXHQpIHtcblx0XHRjb25zdCB0b2tlbiA9IHtcblx0XHRcdHdvcmRfaWQ6IHdvcmRfaWQsXG5cdFx0XHR3b3JkX3R5cGU6IHR5cGUsXG5cdFx0XHR3b3JkX3Bvc2l0aW9uOiBwb3NpdGlvbixcblxuXHRcdFx0c3VyZmFjZV9mb3JtOiBzdXJmYWNlX2Zvcm0sXG5cdFx0XHRwb3M6IGZlYXR1cmVzWzJdLFxuXHRcdFx0cG9zX2RldGFpbF8xOiBmZWF0dXJlc1szXSxcblx0XHRcdHBvc19kZXRhaWxfMjogZmVhdHVyZXNbNF0sXG5cdFx0XHRwb3NfZGV0YWlsXzM6IGZlYXR1cmVzWzVdLFxuXHRcdFx0Y29uanVnYXRlZF90eXBlOiBmZWF0dXJlc1s2XSxcblx0XHRcdGNvbmp1Z2F0ZWRfZm9ybTogZmVhdHVyZXNbN10sXG5cdFx0XHRiYXNpY19mb3JtOiBmZWF0dXJlc1sxMF0sXG5cdFx0XHQvLyByZWFkaW5nOiBmZWF0dXJlc1sxMV0sXG5cdFx0fTtcblxuXHRcdHJldHVybiB0b2tlbjtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBVbmlkaWNGb3JtYXR0ZXI7XG4iLCJpbXBvcnQgVG9rZW5pemVyIGZyb20gXCIuL1Rva2VuaXplclwiO1xuaW1wb3J0IERpY3Rpb25hcnlMb2FkZXIgZnJvbSBcIi4vbG9hZGVyL0RpY3Rpb25hcnlMb2FkZXJcIjtcbmltcG9ydCBJcGFkaWNGb3JtYXR0ZXIgZnJvbSBcIi4vdXRpbC9JcGFkaWNGb3JtYXR0ZXJcIjtcbmltcG9ydCBVbmlkaWNGb3JtYXR0ZXIgZnJvbSBcIi4vdXRpbC9VbmlkaWNGb3JtYXRlclwiO1xuaW1wb3J0IHR5cGUgeyBGb3JtYXR0ZXIgfSBmcm9tIFwiLi91dGlsL0Zvcm1hdHRlclwiO1xuXG50eXBlIGRpY1R5cGUgPSBcIlVuaURpY1wiIHwgXCJJUEFEaWNcIjtcblxuLyoqXG4gKiBUb2tlbml6ZXJCdWlsZGVyIGNyZWF0ZSBUb2tlbml6ZXIgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uIEpTT04gb2JqZWN0IHdoaWNoIGhhdmUga2V5LXZhbHVlIHBhaXJzIHNldHRpbmdzXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uLmRpY1BhdGggRGljdGlvbmFyeSBkaXJlY3RvcnkgcGF0aCAob3IgVVJMIHVzaW5nIGluIGJyb3dzZXIpXG4gKiBAcGFyYW0ge1wiVW5pRGljXCJ8XCJJUEFEaWNcIn0gb3B0aW9uLmRpY1R5cGUgRGljdGlvbmFyeSBkaXJlY3RvcnkgcGF0aCAob3IgVVJMIHVzaW5nIGluIGJyb3dzZXIpXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgVG9rZW5pemVyQnVpbGRlciB7XG5cdGRpY19wYXRoOiBzdHJpbmc7XG5cdGRpY190eXBlOiBkaWNUeXBlO1xuXHRkaWNfZm9ybWF0dGVyOiBSZWNvcmQ8ZGljVHlwZSwgRm9ybWF0dGVyPiA9IHtcblx0XHRVbmlEaWM6IG5ldyBVbmlkaWNGb3JtYXR0ZXIoKSxcblx0XHRJUEFEaWM6IG5ldyBJcGFkaWNGb3JtYXR0ZXIoKSxcblx0fTtcblx0Y29uc3RydWN0b3Iob3B0aW9uOiB7IGRpY1BhdGg/OiBzdHJpbmc7IGRpY1R5cGU/OiBkaWNUeXBlIH0pIHtcblx0XHR0aGlzLmRpY190eXBlID0gb3B0aW9uLmRpY1R5cGUgPz8gXCJJUEFEaWNcIjtcblx0XHR0aGlzLmRpY19wYXRoID0gb3B0aW9uLmRpY1BhdGggPz8gXCJkaWN0L1wiO1xuXHR9XG5cdC8qKlxuXHQgKiBCdWlsZCBUb2tlbml6ZXIgaW5zdGFuY2UgYnkgYXN5bmNocm9ub3VzIG1hbm5lclxuXHQgKi9cblx0YXN5bmMgYnVpbGQoKTogUHJvbWlzZTxUb2tlbml6ZXI+IHtcblx0XHRjb25zdCBsb2FkZXIgPSBuZXcgRGljdGlvbmFyeUxvYWRlcih0aGlzLmRpY19wYXRoKTtcblx0XHRhd2FpdCBsb2FkZXIubG9hZCgpO1xuXHRcdHJldHVybiBuZXcgVG9rZW5pemVyKGxvYWRlci5kaWMsIHRoaXMuZGljX2Zvcm1hdHRlclt0aGlzLmRpY190eXBlXSk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVG9rZW5pemVyQnVpbGRlcjtcbiIsImltcG9ydCB0eXBlIENoYXJhY3RlckNsYXNzIGZyb20gXCIuLi9DaGFyYWN0ZXJDbGFzc1wiO1xuaW1wb3J0IENoYXJhY3RlckRlZmluaXRpb24gZnJvbSBcIi4uL0NoYXJhY3RlckRlZmluaXRpb25cIjtcbmltcG9ydCBJbnZva2VEZWZpbml0aW9uTWFwIGZyb20gXCIuLi9JbnZva2VEZWZpbml0aW9uTWFwXCI7XG5cbmNvbnN0IENBVEVHT1JZX0RFRl9QQVRURVJOID0gL14oXFx3KylcXHMrKFxcZClcXHMrKFxcZClcXHMrKFxcZCkvO1xuY29uc3QgQ0FURUdPUllfTUFQUElOR19QQVRURVJOID1cblx0L14oMHhbMC05QS1GXXs0fSkoPzpcXHMrKFteI1xcc10rKSkoPzpcXHMrKFteI1xcc10rKSkqLztcbmNvbnN0IFJBTkdFX0NBVEVHT1JZX01BUFBJTkdfUEFUVEVSTiA9XG5cdC9eKDB4WzAtOUEtRl17NH0pXFwuXFwuKDB4WzAtOUEtRl17NH0pKD86XFxzKyhbXiNcXHNdKykpKD86XFxzKyhbXiNcXHNdKykpKi87XG5cbi8qKlxuICogQ2hhcmFjdGVyRGVmaW5pdGlvbkJ1aWxkZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBDaGFyYWN0ZXJEZWZpbml0aW9uQnVpbGRlciB7XG5cdGNoYXJfZGVmOiBDaGFyYWN0ZXJEZWZpbml0aW9uO1xuXHRjaGFyYWN0ZXJfY2F0ZWdvcnlfZGVmaW5pdGlvbjogQ2hhcmFjdGVyQ2xhc3NbXTtcblx0Y2F0ZWdvcnlfbWFwcGluZzoge1xuXHRcdHN0YXJ0OiBudW1iZXI7XG5cdFx0ZW5kPzogbnVtYmVyO1xuXHRcdGRlZmF1bHQ6IHN0cmluZztcblx0XHRjb21wYXRpYmxlOiBzdHJpbmdbXTtcblx0fVtdO1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmNoYXJfZGVmID0gbmV3IENoYXJhY3RlckRlZmluaXRpb24oKTtcblx0XHR0aGlzLmNoYXJfZGVmLmludm9rZV9kZWZpbml0aW9uX21hcCA9IG5ldyBJbnZva2VEZWZpbml0aW9uTWFwKCk7XG5cdFx0dGhpcy5jaGFyYWN0ZXJfY2F0ZWdvcnlfZGVmaW5pdGlvbiA9IFtdO1xuXHRcdHRoaXMuY2F0ZWdvcnlfbWFwcGluZyA9IFtdO1xuXHR9XG5cdHB1dExpbmUobGluZTogc3RyaW5nKSB7XG5cdFx0Y29uc3QgcGFyc2VkX2NhdGVnb3J5X2RlZiA9IENBVEVHT1JZX0RFRl9QQVRURVJOLmV4ZWMobGluZSk7XG5cdFx0aWYgKHBhcnNlZF9jYXRlZ29yeV9kZWYgIT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgY2xhc3NfaWQgPSB0aGlzLmNoYXJhY3Rlcl9jYXRlZ29yeV9kZWZpbml0aW9uLmxlbmd0aDtcblx0XHRcdGNvbnN0IGNoYXJfY2xhc3MgPSBDaGFyYWN0ZXJEZWZpbml0aW9uLnBhcnNlQ2hhckNhdGVnb3J5KFxuXHRcdFx0XHRjbGFzc19pZCxcblx0XHRcdFx0cGFyc2VkX2NhdGVnb3J5X2RlZixcblx0XHRcdCk7XG5cdFx0XHRpZiAoY2hhcl9jbGFzcyA9PSBudWxsKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdHRoaXMuY2hhcmFjdGVyX2NhdGVnb3J5X2RlZmluaXRpb24ucHVzaChjaGFyX2NsYXNzKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgcGFyc2VkX2NhdGVnb3J5X21hcHBpbmcgPSBDQVRFR09SWV9NQVBQSU5HX1BBVFRFUk4uZXhlYyhsaW5lKTtcblx0XHRpZiAocGFyc2VkX2NhdGVnb3J5X21hcHBpbmcgIT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgbWFwcGluZyA9IENoYXJhY3RlckRlZmluaXRpb24ucGFyc2VDYXRlZ29yeU1hcHBpbmcoXG5cdFx0XHRcdHBhcnNlZF9jYXRlZ29yeV9tYXBwaW5nLFxuXHRcdFx0KTtcblx0XHRcdHRoaXMuY2F0ZWdvcnlfbWFwcGluZy5wdXNoKG1hcHBpbmcpO1xuXHRcdH1cblx0XHRjb25zdCBwYXJzZWRfcmFuZ2VfY2F0ZWdvcnlfbWFwcGluZyA9XG5cdFx0XHRSQU5HRV9DQVRFR09SWV9NQVBQSU5HX1BBVFRFUk4uZXhlYyhsaW5lKTtcblx0XHRpZiAocGFyc2VkX3JhbmdlX2NhdGVnb3J5X21hcHBpbmcgIT0gbnVsbCkge1xuXHRcdFx0Y29uc3QgcmFuZ2VfbWFwcGluZyA9IENoYXJhY3RlckRlZmluaXRpb24ucGFyc2VSYW5nZUNhdGVnb3J5TWFwcGluZyhcblx0XHRcdFx0cGFyc2VkX3JhbmdlX2NhdGVnb3J5X21hcHBpbmcsXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy5jYXRlZ29yeV9tYXBwaW5nLnB1c2gocmFuZ2VfbWFwcGluZyk7XG5cdFx0fVxuXHR9XG5cdGJ1aWxkKCkge1xuXHRcdC8vIFRPRE8gSWYgREVGQVVMVCBjYXRlZ29yeSBkb2VzIG5vdCBleGlzdCwgdGhyb3cgZXJyb3Jcblx0XHRpZiAoIXRoaXMuY2hhcl9kZWYuaW52b2tlX2RlZmluaXRpb25fbWFwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJpbnZva2VfZGVmaW5pdGlvbl9tYXAgaXMgbm90IGluaXRpYWxpemVkXCIpO1xuXHRcdH1cblx0XHR0aGlzLmNoYXJfZGVmLmludm9rZV9kZWZpbml0aW9uX21hcC5pbml0KFxuXHRcdFx0dGhpcy5jaGFyYWN0ZXJfY2F0ZWdvcnlfZGVmaW5pdGlvbixcblx0XHQpO1xuXHRcdHRoaXMuY2hhcl9kZWYuaW5pdENhdGVnb3J5TWFwcGluZ3ModGhpcy5jYXRlZ29yeV9tYXBwaW5nKTtcblx0XHRyZXR1cm4gdGhpcy5jaGFyX2RlZjtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBDaGFyYWN0ZXJEZWZpbml0aW9uQnVpbGRlcjtcbiIsImltcG9ydCBDb25uZWN0aW9uQ29zdHMgZnJvbSBcIi4uL0Nvbm5lY3Rpb25Db3N0c1wiO1xuXG4vKipcbiAqIEJ1aWxkZXIgY2xhc3MgZm9yIGNvbnN0cnVjdGluZyBDb25uZWN0aW9uQ29zdHMgb2JqZWN0XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuY2xhc3MgQ29ubmVjdGlvbkNvc3RzQnVpbGRlciB7XG5cdGxpbmVzOiBudW1iZXI7XG5cdGNvbm5lY3Rpb25fY29zdD86IENvbm5lY3Rpb25Db3N0cztcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5saW5lcyA9IDA7XG5cdH1cblx0cHV0TGluZShsaW5lOiBzdHJpbmcpIHtcblx0XHRpZiAodGhpcy5saW5lcyA9PT0gMCkge1xuXHRcdFx0Y29uc3QgZGltZW5zaW9ucyA9IGxpbmUuc3BsaXQoXCIgXCIpO1xuXHRcdFx0Y29uc3QgZm9yd2FyZF9kaW1lbnNpb24gPSBOdW1iZXIucGFyc2VJbnQoZGltZW5zaW9uc1swXSk7XG5cdFx0XHRjb25zdCBiYWNrd2FyZF9kaW1lbnNpb24gPSBOdW1iZXIucGFyc2VJbnQoZGltZW5zaW9uc1sxXSk7XG5cblx0XHRcdGlmIChmb3J3YXJkX2RpbWVuc2lvbiA8IDAgfHwgYmFja3dhcmRfZGltZW5zaW9uIDwgMCkge1xuXHRcdFx0XHR0aHJvdyBcIlBhcnNlIGVycm9yIG9mIG1hdHJpeC5kZWZcIjtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5jb25uZWN0aW9uX2Nvc3QgPSBuZXcgQ29ubmVjdGlvbkNvc3RzKFxuXHRcdFx0XHRmb3J3YXJkX2RpbWVuc2lvbixcblx0XHRcdFx0YmFja3dhcmRfZGltZW5zaW9uLFxuXHRcdFx0KTtcblx0XHRcdHRoaXMubGluZXMrKztcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdGNvbnN0IGNvc3RzID0gbGluZS5zcGxpdChcIiBcIik7XG5cblx0XHRpZiAoY29zdHMubGVuZ3RoICE9PSAzKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRjb25zdCBmb3J3YXJkX2lkID0gTnVtYmVyLnBhcnNlSW50KGNvc3RzWzBdKTtcblx0XHRjb25zdCBiYWNrd2FyZF9pZCA9IE51bWJlci5wYXJzZUludChjb3N0c1sxXSk7XG5cdFx0Y29uc3QgY29zdCA9IE51bWJlci5wYXJzZUludChjb3N0c1syXSk7XG5cblx0XHRpZiAoXG5cdFx0XHRmb3J3YXJkX2lkIDwgMCB8fFxuXHRcdFx0YmFja3dhcmRfaWQgPCAwIHx8XG5cdFx0XHQhTnVtYmVyLmlzRmluaXRlKGZvcndhcmRfaWQpIHx8XG5cdFx0XHQhTnVtYmVyLmlzRmluaXRlKGJhY2t3YXJkX2lkKSB8fFxuXHRcdFx0dGhpcy5jb25uZWN0aW9uX2Nvc3Q/LmZvcndhcmRfZGltZW5zaW9uISA8PSBmb3J3YXJkX2lkIHx8XG5cdFx0XHR0aGlzLmNvbm5lY3Rpb25fY29zdD8uYmFja3dhcmRfZGltZW5zaW9uISA8PSBiYWNrd2FyZF9pZFxuXHRcdCkge1xuXHRcdFx0dGhyb3cgXCJQYXJzZSBlcnJvciBvZiBtYXRyaXguZGVmXCI7XG5cdFx0fVxuXG5cdFx0dGhpcy5jb25uZWN0aW9uX2Nvc3Q/LnB1dChmb3J3YXJkX2lkLCBiYWNrd2FyZF9pZCwgY29zdCk7XG5cdFx0dGhpcy5saW5lcysrO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGJ1aWxkKCk6IENvbm5lY3Rpb25Db3N0cyB7XG5cdFx0aWYgKCF0aGlzLmNvbm5lY3Rpb25fY29zdCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQ29ubmVjdGlvbkNvc3RzIGlzIG5vdCBpbml0aWFsaXplZFwiKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY29ubmVjdGlvbl9jb3N0O1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbm5lY3Rpb25Db3N0c0J1aWxkZXI7XG4iLCJpbXBvcnQgeyB0eXBlIERvdWJsZUFycmF5LCBidWlsZGVyIGFzIF9idWlsZGVyIH0gZnJvbSBcIi4uLy4uL3V0aWwvRG91YmxlQXJyYXlcIjtcbmltcG9ydCBEeW5hbWljRGljdGlvbmFyaWVzIGZyb20gXCIuLi9EeW5hbWljRGljdGlvbmFyaWVzXCI7XG5pbXBvcnQgVG9rZW5JbmZvRGljdGlvbmFyeSBmcm9tIFwiLi4vVG9rZW5JbmZvRGljdGlvbmFyeVwiO1xuaW1wb3J0IFVua25vd25EaWN0aW9uYXJ5IGZyb20gXCIuLi9Vbmtub3duRGljdGlvbmFyeVwiO1xuaW1wb3J0IENoYXJhY3RlckRlZmluaXRpb25CdWlsZGVyIGZyb20gXCIuL0NoYXJhY3RlckRlZmluaXRpb25CdWlsZGVyXCI7XG5pbXBvcnQgQ29ubmVjdGlvbkNvc3RzQnVpbGRlciBmcm9tIFwiLi9Db25uZWN0aW9uQ29zdHNCdWlsZGVyXCI7XG5cbi8qKlxuICogQnVpbGQgZGljdGlvbmFyaWVzICh0b2tlbiBpbmZvLCBjb25uZWN0aW9uIGNvc3RzKVxuICpcbiAqIEdlbmVyYXRlcyBmcm9tIG1hdHJpeC5kZWZcbiAqIGNjLmRhdDogQ29ubmVjdGlvbiBjb3N0c1xuICpcbiAqIEdlbmVyYXRlcyBmcm9tICouY3N2XG4gKiBkYXQuZGF0OiBEb3VibGUgYXJyYXlcbiAqIHRpZC5kYXQ6IFRva2VuIGluZm8gZGljdGlvbmFyeVxuICogdGlkX21hcC5kYXQ6IHRhcmdldE1hcFxuICogdGlkX3Bvcy5kYXQ6IHBvc0xpc3QgKHBhcnQgb2Ygc3BlZWNoKVxuICovXG5jbGFzcyBEaWN0aW9uYXJ5QnVpbGRlciB7XG5cdHRpZF9lbnRyaWVzOiBzdHJpbmdbXVtdO1xuXHR1bmtfZW50cmllczogc3RyaW5nW11bXTtcblx0Y2NfYnVpbGRlcjogQ29ubmVjdGlvbkNvc3RzQnVpbGRlcjtcblx0Y2RfYnVpbGRlcjogQ2hhcmFjdGVyRGVmaW5pdGlvbkJ1aWxkZXI7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdC8vIEFycmF5IG9mIGVudHJpZXMsIGVhY2ggZW50cnkgaW4gTWVjYWIgZm9ybVxuXHRcdC8vICgwOiBzdXJmYWNlIGZvcm0sIDE6IGxlZnQgaWQsIDI6IHJpZ2h0IGlkLCAzOiB3b3JkIGNvc3QsIDQ6IHBhcnQgb2Ygc3BlZWNoIGlkLCA1LTogb3RoZXIgZmVhdHVyZXMpXG5cdFx0dGhpcy50aWRfZW50cmllcyA9IFtdO1xuXHRcdHRoaXMudW5rX2VudHJpZXMgPSBbXTtcblx0XHR0aGlzLmNjX2J1aWxkZXIgPSBuZXcgQ29ubmVjdGlvbkNvc3RzQnVpbGRlcigpO1xuXHRcdHRoaXMuY2RfYnVpbGRlciA9IG5ldyBDaGFyYWN0ZXJEZWZpbml0aW9uQnVpbGRlcigpO1xuXHR9XG5cdGFkZFRva2VuSW5mb0RpY3Rpb25hcnkobmV3X2VudHJ5OiBzdHJpbmdbXSkge1xuXHRcdHRoaXMudGlkX2VudHJpZXMucHVzaChuZXdfZW50cnkpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdC8qKlxuXHQgKiBQdXQgb25lIGxpbmUgb2YgXCJtYXRyaXguZGVmXCIgZmlsZSBmb3IgYnVpbGRpbmcgQ29ubmVjdGlvbkNvc3RzIG9iamVjdFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbGluZSBpcyBhIGxpbmUgb2YgXCJtYXRyaXguZGVmXCJcblx0ICovXG5cdHB1dENvc3RNYXRyaXhMaW5lKGxpbmU6IHN0cmluZykge1xuXHRcdHRoaXMuY2NfYnVpbGRlci5wdXRMaW5lKGxpbmUpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdHB1dENoYXJEZWZMaW5lKGxpbmU6IHN0cmluZykge1xuXHRcdHRoaXMuY2RfYnVpbGRlci5wdXRMaW5lKGxpbmUpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdC8qKlxuXHQgKiBQdXQgb25lIGxpbmUgb2YgXCJ1bmsuZGVmXCIgZmlsZSBmb3IgYnVpbGRpbmcgVW5rbm93bkRpY3Rpb25hcnkgb2JqZWN0XG5cdCAqIEBwYXJhbSB7c3RyaW5nW119IG5ld19lbnRyeSBpcyBhIGxpbmUgb2YgXCJ1bmsuZGVmXCJcblx0ICovXG5cdHB1dFVua0RlZkxpbmUobmV3X2VudHJ5OiBzdHJpbmdbXSkge1xuXHRcdHRoaXMudW5rX2VudHJpZXMucHVzaChuZXdfZW50cnkpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cdGJ1aWxkKCkge1xuXHRcdGNvbnN0IGRpY3Rpb25hcmllcyA9IHRoaXMuYnVpbGRUb2tlbkluZm9EaWN0aW9uYXJ5KCk7XG5cdFx0Y29uc3QgdW5rbm93bl9kaWN0aW9uYXJ5ID0gdGhpcy5idWlsZFVua25vd25EaWN0aW9uYXJ5KCk7XG5cblx0XHRyZXR1cm4gbmV3IER5bmFtaWNEaWN0aW9uYXJpZXMoXG5cdFx0XHRkaWN0aW9uYXJpZXMudHJpZSxcblx0XHRcdGRpY3Rpb25hcmllcy50b2tlbl9pbmZvX2RpY3Rpb25hcnksXG5cdFx0XHR0aGlzLmNjX2J1aWxkZXIuYnVpbGQoKSxcblx0XHRcdHVua25vd25fZGljdGlvbmFyeSxcblx0XHQpO1xuXHR9XG5cdC8qKlxuXHQgKiBCdWlsZCBUb2tlbkluZm9EaWN0aW9uYXJ5XG5cdCAqXG5cdCAqIEByZXR1cm5zIHt7dHJpZTogRG91YmxlQXJyYXksIHRva2VuX2luZm9fZGljdGlvbmFyeTogVG9rZW5JbmZvRGljdGlvbmFyeX19XG5cdCAqL1xuXHRidWlsZFRva2VuSW5mb0RpY3Rpb25hcnkoKTogeyB0cmllOiBEb3VibGVBcnJheTsgdG9rZW5faW5mb19kaWN0aW9uYXJ5OiBUb2tlbkluZm9EaWN0aW9uYXJ5OyB9IHtcblx0XHRjb25zdCB0b2tlbl9pbmZvX2RpY3Rpb25hcnkgPSBuZXcgVG9rZW5JbmZvRGljdGlvbmFyeSgpO1xuXG5cdFx0Ly8gdXNpbmcgYXMgaGFzaG1hcCwgc3RyaW5nIC0+IHN0cmluZyAod29yZF9pZCAtPiBzdXJmYWNlX2Zvcm0pIHRvIGJ1aWxkIGRpY3Rpb25hcnlcblx0XHRjb25zdCBkaWN0aW9uYXJ5X2VudHJpZXMgPSB0b2tlbl9pbmZvX2RpY3Rpb25hcnkuYnVpbGREaWN0aW9uYXJ5KFxuXHRcdFx0dGhpcy50aWRfZW50cmllcyxcblx0XHQpO1xuXG5cdFx0Y29uc3QgdHJpZSA9IHRoaXMuYnVpbGREb3VibGVBcnJheSgpO1xuXG5cdFx0Zm9yIChjb25zdCB0b2tlbl9pbmZvX2lkIGluIGRpY3Rpb25hcnlfZW50cmllcykge1xuXHRcdFx0Y29uc3Qgc3VyZmFjZV9mb3JtID0gZGljdGlvbmFyeV9lbnRyaWVzW3Rva2VuX2luZm9faWRdO1xuXHRcdFx0Y29uc3QgdHJpZV9pZCA9IHRyaWUubG9va3VwKHN1cmZhY2VfZm9ybSk7XG5cblx0XHRcdC8vIEFzc2VydGlvblxuXHRcdFx0Ly8gaWYgKHRyaWVfaWQgPCAwKSB7XG5cdFx0XHQvLyAgICAgY29uc29sZS5sb2coXCJOb3QgRm91bmQ6XCIgKyBzdXJmYWNlX2Zvcm0pO1xuXHRcdFx0Ly8gfVxuXHRcdFx0dG9rZW5faW5mb19kaWN0aW9uYXJ5LmFkZE1hcHBpbmcodHJpZV9pZCwgdG9rZW5faW5mb19pZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRyaWU6IHRyaWUsXG5cdFx0XHR0b2tlbl9pbmZvX2RpY3Rpb25hcnk6IHRva2VuX2luZm9fZGljdGlvbmFyeSxcblx0XHR9O1xuXHR9XG5cdGJ1aWxkVW5rbm93bkRpY3Rpb25hcnkoKSB7XG5cdFx0Y29uc3QgdW5rX2RpY3Rpb25hcnkgPSBuZXcgVW5rbm93bkRpY3Rpb25hcnkoKTtcblxuXHRcdC8vIHVzaW5nIGFzIGhhc2htYXAsIHN0cmluZyAtPiBzdHJpbmcgKHdvcmRfaWQgLT4gc3VyZmFjZV9mb3JtKSB0byBidWlsZCBkaWN0aW9uYXJ5XG5cdFx0Y29uc3QgZGljdGlvbmFyeV9lbnRyaWVzID0gdW5rX2RpY3Rpb25hcnkuYnVpbGREaWN0aW9uYXJ5KHRoaXMudW5rX2VudHJpZXMpO1xuXG5cdFx0Y29uc3QgY2hhcl9kZWYgPSB0aGlzLmNkX2J1aWxkZXIuYnVpbGQoKTsgLy8gQ3JlYXRlIENoYXJhY3RlckRlZmluaXRpb25cblxuXHRcdGlmICghY2hhcl9kZWYuaW52b2tlX2RlZmluaXRpb25fbWFwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJpbnZva2VfZGVmaW5pdGlvbl9tYXAgaXMgbm90IGluaXRpYWxpemVkXCIpO1xuXHRcdH1cblxuXHRcdHVua19kaWN0aW9uYXJ5LmNoYXJhY3RlckRlZmluaXRpb24oY2hhcl9kZWYpO1xuXG5cdFx0Zm9yIChjb25zdCB0b2tlbl9pbmZvX2lkIGluIGRpY3Rpb25hcnlfZW50cmllcykge1xuXHRcdFx0Y29uc3QgY2xhc3NfbmFtZSA9IGRpY3Rpb25hcnlfZW50cmllc1t0b2tlbl9pbmZvX2lkXTtcblx0XHRcdGNvbnN0IGNsYXNzX2lkID0gY2hhcl9kZWYuaW52b2tlX2RlZmluaXRpb25fbWFwLmxvb2t1cChjbGFzc19uYW1lKTtcblxuXHRcdFx0Ly8gQXNzZXJ0aW9uXG5cdFx0XHQvLyBpZiAodHJpZV9pZCA8IDApIHtcblx0XHRcdC8vICAgICBjb25zb2xlLmxvZyhcIk5vdCBGb3VuZDpcIiArIHN1cmZhY2VfZm9ybSk7XG5cdFx0XHQvLyB9XG5cdFx0XHR1bmtfZGljdGlvbmFyeS5hZGRNYXBwaW5nKGNsYXNzX2lkLCB0b2tlbl9pbmZvX2lkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdW5rX2RpY3Rpb25hcnk7XG5cdH1cblx0LyoqXG5cdCAqIEJ1aWxkIGRvdWJsZSBhcnJheSB0cmllXG5cdCAqXG5cdCAqIEByZXR1cm5zIHtEb3VibGVBcnJheX0gRG91YmxlLUFycmF5IHRyaWVcblx0ICovXG5cdGJ1aWxkRG91YmxlQXJyYXkoKTogRG91YmxlQXJyYXkge1xuXHRcdGxldCB0cmllX2lkID0gMDtcblx0XHRjb25zdCB3b3JkcyA9IHRoaXMudGlkX2VudHJpZXMubWFwKChlbnRyeSkgPT4ge1xuXHRcdFx0Y29uc3Qgc3VyZmFjZV9mb3JtID0gZW50cnlbMF07XG5cdFx0XHRyZXR1cm4geyBrOiBzdXJmYWNlX2Zvcm0sIHY6IHRyaWVfaWQrKyB9O1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYnVpbGRlciA9IF9idWlsZGVyKDEwMjQgKiAxMDI0KTtcblx0XHRyZXR1cm4gYnVpbGRlci5idWlsZCh3b3Jkcyk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGljdGlvbmFyeUJ1aWxkZXI7XG4iLCJpbXBvcnQgVG9rZW5pemVyQnVpbGRlciBmcm9tIFwiLi9Ub2tlbml6ZXJCdWlsZGVyXCI7XG5pbXBvcnQgRGljdGlvbmFyeUJ1aWxkZXIgZnJvbSBcIi4vZGljdC9idWlsZGVyL0RpY3Rpb25hcnlCdWlsZGVyXCI7XG5cbi8vIFB1YmxpYyBtZXRob2RzXG5jb25zdCBrdXJvbW9qaSA9IHtcblx0YnVpbGRlcjogKG9wdGlvbjogeyBkaWNQYXRoPzogc3RyaW5nOyBkaWNUeXBlPzogXCJVbmlEaWNcIiB8IFwiSVBBRGljXCIgfSkgPT5cblx0XHRuZXcgVG9rZW5pemVyQnVpbGRlcihvcHRpb24pLFxuXHRkaWN0aW9uYXJ5QnVpbGRlcjogKCkgPT4gbmV3IERpY3Rpb25hcnlCdWlsZGVyKCksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBrdXJvbW9qaTtcbiIsImV4cG9ydCBkZWZhdWx0IHt9Il0sIm5hbWVzIjpbIlN1cnJvZ2F0ZUF3YXJlU3RyaW5nIiwic3RyIiwiX19wdWJsaWNGaWVsZCIsInBvcyIsImNoIiwidXRmMTZfY29kZSIsImluZGV4Iiwic3Vycm9nYXRlX2F3YXJlX2luZGV4Iiwic3Vycm9nYXRlX2F3YXJlX3N0YXJ0X2luZGV4Iiwic3Vycm9nYXRlX2F3YXJlX2VuZF9pbmRleCIsInVwcGVyIiwibG93ZXIiLCJWaXRlcmJpTm9kZSIsIm5vZGVfbmFtZSIsIm5vZGVfY29zdCIsInN0YXJ0X3BvcyIsImxlbmd0aCIsInR5cGUiLCJsZWZ0X2lkIiwicmlnaHRfaWQiLCJzdXJmYWNlX2Zvcm0iLCJWaXRlcmJpTGF0dGljZSIsIm5vZGUiLCJsYXN0X3BvcyIsInByZXZfbm9kZXMiLCJsYXN0X2luZGV4IiwiVml0ZXJiaUJ1aWxkZXIiLCJkaWMiLCJzZW50ZW5jZV9zdHIiLCJsYXR0aWNlIiwic2VudGVuY2UiLCJrZXkiLCJ0cmllX2lkIiwid29yZF9jb3N0IiwidGFpbCIsInZvY2FidWxhcnkiLCJuIiwidG9rZW5faW5mb19pZHMiLCJpIiwidG9rZW5faW5mb19pZCIsInN1cnJvZ2F0ZV9hd2FyZV90YWlsIiwiaGVhZF9jaGFyIiwiaGVhZF9jaGFyX2NsYXNzIiwiayIsIm5leHRfY2hhciIsIm5leHRfY2hhcl9jbGFzcyIsInVua19pZHMiLCJqIiwidW5rX2lkIiwiVml0ZXJiaVNlYXJjaGVyIiwiY29ubmVjdGlvbl9jb3N0cyIsImZvZXdhcmRlZF9sYXR0aWNlIiwibm9kZXMiLCJjb3N0Iiwic2hvcnRlc3RfcHJldl9ub2RlIiwicHJldl9ub2RlIiwiZWRnZV9jb3N0IiwiX2Nvc3QiLCJzaG9ydGVzdF9wYXRoIiwibm9kZV9iYWNrIiwiUFVOQ1RVQVRJT04iLCJUb2tlbml6ZXIiLCJmb3JtYXR0ZXIiLCJpbnB1dCIsInNlbnRlbmNlcyIsInRleHQiLCJ0b2tlbnMiLCJiZXN0X3BhdGgiLCJ0b2tlbiIsImZlYXR1cmVzIiwiZmVhdHVyZXNfbGluZSIsIlRFUk1fQ0hBUiIsIlRFUk1fQ09ERSIsIlJPT1RfSUQiLCJOT1RfRk9VTkQiLCJCQVNFX1NJR05FRCIsIkNIRUNLX1NJR05FRCIsIkJBU0VfQllURVMiLCJDSEVDS19CWVRFUyIsIk1FTU9SWV9FWFBBTkRfUkFUSU8iLCJuZXdCQyIsImluaXRpYWxfc2l6ZSIsImluaXRCYXNlIiwiX2Jhc2UiLCJzdGFydCIsImVuZCIsImNoZWNrIiwibGFzdF91c2VkX2lkIiwiaW5pdENoZWNrIiwiX2NoZWNrIiwicmVhbGxvYyIsIm1pbl9zaXplIiwibmV3X3NpemUiLCJiYXNlX25ld19hcnJheSIsIm5ld0FycmF5QnVmZmVyIiwiYmFzZSIsImNoZWNrX25ld19hcnJheSIsImZpcnN0X3VudXNlZF9ub2RlIiwiYmFzZV9idWZmZXIiLCJjaGVja19idWZmZXIiLCJiYXNlX3ZhbHVlIiwiY2hlY2tfdmFsdWUiLCJ1bnVzZWRfY291bnQiLCJzaXplIiwiZHVtcF9iYXNlIiwiZHVtcF9jaGVjayIsIkRvdWJsZUFycmF5QnVpbGRlciIsInJlY29yZCIsImtleXMiLCJzb3J0ZWQiLCJEb3VibGVBcnJheSIsImJ1ZmZfa2V5cyIsInN0cmluZ1RvVXRmOEJ5dGVzIiwiazEiLCJrMiIsImIxIiwiYjIiLCJtaW5fbGVuZ3RoIiwicGFyZW50X2luZGV4IiwicG9zaXRpb24iLCJjaGlsZHJlbl9pbmZvIiwiY2hpbGRfY29kZSIsImNoaWxkX3N0YXJ0IiwiY2hpbGRfbGVuIiwiY2hpbGRfaW5kZXgiLCJjdXJyZW50X2NoYXIiLCJuZXh0X3BvcyIsInBhcmVudF9pZCIsImJjIiwiY29kZSIsImNoaWxkX2lkIiwicHJldl91bnVzZWRfaWQiLCJuZXh0X3VudXNlZF9pZCIsInZhbHVlIiwiY3VyciIsImVtcHR5X2FyZWFfZm91bmQiLCJjYW5kaWRhdGVfaWQiLCJidWZmZXIiLCJwYXJlbnQiLCJjaGlsZCIsInJlc3VsdCIsImdyYW5kX2NoaWxkIiwiciIsInV0ZjhCeXRlc1RvU3RyaW5nIiwiYXJyYXlDb3B5Iiwic2lnbmVkIiwiYnl0ZXMiLCJzcmMiLCJzcmNfb2Zmc2V0IiwiZHN0VTgiLCJzcmNVOCIsInVuaWNvZGVfY29kZSIsImIzIiwiYjQiLCJidWlsZGVyIiwibG9hZCIsIkNvbm5lY3Rpb25Db3N0cyIsImZvcndhcmRfZGltZW5zaW9uIiwiYmFja3dhcmRfZGltZW5zaW9uIiwiZm9yd2FyZF9pZCIsImJhY2t3YXJkX2lkIiwiY29ubmVjdGlvbl9jb3N0c19idWZmZXIiLCJCeXRlQnVmZmVyIiwiYXJnIiwibmV3X2FycmF5IiwiYiIsIm51bSIsImIwIiwiYnVmIiwiVG9rZW5JbmZvRGljdGlvbmFyeSIsImVudHJpZXMiLCJkaWN0aW9uYXJ5X2VudHJpZXMiLCJlbnRyeSIsImZlYXR1cmUiLCJwb3NfaWQiLCJzb3VyY2UiLCJ0YXJnZXQiLCJtYXBwaW5nIiwibWFwX2tleXNfc2l6ZSIsInZhbHVlcyIsIm1hcF92YWx1ZXNfc2l6ZSIsImFycmF5X2J1ZmZlciIsInRva2VuX2luZm9faWRfc3RyIiwiQ2hhcmFjdGVyQ2xhc3MiLCJjbGFzc19pZCIsImNsYXNzX25hbWUiLCJpc19hbHdheXNfaW52b2tlIiwiaXNfZ3JvdXBpbmciLCJtYXhfbGVuZ3RoIiwiSW52b2tlRGVmaW5pdGlvbk1hcCIsImludm9rZV9kZWZfYnVmZmVyIiwiaW52b2tlX2RlZiIsImNoYXJhY3Rlcl9jYXRlZ29yeV9kZWZpbml0aW9uIiwiY2hhcmFjdGVyX2NsYXNzIiwiY2hhcl9jbGFzcyIsIkRFRkFVTFRfQ0FURUdPUlkiLCJDaGFyYWN0ZXJEZWZpbml0aW9uIiwiY2F0X21hcF9idWZmZXIiLCJjb21wYXRfY2F0X21hcF9idWZmZXIiLCJjaGFyX2RlZiIsInBhcnNlZF9jYXRlZ29yeV9kZWYiLCJjYXRlZ29yeSIsImludm9rZSIsImdyb3VwaW5nIiwiaXNfaW52b2tlIiwicGFyc2VkX2NhdGVnb3J5X21hcHBpbmciLCJkZWZhdWx0X2NhdGVnb3J5IiwiY29tcGF0aWJsZV9jYXRlZ29yeSIsImNhdGVnb3J5X21hcHBpbmciLCJjb2RlX3BvaW50IiwiYml0c2V0IiwiY2xhc3NfaWRfYml0IiwiZGVmYXVsdF9pZCIsImNsYXNzZXMiLCJpbnRlZ2VyIiwiYml0IiwiVW5rbm93bkRpY3Rpb25hcnkiLCJjaGFyYWN0ZXJfZGVmaW5pdGlvbiIsInVua19idWZmZXIiLCJ1bmtfcG9zX2J1ZmZlciIsInVua19tYXBfYnVmZmVyIiwiRHluYW1pY0RpY3Rpb25hcmllcyIsInRyaWUiLCJ0b2tlbl9pbmZvX2RpY3Rpb25hcnkiLCJ1bmtub3duX2RpY3Rpb25hcnkiLCJ0b2tlbl9pbmZvX2J1ZmZlciIsInBvc19idWZmZXIiLCJ0YXJnZXRfbWFwX2J1ZmZlciIsImNjX2J1ZmZlciIsIkJ1bkRlY29tcHJlc3Npb25TdHJlYW0iLCJmb3JtYXQiLCJkYXRhIiwiY2h1bmsiLCJuZXdEYXRhIiwiY29udHJvbGxlciIsImRlY29tcHJlc3NlZEJ1ZmZlciIsImVycm9yIiwiRGljdGlvbmFyeUxvYWRlciIsImRpY19wYXRoIiwiZmlsZSIsImNvbXByZXNzZWREYXRhIiwiX192aXRlQnJvd3NlckV4dGVybmFsJDEiLCJyZXNwb25zZSIsImRzIiwiZGVjb21wcmVzc2VkU3RyZWFtIiwibG9hZEFycmF5QnVmZmVyIiwiYnVmZmVycyIsImZpbGVuYW1lIiwiZnVuYyIsIklwYWRpY0Zvcm1hdHRlciIsIndvcmRfaWQiLCJVbmlkaWNGb3JtYXR0ZXIiLCJUb2tlbml6ZXJCdWlsZGVyIiwib3B0aW9uIiwibG9hZGVyIiwiQ0FURUdPUllfREVGX1BBVFRFUk4iLCJDQVRFR09SWV9NQVBQSU5HX1BBVFRFUk4iLCJSQU5HRV9DQVRFR09SWV9NQVBQSU5HX1BBVFRFUk4iLCJDaGFyYWN0ZXJEZWZpbml0aW9uQnVpbGRlciIsImxpbmUiLCJwYXJzZWRfcmFuZ2VfY2F0ZWdvcnlfbWFwcGluZyIsInJhbmdlX21hcHBpbmciLCJDb25uZWN0aW9uQ29zdHNCdWlsZGVyIiwiZGltZW5zaW9ucyIsImNvc3RzIiwiX2EiLCJfYiIsIl9jIiwiRGljdGlvbmFyeUJ1aWxkZXIiLCJuZXdfZW50cnkiLCJkaWN0aW9uYXJpZXMiLCJ1bmtfZGljdGlvbmFyeSIsIndvcmRzIiwiX2J1aWxkZXIiLCJrdXJvbW9qaSJdLCJtYXBwaW5ncyI6ImlZQUtBLE1BQU1BLENBQXFCLENBSTFCLFlBQVlDLEVBQWEsQ0FIekJDLEVBQUEsWUFDQUEsRUFBQSxzQkFDQUEsRUFBQSxlQUVDLEtBQUssSUFBTUQsRUFDWCxLQUFLLGNBQWdCLENBQUMsRUFFdEIsUUFBU0UsRUFBTSxFQUFHQSxFQUFNRixFQUFJLE9BQVFFLElBQU8sQ0FDcEMsTUFBQUMsRUFBS0gsRUFBSSxPQUFPRSxDQUFHLEVBQ3BCLEtBQUEsY0FBYyxLQUFLQSxDQUFHLEVBQ3ZCSCxFQUFxQixnQkFBZ0JJLENBQUUsR0FDMUNELEdBQ0QsQ0FHSSxLQUFBLE9BQVMsS0FBSyxjQUFjLE1BQUEsQ0FFbEMsT0FBTyxnQkFBZ0JDLEVBQVksQ0FDNUIsTUFBQUMsRUFBYUQsRUFBRyxXQUFXLENBQUMsRUFDOUIsT0FBQUMsR0FBYyxPQUFVQSxHQUFjLEtBSW5DLENBRVIsTUFBTUMsRUFBZSxDQUNoQixHQUFBLEtBQUssY0FBYyxRQUFVQSxFQUN6QixNQUFBLEdBRUYsTUFBQUMsRUFBd0IsS0FBSyxjQUFjRCxDQUFLLEVBQy9DLE9BQUEsS0FBSyxJQUFJLE1BQU1DLENBQXFCLENBQUEsQ0FFNUMsT0FBT0QsRUFBZSxDQUNqQixHQUFBLEtBQUssSUFBSSxRQUFVQSxFQUNmLE1BQUEsR0FFRixNQUFBRSxFQUE4QixLQUFLLGNBQWNGLENBQUssRUFDdERHLEVBQTRCLEtBQUssY0FBY0gsRUFBUSxDQUFDLEVBRTlELE9BQUlHLEdBQTZCLEtBQ3pCLEtBQUssSUFBSSxNQUFN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
